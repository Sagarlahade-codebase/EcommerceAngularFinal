!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("okta-angular",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],factory):factory(((global=global||self).ng=global.ng||{},global.ng.oktaAngular={}),global.ng.core,global.ng.common,global.rxjs,global.rxjs.operators)}(this,function(exports,core,common,rxjs,operators){"use strict";var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(c<3?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g={next:verb(0),throw:verb(1),return:verb(2)};return"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,(op=t?[2&op[0],t.value]:op)[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=0<(t=_.trys).length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return{value:(o=o&&i>=o.length?void 0:o)&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}(arguments[i]));return ar}
/**
     * @license Angular v7.2.16
     * (c) 2010-2019 Google LLC. https://angular.io/
     * License: MIT
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var _DOM=null;var nodeContains,DefaultUrlSerializer=function(_super){function GenericBrowserDomAdapter(){var _this=_super.call(this)||this;_this._animationPrefix=null,_this._transitionEnd=null;try{var element_1=_this.createElement("div",document);if(null!=_this.getStyle(element_1,"animationName"))_this._animationPrefix="";else for(var domPrefixes=["Webkit","Moz","O","ms"],i=0;i<domPrefixes.length;i++)if(null!=_this.getStyle(element_1,domPrefixes[i]+"AnimationName")){_this._animationPrefix="-"+domPrefixes[i].toLowerCase()+"-";break}var transEndEventNames_1={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(transEndEventNames_1).forEach(function(key){null!=_this.getStyle(element_1,key)&&(_this._transitionEnd=transEndEventNames_1[key])})}catch(_a){_this._animationPrefix=null,_this._transitionEnd=null}return _this}return __extends(GenericBrowserDomAdapter,_super),GenericBrowserDomAdapter.prototype.getDistributedNodes=function(el){return el.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(el,baseUrl,href){el.href=null==href?baseUrl:baseUrl+"/../"+href},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return this._animationPrefix||""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return this._transitionEnd||""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},GenericBrowserDomAdapter}(function(){function DomAdapter(){this.resourceLoaderType=null}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(value){this._attrToPropMap=value},enumerable:!0,configurable:!0}),DomAdapter}()),_attrToPropMap={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},_keyMap={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"};
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */core["ɵglobal"].Node&&(nodeContains=core["ɵglobal"].Node.prototype.contains||function(node){return!!(16&this.compareDocumentPosition(node))});var urlParsingNode,BrowserDomAdapter=function(_super){function BrowserDomAdapter(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(BrowserDomAdapter,_super),BrowserDomAdapter.prototype.parse=function(templateHtml){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){var adapter;adapter=new BrowserDomAdapter,_DOM=_DOM||adapter},BrowserDomAdapter.prototype.hasProperty=function(element,name){return name in element},BrowserDomAdapter.prototype.setProperty=function(el,name,value){el[name]=value},BrowserDomAdapter.prototype.getProperty=function(el,name){return el[name]},BrowserDomAdapter.prototype.invoke=function(el,methodName,args){el[methodName].apply(el,__spread(args))},BrowserDomAdapter.prototype.logError=function(error){window.console&&(console.error?console.error(error):console.log(error))},BrowserDomAdapter.prototype.log=function(error){window.console&&window.console.log&&window.console.log(error)},BrowserDomAdapter.prototype.logGroup=function(error){window.console&&window.console.group&&window.console.group(error)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.contains=function(nodeA,nodeB){return nodeContains.call(nodeA,nodeB)},BrowserDomAdapter.prototype.querySelector=function(el,selector){return el.querySelector(selector)},BrowserDomAdapter.prototype.querySelectorAll=function(el,selector){return el.querySelectorAll(selector)},BrowserDomAdapter.prototype.on=function(el,evt,listener){el.addEventListener(evt,listener,!1)},BrowserDomAdapter.prototype.onAndCancel=function(el,evt,listener){return el.addEventListener(evt,listener,!1),function(){el.removeEventListener(evt,listener,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(el,evt){el.dispatchEvent(evt)},BrowserDomAdapter.prototype.createMouseEvent=function(eventType){var evt=this.getDefaultDocument().createEvent("MouseEvent");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.createEvent=function(eventType){var evt=this.getDefaultDocument().createEvent("Event");return evt.initEvent(eventType,!0,!0),evt},BrowserDomAdapter.prototype.preventDefault=function(evt){evt.preventDefault(),evt.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(evt){return evt.defaultPrevented||null!=evt.returnValue&&!evt.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(el){return el.innerHTML},BrowserDomAdapter.prototype.getTemplateContent=function(el){return"content"in el&&this.isTemplateElement(el)?el.content:null},BrowserDomAdapter.prototype.getOuterHTML=function(el){return el.outerHTML},BrowserDomAdapter.prototype.nodeName=function(node){return node.nodeName},BrowserDomAdapter.prototype.nodeValue=function(node){return node.nodeValue},BrowserDomAdapter.prototype.type=function(node){return node.type},BrowserDomAdapter.prototype.content=function(node){return this.hasProperty(node,"content")?node.content:node},BrowserDomAdapter.prototype.firstChild=function(el){return el.firstChild},BrowserDomAdapter.prototype.nextSibling=function(el){return el.nextSibling},BrowserDomAdapter.prototype.parentElement=function(el){return el.parentNode},BrowserDomAdapter.prototype.childNodes=function(el){return el.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(el){for(var childNodes=el.childNodes,res=new Array(childNodes.length),i=0;i<childNodes.length;i++)res[i]=childNodes[i];return res},BrowserDomAdapter.prototype.clearNodes=function(el){for(;el.firstChild;)el.removeChild(el.firstChild)},BrowserDomAdapter.prototype.appendChild=function(el,node){el.appendChild(node)},BrowserDomAdapter.prototype.removeChild=function(el,node){el.removeChild(node)},BrowserDomAdapter.prototype.replaceChild=function(el,newChild,oldChild){el.replaceChild(newChild,oldChild)},BrowserDomAdapter.prototype.remove=function(node){return node.parentNode&&node.parentNode.removeChild(node),node},BrowserDomAdapter.prototype.insertBefore=function(parent,ref,node){parent.insertBefore(node,ref)},BrowserDomAdapter.prototype.insertAllBefore=function(parent,ref,nodes){nodes.forEach(function(n){return parent.insertBefore(n,ref)})},BrowserDomAdapter.prototype.insertAfter=function(parent,ref,node){parent.insertBefore(node,ref.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(el,value){el.innerHTML=value},BrowserDomAdapter.prototype.getText=function(el){return el.textContent},BrowserDomAdapter.prototype.setText=function(el,value){el.textContent=value},BrowserDomAdapter.prototype.getValue=function(el){return el.value},BrowserDomAdapter.prototype.setValue=function(el,value){el.value=value},BrowserDomAdapter.prototype.getChecked=function(el){return el.checked},BrowserDomAdapter.prototype.setChecked=function(el,value){el.checked=value},BrowserDomAdapter.prototype.createComment=function(text){return this.getDefaultDocument().createComment(text)},BrowserDomAdapter.prototype.createTemplate=function(html){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=html,t},BrowserDomAdapter.prototype.createElement=function(tagName,doc){return(doc=doc||this.getDefaultDocument()).createElement(tagName)},BrowserDomAdapter.prototype.createElementNS=function(ns,tagName,doc){return(doc=doc||this.getDefaultDocument()).createElementNS(ns,tagName)},BrowserDomAdapter.prototype.createTextNode=function(text,doc){return(doc=doc||this.getDefaultDocument()).createTextNode(text)},BrowserDomAdapter.prototype.createScriptTag=function(attrName,attrValue,el){el=(el=el||this.getDefaultDocument()).createElement("SCRIPT");return el.setAttribute(attrName,attrValue),el},BrowserDomAdapter.prototype.createStyleElement=function(css,doc){var style=(doc=doc||this.getDefaultDocument()).createElement("style");return this.appendChild(style,this.createTextNode(css,doc)),style},BrowserDomAdapter.prototype.createShadowRoot=function(el){return el.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(el){return el.shadowRoot},BrowserDomAdapter.prototype.getHost=function(el){return el.host},BrowserDomAdapter.prototype.clone=function(node){return node.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(element,name){return element.getElementsByClassName(name)},BrowserDomAdapter.prototype.getElementsByTagName=function(element,name){return element.getElementsByTagName(name)},BrowserDomAdapter.prototype.classList=function(element){return Array.prototype.slice.call(element.classList,0)},BrowserDomAdapter.prototype.addClass=function(element,className){element.classList.add(className)},BrowserDomAdapter.prototype.removeClass=function(element,className){element.classList.remove(className)},BrowserDomAdapter.prototype.hasClass=function(element,className){return element.classList.contains(className)},BrowserDomAdapter.prototype.setStyle=function(element,styleName,styleValue){element.style[styleName]=styleValue},BrowserDomAdapter.prototype.removeStyle=function(element,stylename){element.style[stylename]=""},BrowserDomAdapter.prototype.getStyle=function(element,stylename){return element.style[stylename]},BrowserDomAdapter.prototype.hasStyle=function(element,value,styleValue){value=this.getStyle(element,value)||"";return styleValue?value==styleValue:0<value.length},BrowserDomAdapter.prototype.tagName=function(element){return element.tagName},BrowserDomAdapter.prototype.attributeMap=function(element){for(var res=new Map,elAttrs=element.attributes,i=0;i<elAttrs.length;i++){var attrib=elAttrs.item(i);res.set(attrib.name,attrib.value)}return res},BrowserDomAdapter.prototype.hasAttribute=function(element,attribute){return element.hasAttribute(attribute)},BrowserDomAdapter.prototype.hasAttributeNS=function(element,ns,attribute){return element.hasAttributeNS(ns,attribute)},BrowserDomAdapter.prototype.getAttribute=function(element,attribute){return element.getAttribute(attribute)},BrowserDomAdapter.prototype.getAttributeNS=function(element,ns,name){return element.getAttributeNS(ns,name)},BrowserDomAdapter.prototype.setAttribute=function(element,name,value){element.setAttribute(name,value)},BrowserDomAdapter.prototype.setAttributeNS=function(element,ns,name,value){element.setAttributeNS(ns,name,value)},BrowserDomAdapter.prototype.removeAttribute=function(element,attribute){element.removeAttribute(attribute)},BrowserDomAdapter.prototype.removeAttributeNS=function(element,ns,name){element.removeAttributeNS(ns,name)},BrowserDomAdapter.prototype.templateAwareRoot=function(el){return this.isTemplateElement(el)?this.content(el):el},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.getDefaultDocument=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(el){try{return el.getBoundingClientRect()}catch(_a){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(doc){return doc.title},BrowserDomAdapter.prototype.setTitle=function(doc,newTitle){doc.title=newTitle||""},BrowserDomAdapter.prototype.elementMatches=function(n,selector){return!!this.isElementNode(n)&&(n.matches&&n.matches(selector)||n.msMatchesSelector&&n.msMatchesSelector(selector)||n.webkitMatchesSelector&&n.webkitMatchesSelector(selector))},BrowserDomAdapter.prototype.isTemplateElement=function(el){return this.isElementNode(el)&&"TEMPLATE"===el.nodeName},BrowserDomAdapter.prototype.isTextNode=function(node){return node.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(node){return node.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(node){return node.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(node){return null!=node.shadowRoot&&node instanceof HTMLElement},BrowserDomAdapter.prototype.isShadowRoot=function(node){return node instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(node){return document.importNode(this.templateAwareRoot(node),!0)},BrowserDomAdapter.prototype.adoptNode=function(node){return document.adoptNode(node)},BrowserDomAdapter.prototype.getHref=function(el){return el.getAttribute("href")},BrowserDomAdapter.prototype.getEventKey=function(event){var key=event.key;if(null==key){if(null==(key=event.keyIdentifier))return"Unidentified";key.startsWith("U+")&&(key=String.fromCharCode(parseInt(key.substring(2),16)),3===event.location&&_chromeNumKeyPadMap.hasOwnProperty(key)&&(key=_chromeNumKeyPadMap[key]))}return _keyMap[key]||key},BrowserDomAdapter.prototype.getGlobalEventTarget=function(doc,target){return"window"===target?window:"document"===target?doc:"body"===target?doc.body:null},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(doc){var href=function(){if(!baseElement&&!(baseElement=document.querySelector("base")))return null;return baseElement.getAttribute("href")}();return null==href?null:function(url){urlParsingNode=urlParsingNode||document.createElement("a");return urlParsingNode.setAttribute("href",url),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(href)},BrowserDomAdapter.prototype.resetBaseElement=function(){baseElement=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(element,name,value){this.setAttribute(element,"data-"+name,value)},BrowserDomAdapter.prototype.getData=function(element,name){return this.getAttribute(element,"data-"+name)},BrowserDomAdapter.prototype.getComputedStyle=function(element){return getComputedStyle(element)},BrowserDomAdapter.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},BrowserDomAdapter.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},BrowserDomAdapter.prototype.supportsCookies=function(){return!0},BrowserDomAdapter.prototype.getCookie=function(name){return common["ɵparseCookieValue"](document.cookie,name)},BrowserDomAdapter.prototype.setCookie=function(name,value){document.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)},BrowserDomAdapter}(DefaultUrlSerializer),baseElement=null;var DOCUMENT$1=common.DOCUMENT;
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function supportsState(){return window.history.pushState}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var INTERNAL_BROWSER_PLATFORM_PROVIDERS=function(_super){function BrowserPlatformLocation(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this._init(),_this}return __extends(BrowserPlatformLocation,_super),BrowserPlatformLocation.prototype._init=function(){this.location=_DOM.getLocation(),this._history=_DOM.getHistory()},BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return _DOM.getBaseHref(this._doc)},BrowserPlatformLocation.prototype.onPopState=function(fn){_DOM.getGlobalEventTarget(this._doc,"window").addEventListener("popstate",fn,!1)},BrowserPlatformLocation.prototype.onHashChange=function(fn){_DOM.getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",fn,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this.location.pathname},set:function(newPath){this.location.pathname=newPath},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(state,title,url){supportsState()?this._history.pushState(state,title,url):this.location.hash=url},BrowserPlatformLocation.prototype.replaceState=function(state,title,url){supportsState()?this._history.replaceState(state,title,url):this.location.hash=url},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],BrowserPlatformLocation)}(common.PlatformLocation),TRANSITION_ID=new core.InjectionToken("TRANSITION_ID");
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var SERVER_TRANSITION_PROVIDERS=[{provide:core.APP_INITIALIZER,useFactory:function(transitionId,document,injector){return function(){injector.get(core.ApplicationInitStatus).donePromise.then(function(){var dom=_DOM;Array.prototype.slice.apply(dom.querySelectorAll(document,"style[ng-transition]")).filter(function(el){return dom.getAttribute(el,"ng-transition")===transitionId}).forEach(function(el){return dom.remove(el)})})}},deps:[TRANSITION_ID,DOCUMENT$1,core.Injector],multi:!0}],BrowserGetTestability=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){core.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(registry){core["ɵglobal"].getAngularTestability=function(elem,testability){testability=registry.findTestabilityInTree(elem,testability=void 0===testability?!0:testability);if(null==testability)throw new Error("Could not find testability for element.");return testability},core["ɵglobal"].getAllAngularTestabilities=function(){return registry.getAllTestabilities()},core["ɵglobal"].getAllAngularRootElements=function(){return registry.getAllRootElements()};core["ɵglobal"].frameworkStabilizers||(core["ɵglobal"].frameworkStabilizers=[]),core["ɵglobal"].frameworkStabilizers.push(function(callback){function decrement(didWork_){didWork=didWork||didWork_,0==--count&&callback(didWork)}var testabilities=core["ɵglobal"].getAllAngularTestabilities(),count=testabilities.length,didWork=!1;testabilities.forEach(function(testability){testability.whenStable(decrement)})})},BrowserGetTestability.prototype.findTestabilityInTree=function(registry,elem,findInAncestors){if(null==elem)return null;var t=registry.getTestability(elem);return null!=t?t:findInAncestors?_DOM.isShadowRoot(elem)?this.findTestabilityInTree(registry,_DOM.getHost(elem),!0):this.findTestabilityInTree(registry,_DOM.parentElement(elem),!0):null},BrowserGetTestability}();
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function exportNgVar(name,value){"undefined"!=typeof COMPILED&&COMPILED||((core["ɵglobal"].ng=core["ɵglobal"].ng||{})[name]=value)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var CORE_TOKENS={ApplicationRef:core.ApplicationRef,NgZone:core.NgZone};function inspectNativeElement(element){return core.getDebugNode(element)}var RouterLinkActive=[{provide:core.APP_INITIALIZER,useFactory:function(coreTokens){return exportNgVar("probe",inspectNativeElement),exportNgVar("coreTokens",__assign({},CORE_TOKENS,(coreTokens||[]).reduce(function(prev,t){return prev[t.name]=t.token,prev},{}))),function(){return inspectNativeElement}},deps:[[core.NgProbeToken,new core.Optional]],multi:!0}],EVENT_MANAGER_PLUGINS=new core.InjectionToken("EventManagerPlugins"),EventManager=function(){function EventManager(plugins,_zone){var _this=this;this._zone=_zone,this._eventNameToPlugin=new Map,plugins.forEach(function(p){return p.manager=_this}),this._plugins=plugins.slice().reverse()}return EventManager.prototype.addEventListener=function(element,eventName,handler){return this._findPluginFor(eventName).addEventListener(element,eventName,handler)},EventManager.prototype.addGlobalEventListener=function(target,eventName,handler){return this._findPluginFor(eventName).addGlobalEventListener(target,eventName,handler)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(eventName){var plugin=this._eventNameToPlugin.get(eventName);if(plugin)return plugin;for(var plugins=this._plugins,i=0;i<plugins.length;i++){var plugin_1=plugins[i];if(plugin_1.supports(eventName))return this._eventNameToPlugin.set(eventName,plugin_1),plugin_1}throw new Error("No event manager plugin found for event "+eventName)},__decorate([core.Injectable(),__param(0,core.Inject(EVENT_MANAGER_PLUGINS)),__metadata("design:paramtypes",[Array,core.NgZone])],EventManager)}(),RouterOutlet=function(){function EventManagerPlugin(_doc){this._doc=_doc}return EventManagerPlugin.prototype.addGlobalEventListener=function(target,eventName,handler){target=_DOM.getGlobalEventTarget(this._doc,target);if(!target)throw new Error("Unsupported event target "+target+" for event "+eventName);return this.addEventListener(target,eventName,handler)},EventManagerPlugin}(),UrlHandlingStrategy=function(){function SharedStylesHost(){this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(styles){var _this=this,additions=new Set;styles.forEach(function(style){_this._stylesSet.has(style)||(_this._stylesSet.add(style),additions.add(style))}),this.onStylesAdded(additions)},SharedStylesHost.prototype.onStylesAdded=function(additions){},SharedStylesHost.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},__decorate([core.Injectable()],SharedStylesHost)}(),DomSharedStylesHost=function(_super){function DomSharedStylesHost(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this._hostNodes=new Set,_this._styleNodes=new Set,_this._hostNodes.add(_doc.head),_this}return __extends(DomSharedStylesHost,_super),DomSharedStylesHost.prototype._addStylesToHost=function(styles,host){var _this=this;styles.forEach(function(style){var styleEl=_this._doc.createElement("style");styleEl.textContent=style,_this._styleNodes.add(host.appendChild(styleEl))})},DomSharedStylesHost.prototype.addHost=function(hostNode){this._addStylesToHost(this._stylesSet,hostNode),this._hostNodes.add(hostNode)},DomSharedStylesHost.prototype.removeHost=function(hostNode){this._hostNodes.delete(hostNode)},DomSharedStylesHost.prototype.onStylesAdded=function(additions){var _this=this;this._hostNodes.forEach(function(hostNode){return _this._addStylesToHost(additions,hostNode)})},DomSharedStylesHost.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(styleNode){return _DOM.remove(styleNode)})},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],DomSharedStylesHost)}(UrlHandlingStrategy),NAMESPACE_URIS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},COMPONENT_REGEX=/%COMP%/g,HOST_ATTR="_nghost-%COMP%",CONTENT_ATTR="_ngcontent-%COMP%";
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function flattenStyles(compId,styles,target){for(var i=0;i<styles.length;i++){var style=styles[i];Array.isArray(style)?flattenStyles(compId,style,target):(style=style.replace(COMPONENT_REGEX,compId),target.push(style))}return target}function decoratePreventDefault(eventHandler){return function(event){!1===eventHandler(event)&&(event.preventDefault(),event.returnValue=!1)}}var RouteReuseStrategy=function(){function DomRendererFactory2(eventManager,sharedStylesHost,appId){this.eventManager=eventManager,this.sharedStylesHost=sharedStylesHost,this.appId=appId,this.rendererByCompId=new Map,this.defaultRenderer=new DefaultDomRenderer2(eventManager)}return DomRendererFactory2.prototype.createRenderer=function(element,type){if(!element||!type)return this.defaultRenderer;switch(type.encapsulation){case core.ViewEncapsulation.Emulated:var styles=this.rendererByCompId.get(type.id);return styles||(styles=new EmulatedEncapsulationDomRenderer2(this.eventManager,this.sharedStylesHost,type,this.appId),this.rendererByCompId.set(type.id,styles)),styles.applyToHost(element),styles;case core.ViewEncapsulation.Native:case core.ViewEncapsulation.ShadowDom:return new ShadowDomRenderer(this.eventManager,this.sharedStylesHost,element,type);default:return this.rendererByCompId.has(type.id)||(styles=flattenStyles(type.id,type.styles,[]),this.sharedStylesHost.addStyles(styles),this.rendererByCompId.set(type.id,this.defaultRenderer)),this.defaultRenderer}},DomRendererFactory2.prototype.begin=function(){},DomRendererFactory2.prototype.end=function(){},__decorate([core.Injectable(),__param(2,core.Inject(core.APP_ID)),__metadata("design:paramtypes",[EventManager,DomSharedStylesHost,String])],DomRendererFactory2)}(),DefaultDomRenderer2=function(){function DefaultDomRenderer2(eventManager){this.eventManager=eventManager,this.data=Object.create(null)}return DefaultDomRenderer2.prototype.destroy=function(){},DefaultDomRenderer2.prototype.createElement=function(name,namespace){return namespace?document.createElementNS(NAMESPACE_URIS[namespace],name):document.createElement(name)},DefaultDomRenderer2.prototype.createComment=function(value){return document.createComment(value)},DefaultDomRenderer2.prototype.createText=function(value){return document.createTextNode(value)},DefaultDomRenderer2.prototype.appendChild=function(parent,newChild){parent.appendChild(newChild)},DefaultDomRenderer2.prototype.insertBefore=function(parent,newChild,refChild){parent&&parent.insertBefore(newChild,refChild)},DefaultDomRenderer2.prototype.removeChild=function(parent,oldChild){parent&&parent.removeChild(oldChild)},DefaultDomRenderer2.prototype.selectRootElement=function(selectorOrNode,preserveContent){var el="string"==typeof selectorOrNode?document.querySelector(selectorOrNode):selectorOrNode;if(!el)throw new Error('The selector "'+selectorOrNode+'" did not match any elements');return preserveContent||(el.textContent=""),el},DefaultDomRenderer2.prototype.parentNode=function(node){return node.parentNode},DefaultDomRenderer2.prototype.nextSibling=function(node){return node.nextSibling},DefaultDomRenderer2.prototype.setAttribute=function(el,name,value,namespaceUri){namespaceUri?(name=namespaceUri+":"+name,(namespaceUri=NAMESPACE_URIS[namespaceUri])?el.setAttributeNS(namespaceUri,name,value):el.setAttribute(name,value)):el.setAttribute(name,value)},DefaultDomRenderer2.prototype.removeAttribute=function(el,name,namespace){var namespaceUri;namespace?(namespaceUri=NAMESPACE_URIS[namespace])?el.removeAttributeNS(namespaceUri,name):el.removeAttribute(namespace+":"+name):el.removeAttribute(name)},DefaultDomRenderer2.prototype.addClass=function(el,name){el.classList.add(name)},DefaultDomRenderer2.prototype.removeClass=function(el,name){el.classList.remove(name)},DefaultDomRenderer2.prototype.setStyle=function(el,style,value,flags){flags&core.RendererStyleFlags2.DashCase?el.style.setProperty(style,value,flags&core.RendererStyleFlags2.Important?"important":""):el.style[style]=value},DefaultDomRenderer2.prototype.removeStyle=function(el,style,flags){flags&core.RendererStyleFlags2.DashCase?el.style.removeProperty(style):el.style[style]=""},DefaultDomRenderer2.prototype.setProperty=function(el,name,value){checkNoSyntheticProp(name,"property"),el[name]=value},DefaultDomRenderer2.prototype.setValue=function(node,value){node.nodeValue=value},DefaultDomRenderer2.prototype.listen=function(target,event,callback){return checkNoSyntheticProp(event,"listener"),"string"==typeof target?this.eventManager.addGlobalEventListener(target,event,decoratePreventDefault(callback)):this.eventManager.addEventListener(target,event,decoratePreventDefault(callback))},DefaultDomRenderer2}(),AT_CHARCODE="@".charCodeAt(0);function checkNoSyntheticProp(name,nameKind){if(name.charCodeAt(0)===AT_CHARCODE)throw new Error("Found the synthetic "+nameKind+" "+name+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var blackListedMap,EmulatedEncapsulationDomRenderer2=function(_super){function EmulatedEncapsulationDomRenderer2(componentShortId,sharedStylesHost,component,appId){var _this=_super.call(this,componentShortId)||this,componentShortId=flattenStyles(appId+"-"+(_this.component=component).id,component.styles,[]);return sharedStylesHost.addStyles(componentShortId),_this.contentAttr=(componentShortId=appId+"-"+component.id,CONTENT_ATTR.replace(COMPONENT_REGEX,componentShortId)),_this.hostAttr=function(componentShortId){return HOST_ATTR.replace(COMPONENT_REGEX,componentShortId)}(appId+"-"+component.id),_this}return __extends(EmulatedEncapsulationDomRenderer2,_super),EmulatedEncapsulationDomRenderer2.prototype.applyToHost=function(element){_super.prototype.setAttribute.call(this,element,this.hostAttr,"")},EmulatedEncapsulationDomRenderer2.prototype.createElement=function(parent,el){el=_super.prototype.createElement.call(this,parent,el);return _super.prototype.setAttribute.call(this,el,this.contentAttr,""),el},EmulatedEncapsulationDomRenderer2}(DefaultDomRenderer2),ShadowDomRenderer=function(_super){function ShadowDomRenderer(eventManager,sharedStylesHost,hostEl,component){var _this=_super.call(this,eventManager)||this;_this.sharedStylesHost=sharedStylesHost,_this.hostEl=hostEl,(_this.component=component).encapsulation===core.ViewEncapsulation.ShadowDom?_this.shadowRoot=hostEl.attachShadow({mode:"open"}):_this.shadowRoot=hostEl.createShadowRoot(),_this.sharedStylesHost.addHost(_this.shadowRoot);for(var styles=flattenStyles(component.id,component.styles,[]),i=0;i<styles.length;i++){var styleEl=document.createElement("style");styleEl.textContent=styles[i],_this.shadowRoot.appendChild(styleEl)}return _this}return __extends(ShadowDomRenderer,_super),ShadowDomRenderer.prototype.nodeOrShadowRoot=function(node){return node===this.hostEl?this.shadowRoot:node},ShadowDomRenderer.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},ShadowDomRenderer.prototype.appendChild=function(parent,newChild){return _super.prototype.appendChild.call(this,this.nodeOrShadowRoot(parent),newChild)},ShadowDomRenderer.prototype.insertBefore=function(parent,newChild,refChild){return _super.prototype.insertBefore.call(this,this.nodeOrShadowRoot(parent),newChild,refChild)},ShadowDomRenderer.prototype.removeChild=function(parent,oldChild){return _super.prototype.removeChild.call(this,this.nodeOrShadowRoot(parent),oldChild)},ShadowDomRenderer.prototype.parentNode=function(node){return this.nodeOrShadowRoot(_super.prototype.parentNode.call(this,this.nodeOrShadowRoot(node)))},ShadowDomRenderer}(DefaultDomRenderer2),__symbol__="undefined"!=typeof Zone&&Zone.__symbol__||function(v){return"__zone_symbol__"+v},ADD_EVENT_LISTENER=__symbol__("addEventListener"),REMOVE_EVENT_LISTENER=__symbol__("removeEventListener"),symbolNames={},stopSymbol="__zone_symbol__propagationStopped",DomSanitizer="undefined"!=typeof Zone&&Zone[__symbol__("BLACK_LISTED_EVENTS")];DomSanitizer&&(blackListedMap={},DomSanitizer.forEach(function(eventName){blackListedMap[eventName]=eventName}));function isBlackListedEvent(eventName){return!!blackListedMap&&blackListedMap.hasOwnProperty(eventName)}function globalListener(event){var taskDatas=symbolNames[event.type];if(taskDatas){taskDatas=this[taskDatas];if(taskDatas){var args=[event];if(1===taskDatas.length)return(taskData=taskDatas[0]).zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args);for(var taskData,copiedTasks=taskDatas.slice(),i=0;i<copiedTasks.length&&!0!==event[stopSymbol];i++)(taskData=copiedTasks[i]).zone!==Zone.current?taskData.zone.run(taskData.handler,this,args):taskData.handler.apply(this,args)}}}var UrlSerializer=function(_super){function DomEventsPlugin(_this,ngZone,platformId){_this=_super.call(this,_this)||this;return _this.ngZone=ngZone,platformId&&common.isPlatformServer(platformId)||_this.patchEvent(),_this}return __extends(DomEventsPlugin,_super),DomEventsPlugin.prototype.patchEvent=function(){var delegate;"undefined"!=typeof Event&&Event&&Event.prototype&&(Event.prototype.__zone_symbol__stopImmediatePropagation||(delegate=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation,Event.prototype.stopImmediatePropagation=function(){this&&(this[stopSymbol]=!0),delegate&&delegate.apply(this,arguments)}))},DomEventsPlugin.prototype.supports=function(eventName){return!0},DomEventsPlugin.prototype.addEventListener=function(element,eventName,zone){var _this=this,globalListenerRegistered=element[ADD_EVENT_LISTENER],callback=zone;if(!globalListenerRegistered||core.NgZone.isInAngularZone()&&!isBlackListedEvent(eventName))element.addEventListener(eventName,callback,!1);else{var zone=(zone=symbolNames[eventName])||(symbolNames[eventName]=__symbol__("ANGULAR"+eventName+"FALSE")),globalListenerRegistered=(taskDatas=element[zone])&&0<taskDatas.length,taskDatas=taskDatas||(element[zone]=[]),zone=isBlackListedEvent(eventName)?Zone.root:Zone.current;if(0===taskDatas.length)taskDatas.push({zone:zone,handler:callback});else{for(var callbackRegistered=!1,i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){callbackRegistered=!0;break}callbackRegistered||taskDatas.push({zone:zone,handler:callback})}globalListenerRegistered||element[ADD_EVENT_LISTENER](eventName,globalListener,!1)}return function(){return _this.removeEventListener(element,eventName,callback)}},DomEventsPlugin.prototype.removeEventListener=function(target,eventName,callback){var underlyingRemove=target[REMOVE_EVENT_LISTENER];if(!underlyingRemove)return target.removeEventListener.apply(target,[eventName,callback,!1]);var symbolName=symbolNames[eventName],taskDatas=symbolName&&target[symbolName];if(!taskDatas)return target.removeEventListener.apply(target,[eventName,callback,!1]);for(var found=!1,i=0;i<taskDatas.length;i++)if(taskDatas[i].handler===callback){found=!0,taskDatas.splice(i,1);break}found?0===taskDatas.length&&underlyingRemove.apply(target,[eventName,globalListener,!1]):target.removeEventListener.apply(target,[eventName,callback,!1])},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__param(2,core.Optional()),__param(2,core.Inject(core.PLATFORM_ID)),__metadata("design:paramtypes",[Object,core.NgZone,Object])],DomEventsPlugin)}(RouterOutlet),EVENT_NAMES={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HAMMER_GESTURE_CONFIG=new core.InjectionToken("HammerGestureConfig"),HAMMER_LOADER=new core.InjectionToken("HammerLoader"),HammerGestureConfig=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(element){var eventName,mc=new Hammer(element,this.options);for(eventName in mc.get("pinch").set({enable:!0}),mc.get("rotate").set({enable:!0}),this.overrides)mc.get(eventName).set(this.overrides[eventName]);return mc},__decorate([core.Injectable()],HammerGestureConfig)}(),OktaAuthModule=function(_super){function HammerGesturesPlugin(_this,_config,console,loader){_this=_super.call(this,_this)||this;return _this._config=_config,_this.console=console,_this.loader=loader,_this}return __extends(HammerGesturesPlugin,_super),HammerGesturesPlugin.prototype.supports=function(eventName){return!(!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase())&&!this.isCustomEvent(eventName))&&(!(!window.Hammer&&!this.loader)||(this.console.warn('The "'+eventName+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),!1))},HammerGesturesPlugin.prototype.addEventListener=function(element,eventName,handler){var _this=this,zone=this.manager.getZone();if(eventName=eventName.toLowerCase(),window.Hammer||!this.loader)return zone.runOutsideAngular(function(){function callback(eventObj){zone.runGuarded(function(){handler(eventObj)})}var mc=_this._config.buildHammer(element);return mc.on(eventName,callback),function(){mc.off(eventName,callback),"function"==typeof mc.destroy&&mc.destroy()}});var cancelRegistration_1=!1,deregister_1=function(){cancelRegistration_1=!0};return this.loader().then(function(){return window.Hammer?void(cancelRegistration_1||(deregister_1=_this.addEventListener(element,eventName,handler))):(_this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(deregister_1=function(){}))}).catch(function(){_this.console.warn('The "'+eventName+'" event cannot be bound because the custom Hammer.JS loader failed.'),deregister_1=function(){}}),function(){deregister_1()}},HammerGesturesPlugin.prototype.isCustomEvent=function(eventName){return-1<this._config.events.indexOf(eventName)},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__param(1,core.Inject(HAMMER_GESTURE_CONFIG)),__param(3,core.Optional()),__param(3,core.Inject(HAMMER_LOADER)),__metadata("design:paramtypes",[Object,HammerGestureConfig,core["ɵConsole"],Object])],HammerGesturesPlugin)}(RouterOutlet),MODIFIER_KEYS=["alt","control","meta","shift"],MODIFIER_KEY_GETTERS={alt:function(event){return event.altKey},control:function(event){return event.ctrlKey},meta:function(event){return event.metaKey},shift:function(event){return event.shiftKey}},DefaultUrlSerializer=function(_super){function KeyEventsPlugin(doc){return _super.call(this,doc)||this}var KeyEventsPlugin_1;return __extends(KeyEventsPlugin,_super),(KeyEventsPlugin_1=KeyEventsPlugin).prototype.supports=function(eventName){return null!=KeyEventsPlugin_1.parseEventName(eventName)},KeyEventsPlugin.prototype.addEventListener=function(element,eventName,handler){var parsedEvent=KeyEventsPlugin_1.parseEventName(eventName),outsideHandler=KeyEventsPlugin_1.eventCallback(parsedEvent.fullKey,handler,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return _DOM.onAndCancel(element,parsedEvent.domEventName,outsideHandler)})},KeyEventsPlugin.parseEventName=function(result){var parts=result.toLowerCase().split("."),domEventName=parts.shift();if(0===parts.length||"keydown"!==domEventName&&"keyup"!==domEventName)return null;var result=KeyEventsPlugin_1._normalizeKey(parts.pop()),fullKey="";if(MODIFIER_KEYS.forEach(function(modifierName){var index=parts.indexOf(modifierName);-1<index&&(parts.splice(index,1),fullKey+=modifierName+".")}),fullKey+=result,0!=parts.length||0===result.length)return null;result={};return result.domEventName=domEventName,result.fullKey=fullKey,result},KeyEventsPlugin.getEventFullKey=function(event){var fullKey="",key=_DOM.getEventKey(event);return" "===(key=key.toLowerCase())?key="space":"."===key&&(key="dot"),MODIFIER_KEYS.forEach(function(modifierName){modifierName!=key&&(0,MODIFIER_KEY_GETTERS[modifierName])(event)&&(fullKey+=modifierName+".")}),fullKey+=key},KeyEventsPlugin.eventCallback=function(fullKey,handler,zone){return function(event){KeyEventsPlugin_1.getEventFullKey(event)===fullKey&&zone.runGuarded(function(){return handler(event)})}},KeyEventsPlugin._normalizeKey=function(keyName){return"esc"!==keyName?keyName:"escape"},KeyEventsPlugin_1=__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],KeyEventsPlugin)}(RouterOutlet),DomSanitizer=function(){},RouterOutlet=function(_super){function DomSanitizerImpl(_doc){var _this=_super.call(this)||this;return _this._doc=_doc,_this}return __extends(DomSanitizerImpl,_super),DomSanitizerImpl.prototype.sanitize=function(ctx,value){if(null==value)return null;switch(ctx){case core.SecurityContext.NONE:return value;case core.SecurityContext.HTML:return value instanceof SafeHtmlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"HTML"),core["ɵ_sanitizeHtml"](this._doc,String(value)));case core.SecurityContext.STYLE:return value instanceof SafeStyleImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"Style"),core["ɵ_sanitizeStyle"](value));case core.SecurityContext.SCRIPT:if(value instanceof SafeScriptImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"Script"),new Error("unsafe value used in a script context");case core.SecurityContext.URL:return value instanceof SafeResourceUrlImpl||value instanceof SafeUrlImpl?value.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(value,"URL"),core["ɵ_sanitizeUrl"](String(value)));case core.SecurityContext.RESOURCE_URL:if(value instanceof SafeResourceUrlImpl)return value.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(value,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+ctx+" (see http://g.co/ng/security#xss)")}},DomSanitizerImpl.prototype.checkNotSafeValue=function(value,expectedType){if(value instanceof SafeValueImpl)throw new Error("Required a safe "+expectedType+", got a "+value.getTypeName()+" (see http://g.co/ng/security#xss)")},DomSanitizerImpl.prototype.bypassSecurityTrustHtml=function(value){return new SafeHtmlImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustStyle=function(value){return new SafeStyleImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustScript=function(value){return new SafeScriptImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustUrl=function(value){return new SafeUrlImpl(value)},DomSanitizerImpl.prototype.bypassSecurityTrustResourceUrl=function(value){return new SafeResourceUrlImpl(value)},__decorate([core.Injectable(),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],DomSanitizerImpl)}(DomSanitizer),SafeValueImpl=function(){function SafeValueImpl(changingThisBreaksApplicationSecurity){this.changingThisBreaksApplicationSecurity=changingThisBreaksApplicationSecurity}return SafeValueImpl.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},SafeValueImpl}(),SafeHtmlImpl=function(_super){function SafeHtmlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeHtmlImpl,_super),SafeHtmlImpl.prototype.getTypeName=function(){return"HTML"},SafeHtmlImpl}(SafeValueImpl),SafeStyleImpl=function(_super){function SafeStyleImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeStyleImpl,_super),SafeStyleImpl.prototype.getTypeName=function(){return"Style"},SafeStyleImpl}(SafeValueImpl),SafeScriptImpl=function(_super){function SafeScriptImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeScriptImpl,_super),SafeScriptImpl.prototype.getTypeName=function(){return"Script"},SafeScriptImpl}(SafeValueImpl),SafeUrlImpl=function(_super){function SafeUrlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeUrlImpl,_super),SafeUrlImpl.prototype.getTypeName=function(){return"URL"},SafeUrlImpl}(SafeValueImpl),SafeResourceUrlImpl=function(_super){function SafeResourceUrlImpl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SafeResourceUrlImpl,_super),SafeResourceUrlImpl.prototype.getTypeName=function(){return"ResourceURL"},SafeResourceUrlImpl}(SafeValueImpl),INTERNAL_BROWSER_PLATFORM_PROVIDERS=[{provide:core.PLATFORM_ID,useValue:common["ɵPLATFORM_BROWSER_ID"]},{provide:core.PLATFORM_INITIALIZER,useValue:function(){BrowserDomAdapter.makeCurrent(),BrowserGetTestability.init()},multi:!0},{provide:common.PlatformLocation,useClass:INTERNAL_BROWSER_PLATFORM_PROVIDERS,deps:[DOCUMENT$1]},{provide:DOCUMENT$1,useFactory:function(){return document},deps:[]}],RouterOutlet=[{provide:core.Sanitizer,useExisting:DomSanitizer},{provide:DomSanitizer,useClass:RouterOutlet,deps:[DOCUMENT$1]}];core.createPlatformFactory(core.platformCore,"browser",INTERNAL_BROWSER_PLATFORM_PROVIDERS);var BROWSER_MODULE_PROVIDERS=[RouterOutlet,{provide:core["ɵAPP_ROOT"],useValue:!0},{provide:core.ErrorHandler,useFactory:function(){return new core.ErrorHandler},deps:[]},{provide:EVENT_MANAGER_PLUGINS,useClass:UrlSerializer,multi:!0,deps:[DOCUMENT$1,core.NgZone,core.PLATFORM_ID]},{provide:EVENT_MANAGER_PLUGINS,useClass:DefaultUrlSerializer,multi:!0,deps:[DOCUMENT$1]},{provide:EVENT_MANAGER_PLUGINS,useClass:OktaAuthModule,multi:!0,deps:[DOCUMENT$1,HAMMER_GESTURE_CONFIG,core["ɵConsole"],[new core.Optional,HAMMER_LOADER]]},{provide:HAMMER_GESTURE_CONFIG,useClass:HammerGestureConfig,deps:[]},{provide:RouteReuseStrategy,useClass:RouteReuseStrategy,deps:[EventManager,DomSharedStylesHost,core.APP_ID]},{provide:core.RendererFactory2,useExisting:RouteReuseStrategy},{provide:UrlHandlingStrategy,useExisting:DomSharedStylesHost},{provide:DomSharedStylesHost,useClass:DomSharedStylesHost,deps:[DOCUMENT$1]},{provide:core.Testability,useClass:core.Testability,deps:[core.NgZone]},{provide:EventManager,useClass:EventManager,deps:[EVENT_MANAGER_PLUGINS,core.NgZone]},RouterLinkActive];!function(){function BrowserModule(parentModule){if(parentModule)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var BrowserModule_1=BrowserModule;BrowserModule.withServerTransition=function(params){return{ngModule:BrowserModule_1,providers:[{provide:core.APP_ID,useValue:params.appId},{provide:TRANSITION_ID,useExisting:core.APP_ID},SERVER_TRANSITION_PROVIDERS]}},BrowserModule_1=__decorate([core.NgModule({providers:BROWSER_MODULE_PROVIDERS,exports:[common.CommonModule,core.ApplicationModule]}),__param(0,core.Optional()),__param(0,core.SkipSelf()),__param(0,core.Inject(BrowserModule_1)),__metadata("design:paramtypes",[Object])],BrowserModule)}();function createMeta(){return new Meta(core.inject(DOCUMENT$1))}var Meta=function(){function Meta(_doc){this._doc=_doc,this._dom=_DOM}return Meta.prototype.addTag=function(tag,forceCreation){return void 0===forceCreation&&(forceCreation=!1),tag?this._getOrCreateElement(tag,forceCreation):null},Meta.prototype.addTags=function(tags,forceCreation){var _this=this;return void 0===forceCreation&&(forceCreation=!1),tags?tags.reduce(function(result,tag){return tag&&result.push(_this._getOrCreateElement(tag,forceCreation)),result},[]):[]},Meta.prototype.getTag=function(attrSelector){return attrSelector&&this._dom.querySelector(this._doc,"meta["+attrSelector+"]")||null},Meta.prototype.getTags=function(list){if(!list)return[];list=this._dom.querySelectorAll(this._doc,"meta["+list+"]");return list?[].slice.call(list):[]},Meta.prototype.updateTag=function(tag,meta){if(!tag)return null;meta=meta||this._parseSelector(tag);meta=this.getTag(meta);return meta?this._setMetaElementAttributes(tag,meta):this._getOrCreateElement(tag,!0)},Meta.prototype.removeTag=function(attrSelector){this.removeTagElement(this.getTag(attrSelector))},Meta.prototype.removeTagElement=function(meta){meta&&this._dom.remove(meta)},Meta.prototype._getOrCreateElement=function(head,forceCreation){if(!(forceCreation=void 0===forceCreation?!1:forceCreation)){var element=this._parseSelector(head),element=this.getTag(element);if(element&&this._containsAttributes(head,element))return element}element=this._dom.createElement("meta");this._setMetaElementAttributes(head,element);head=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(head,element),element},Meta.prototype._setMetaElementAttributes=function(tag,el){var _this=this;return Object.keys(tag).forEach(function(prop){return _this._dom.setAttribute(el,prop,tag[prop])}),el},Meta.prototype._parseSelector=function(tag){var attr=tag.name?"name":"property";return attr+'="'+tag[attr]+'"'},Meta.prototype._containsAttributes=function(tag,elem){var _this=this;return Object.keys(tag).every(function(key){return _this._dom.getAttribute(elem,key)===tag[key]})},Meta.ngInjectableDef=core.defineInjectable({factory:createMeta,token:Meta,providedIn:"root"}),__decorate([core.Injectable({providedIn:"root",useFactory:createMeta,deps:[]}),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],Meta)}();function createTitle(){return new Title(core.inject(DOCUMENT$1))}var Title=function(){function Title(_doc){this._doc=_doc}return Title.prototype.getTitle=function(){return _DOM.getTitle(this._doc)},Title.prototype.setTitle=function(newTitle){_DOM.setTitle(this._doc,newTitle)},Title.ngInjectableDef=core.defineInjectable({factory:createTitle,token:Title,providedIn:"root"}),__decorate([core.Injectable({providedIn:"root",useFactory:createTitle,deps:[]}),__param(0,core.Inject(DOCUMENT$1)),__metadata("design:paramtypes",[Object])],Title)}();var TransferState=function(){function TransferState(){this.store={},this.onSerializeCallbacks={}}var TransferState_1=TransferState;return TransferState.init=function(initState){var transferState=new TransferState_1;return transferState.store=initState,transferState},TransferState.prototype.get=function(key,defaultValue){return void 0!==this.store[key]?this.store[key]:defaultValue},TransferState.prototype.set=function(key,value){this.store[key]=value},TransferState.prototype.remove=function(key){delete this.store[key]},TransferState.prototype.hasKey=function(key){return this.store.hasOwnProperty(key)},TransferState.prototype.onSerialize=function(key,callback){this.onSerializeCallbacks[key]=callback},TransferState.prototype.toJson=function(){for(var key in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(key))try{this.store[key]=this.onSerializeCallbacks[key]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)},TransferState_1=__decorate([core.Injectable()],TransferState)}();function initTransferState(initialState,appId){var text,unescapedText,script=initialState.getElementById(appId+"-state"),initialState={};if(script&&script.textContent)try{initialState=JSON.parse((text=script.textContent,unescapedText={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},text.replace(/&[^;]+;/g,function(s){return unescapedText[s]})))}catch(e){console.warn("Exception while restoring TransferState for app "+appId,e)}return TransferState.init(initialState)}(function(){function BrowserTransferStateModule(){}__decorate([core.NgModule({providers:[{provide:TransferState,useFactory:initTransferState,deps:[DOCUMENT$1,core.APP_ID]}]})],BrowserTransferStateModule)})(),new core.Version("7.2.16")
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */;var RouterOutlet=function(id,url){this.id=id,this.url=url},NavigationStart=function(_super){function NavigationStart(id,_this,navigationTrigger,restoredState){void 0===navigationTrigger&&(navigationTrigger="imperative"),void 0===restoredState&&(restoredState=null);_this=_super.call(this,id,_this)||this;return _this.navigationTrigger=navigationTrigger,_this.restoredState=restoredState,_this}return __extends(NavigationStart,_super),NavigationStart.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},NavigationStart}(RouterOutlet),NavigationEnd=function(_super){function NavigationEnd(id,_this,urlAfterRedirects){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this}return __extends(NavigationEnd,_super),NavigationEnd.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},NavigationEnd}(RouterOutlet),NavigationCancel=function(_super){function NavigationCancel(id,_this,reason){_this=_super.call(this,id,_this)||this;return _this.reason=reason,_this}return __extends(NavigationCancel,_super),NavigationCancel.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},NavigationCancel}(RouterOutlet),NavigationError=function(_super){function NavigationError(id,_this,error){_this=_super.call(this,id,_this)||this;return _this.error=error,_this}return __extends(NavigationError,_super),NavigationError.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},NavigationError}(RouterOutlet),RoutesRecognized=function(_super){function RoutesRecognized(id,_this,urlAfterRedirects,state){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this}return __extends(RoutesRecognized,_super),RoutesRecognized.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},RoutesRecognized}(RouterOutlet),GuardsCheckStart=function(_super){function GuardsCheckStart(id,_this,urlAfterRedirects,state){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this}return __extends(GuardsCheckStart,_super),GuardsCheckStart.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},GuardsCheckStart}(RouterOutlet),GuardsCheckEnd=function(_super){function GuardsCheckEnd(id,_this,urlAfterRedirects,state,shouldActivate){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this.shouldActivate=shouldActivate,_this}return __extends(GuardsCheckEnd,_super),GuardsCheckEnd.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},GuardsCheckEnd}(RouterOutlet),ResolveStart=function(_super){function ResolveStart(id,_this,urlAfterRedirects,state){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this}return __extends(ResolveStart,_super),ResolveStart.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},ResolveStart}(RouterOutlet),ResolveEnd=function(_super){function ResolveEnd(id,_this,urlAfterRedirects,state){_this=_super.call(this,id,_this)||this;return _this.urlAfterRedirects=urlAfterRedirects,_this.state=state,_this}return __extends(ResolveEnd,_super),ResolveEnd.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},ResolveEnd}(RouterOutlet),RouteConfigLoadStart=function(){function RouteConfigLoadStart(route){this.route=route}return RouteConfigLoadStart.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},RouteConfigLoadStart}(),RouteConfigLoadEnd=function(){function RouteConfigLoadEnd(route){this.route=route}return RouteConfigLoadEnd.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},RouteConfigLoadEnd}(),ChildActivationStart=function(){function ChildActivationStart(snapshot){this.snapshot=snapshot}return ChildActivationStart.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},ChildActivationStart}(),ChildActivationEnd=function(){function ChildActivationEnd(snapshot){this.snapshot=snapshot}return ChildActivationEnd.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},ChildActivationEnd}(),ActivationStart=function(){function ActivationStart(snapshot){this.snapshot=snapshot}return ActivationStart.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},ActivationStart}(),ActivationEnd=function(){function ActivationEnd(snapshot){this.snapshot=snapshot}return ActivationEnd.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},ActivationEnd}(),Scroll=function(){function Scroll(routerEvent,position,anchor){this.routerEvent=routerEvent,this.position=position,this.anchor=anchor}return Scroll.prototype.toString=function(){var pos=this.position?this.position[0]+", "+this.position[1]:null;return"Scroll(anchor: '"+this.anchor+"', position: '"+pos+"')"},Scroll}(),EmptyOutletComponent=function(){function EmptyOutletComponent(){}return __decorate([core.Component({template:"<router-outlet></router-outlet>"})],EmptyOutletComponent)}(),PRIMARY_OUTLET="primary",ParamsAsMap=function(){function ParamsAsMap(params){this.params=params||{}}return ParamsAsMap.prototype.has=function(name){return this.params.hasOwnProperty(name)},ParamsAsMap.prototype.get=function(v){if(this.has(v)){v=this.params[v];return Array.isArray(v)?v[0]:v}return null},ParamsAsMap.prototype.getAll=function(v){if(this.has(v)){v=this.params[v];return Array.isArray(v)?v:[v]}return[]},Object.defineProperty(ParamsAsMap.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),ParamsAsMap}();function convertToParamMap(params){return new ParamsAsMap(params)}var NAVIGATION_CANCELING_ERROR="ngNavigationCancelingError";function navigationCancelingError(error){error=Error("NavigationCancelingError: "+error);return error[NAVIGATION_CANCELING_ERROR]=!0,error}function defaultUrlMatcher(segments,segmentGroup,route){var parts=route.path.split("/");if(parts.length>segments.length)return null;if("full"===route.pathMatch&&(segmentGroup.hasChildren()||parts.length<segments.length))return null;for(var posParams={},index=0;index<parts.length;index++){var part=parts[index],segment=segments[index];if(part.startsWith(":"))posParams[part.substring(1)]=segment;else if(part!==segment.path)return null}return{consumed:segments.slice(0,parts.length),posParams:posParams}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var LoadedRouterConfig=function(routes,module){this.routes=routes,this.module=module};function validateConfig(config,parentPath){void 0===parentPath&&(parentPath="");for(var i=0;i<config.length;i++){var route=config[i];!function(route,fullPath){if(!route)throw new Error("\n      Invalid configuration of route '"+fullPath+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(route))throw new Error("Invalid configuration of route '"+fullPath+"': Array cannot be specified");if(!route.component&&!route.children&&!route.loadChildren&&route.outlet&&route.outlet!==PRIMARY_OUTLET)throw new Error("Invalid configuration of route '"+fullPath+"': a componentless route without children or loadChildren cannot have a named outlet set");if(route.redirectTo&&route.children)throw new Error("Invalid configuration of route '"+fullPath+"': redirectTo and children cannot be used together");if(route.redirectTo&&route.loadChildren)throw new Error("Invalid configuration of route '"+fullPath+"': redirectTo and loadChildren cannot be used together");if(route.children&&route.loadChildren)throw new Error("Invalid configuration of route '"+fullPath+"': children and loadChildren cannot be used together");if(route.redirectTo&&route.component)throw new Error("Invalid configuration of route '"+fullPath+"': redirectTo and component cannot be used together");if(route.path&&route.matcher)throw new Error("Invalid configuration of route '"+fullPath+"': path and matcher cannot be used together");if(void 0===route.redirectTo&&!route.component&&!route.children&&!route.loadChildren)throw new Error("Invalid configuration of route '"+fullPath+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===route.path&&void 0===route.matcher)throw new Error("Invalid configuration of route '"+fullPath+"': routes must have either a path or a matcher specified");if("string"==typeof route.path&&"/"===route.path.charAt(0))throw new Error("Invalid configuration of route '"+fullPath+"': path cannot start with a slash");if(""===route.path&&void 0!==route.redirectTo&&void 0===route.pathMatch)throw new Error("Invalid configuration of route '{path: \""+fullPath+'", redirectTo: "'+route.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==route.pathMatch&&"full"!==route.pathMatch&&"prefix"!==route.pathMatch)throw new Error("Invalid configuration of route '"+fullPath+"': pathMatch can only be set to 'prefix' or 'full'");route.children&&validateConfig(route.children,fullPath)}(route,function(parentPath,currentRoute){if(!currentRoute)return parentPath;return parentPath||currentRoute.path?parentPath&&!currentRoute.path?parentPath+"/":!parentPath&&currentRoute.path?currentRoute.path:parentPath+"/"+currentRoute.path:""}(parentPath,route))}}function standardizeConfig(c){var children=c.children&&c.children.map(standardizeConfig),c=children?__assign({},c,{children:children}):__assign({},c);return!c.component&&(children||c.loadChildren)&&c.outlet&&c.outlet!==PRIMARY_OUTLET&&(c.component=EmptyOutletComponent),c}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function shallowEqual(a,b){var key,k1=Object.keys(a),k2=Object.keys(b);if(k1.length!=k2.length)return!1;for(var i=0;i<k1.length;i++)if(a[key=k1[i]]!==b[key])return!1;return!0}function flatten(arr){return Array.prototype.concat.apply([],arr)}function last$1(a){return 0<a.length?a[a.length-1]:null}function forEach(map$$1,callback){for(var prop in map$$1)map$$1.hasOwnProperty(prop)&&callback(map$$1[prop],prop)}function wrapIntoObservable(value){return core["ɵisObservable"](value)?value:core["ɵisPromise"](value)?rxjs.from(Promise.resolve(value)):rxjs.of(value)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function containsTree(container,containee,exact){return exact?shallowEqual(container.queryParams,containee.queryParams)&&function equalSegmentGroups(container,containee){if(!equalPath(container.segments,containee.segments))return!1;if(container.numberOfChildren!==containee.numberOfChildren)return!1;for(var c in containee.children){if(!container.children[c])return!1;if(!equalSegmentGroups(container.children[c],containee.children[c]))return!1}return!0}(container.root,containee.root):function(container,containee){return Object.keys(containee).length<=Object.keys(container).length&&Object.keys(containee).every(function(key){return containee[key]===container[key]})}(container.queryParams,containee.queryParams)&&containsSegmentGroup(container.root,containee.root)}function containsSegmentGroup(container,containee){return function containsSegmentGroupHelper(container,containee,next){{if(container.segments.length>next.length){var current=container.segments.slice(0,next.length);return equalPath(current,next)?!containee.hasChildren():!1}if(container.segments.length===next.length){if(!equalPath(container.segments,next))return!1;for(var c in containee.children){if(!container.children[c])return!1;if(!containsSegmentGroup(container.children[c],containee.children[c]))return!1}return!0}var current=next.slice(0,container.segments.length),next=next.slice(container.segments.length);return!!equalPath(container.segments,current)&&(!!container.children[PRIMARY_OUTLET]&&containsSegmentGroupHelper(container.children[PRIMARY_OUTLET],containee,next))}}(container,containee,containee.segments)}var UrlTree=function(){function UrlTree(root,queryParams,fragment){this.root=root,this.queryParams=queryParams,this.fragment=fragment}return Object.defineProperty(UrlTree.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),UrlTree.prototype.toString=function(){return DEFAULT_SERIALIZER.serialize(this)},UrlTree}(),UrlSegmentGroup=function(){function UrlSegmentGroup(segments,children){var _this=this;this.segments=segments,this.children=children,this.parent=null,forEach(children,function(v,k){return v.parent=_this})}return UrlSegmentGroup.prototype.hasChildren=function(){return 0<this.numberOfChildren},Object.defineProperty(UrlSegmentGroup.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),UrlSegmentGroup.prototype.toString=function(){return serializePaths(this)},UrlSegmentGroup}(),UrlSegment=function(){function UrlSegment(path,parameters){this.path=path,this.parameters=parameters}return Object.defineProperty(UrlSegment.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=convertToParamMap(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),UrlSegment.prototype.toString=function(){return serializePath(this)},UrlSegment}();function equalPath(as,bs){return as.length===bs.length&&as.every(function(a,i){return a.path===bs[i].path})}function mapChildrenIntoArray(segment,fn){var res=[];return forEach(segment.children,function(child,childOutlet){childOutlet===PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),forEach(segment.children,function(child,childOutlet){childOutlet!==PRIMARY_OUTLET&&(res=res.concat(fn(child,childOutlet)))}),res}var UrlSerializer=function(){},DefaultUrlSerializer=function(){function DefaultUrlSerializer(){}return DefaultUrlSerializer.prototype.parse=function(p){p=new UrlParser(p);return new UrlTree(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())},DefaultUrlSerializer.prototype.serialize=function(s){var params,strParams;return"/"+function serializeSegment(segment,root){if(!segment.hasChildren())return serializePaths(segment);{if(root){var children=segment.children[PRIMARY_OUTLET]?serializeSegment(segment.children[PRIMARY_OUTLET],!1):"",children_1=[];return forEach(segment.children,function(v,k){k!==PRIMARY_OUTLET&&children_1.push(k+":"+serializeSegment(v,!1))}),0<children_1.length?children+"("+children_1.join("//")+")":children}var children=mapChildrenIntoArray(segment,function(v,k){return k===PRIMARY_OUTLET?[serializeSegment(segment.children[PRIMARY_OUTLET],!1)]:[k+":"+serializeSegment(v,!1)]});return serializePaths(segment)+"/("+children.join("//")+")"}}(s.root,!0)+(params=s.queryParams,(strParams=Object.keys(params).map(function(name){var value=params[name];return Array.isArray(value)?value.map(function(v){return encodeUriQuery(name)+"="+encodeUriQuery(v)}).join("&"):encodeUriQuery(name)+"="+encodeUriQuery(value)})).length?"?"+strParams.join("&"):"")+("string"==typeof s.fragment?"#"+(s=s.fragment,encodeURI(s)):"")},DefaultUrlSerializer}(),DEFAULT_SERIALIZER=new DefaultUrlSerializer;function serializePaths(segment){return segment.segments.map(serializePath).join("/")}function encodeUriString(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function encodeUriQuery(s){return encodeUriString(s).replace(/%3B/gi,";")}function encodeUriSegment(s){return encodeUriString(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function decode(s){return decodeURIComponent(s)}function decodeQuery(s){return decode(s.replace(/\+/g,"%20"))}function serializePath(path){return""+encodeUriSegment(path.path)+(params=path.parameters,Object.keys(params).map(function(key){return";"+encodeUriSegment(key)+"="+encodeUriSegment(params[key])}).join(""));var params}var SEGMENT_RE=/^[^\/()?;=#]+/;function matchSegments(match){match=match.match(SEGMENT_RE);return match?match[0]:""}var QUERY_PARAM_RE=/^[^=?&#]+/;var QUERY_PARAM_VALUE_RE=/^[^?&#]+/;var UrlParser=function(){function UrlParser(url){this.url=url,this.remaining=url}return UrlParser.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new UrlSegmentGroup([],{}):new UrlSegmentGroup([],this.parseChildren())},UrlParser.prototype.parseQueryParams=function(){var params={};if(this.consumeOptional("?"))for(;this.parseQueryParam(params),this.consumeOptional("&"););return params},UrlParser.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},UrlParser.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var segments=[];for(this.peekStartsWith("(")||segments.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),segments.push(this.parseSegment());var children={};this.peekStartsWith("/(")&&(this.capture("/"),children=this.parseParens(!0));var res={};return this.peekStartsWith("(")&&(res=this.parseParens(!1)),(0<segments.length||0<Object.keys(children).length)&&(res[PRIMARY_OUTLET]=new UrlSegmentGroup(segments,children)),res},UrlParser.prototype.parseSegment=function(){var path=matchSegments(this.remaining);if(""===path&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(path),new UrlSegment(decode(path),this.parseMatrixParams())},UrlParser.prototype.parseMatrixParams=function(){for(var params={};this.consumeOptional(";");)this.parseParam(params);return params},UrlParser.prototype.parseParam=function(params){var value,valueMatch,key=matchSegments(this.remaining);key&&(this.capture(key),value="",!this.consumeOptional("=")||(valueMatch=matchSegments(this.remaining))&&this.capture(value=valueMatch),params[decode(key)]=decode(value))},UrlParser.prototype.parseQueryParam=function(params){var decodedKey,currentVal,decodedVal=(currentVal=(currentVal=this.remaining).match(QUERY_PARAM_RE))?currentVal[0]:"";decodedVal&&(this.capture(decodedVal),currentVal="",!this.consumeOptional("=")||(decodedKey=function(match){return(match=match.match(QUERY_PARAM_VALUE_RE))?match[0]:""}(this.remaining))&&this.capture(currentVal=decodedKey),decodedKey=decodeQuery(decodedVal),decodedVal=decodeQuery(currentVal),params.hasOwnProperty(decodedKey)?(currentVal=params[decodedKey],Array.isArray(currentVal)||(params[decodedKey]=currentVal=[currentVal]),currentVal.push(decodedVal)):params[decodedKey]=decodedVal)},UrlParser.prototype.parseParens=function(allowPrimary){var segments={};for(this.capture("(");!this.consumeOptional(")")&&0<this.remaining.length;){var children=matchSegments(this.remaining),outletName=this.remaining[children.length];if("/"!==outletName&&")"!==outletName&&";"!==outletName)throw new Error("Cannot parse url '"+this.url+"'");outletName=void 0;-1<children.indexOf(":")?(outletName=children.substr(0,children.indexOf(":")),this.capture(outletName),this.capture(":")):allowPrimary&&(outletName=PRIMARY_OUTLET);children=this.parseChildren();segments[outletName]=1===Object.keys(children).length?children[PRIMARY_OUTLET]:new UrlSegmentGroup([],children),this.consumeOptional("//")}return segments},UrlParser.prototype.peekStartsWith=function(str){return this.remaining.startsWith(str)},UrlParser.prototype.consumeOptional=function(str){return!!this.peekStartsWith(str)&&(this.remaining=this.remaining.substring(str.length),!0)},UrlParser.prototype.capture=function(str){if(!this.consumeOptional(str))throw new Error('Expected "'+str+'".')},UrlParser}(),OktaAuthModule=function(){function Tree(root){this._root=root}return Object.defineProperty(Tree.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),Tree.prototype.parent=function(p){p=this.pathFromRoot(p);return 1<p.length?p[p.length-2]:null},Tree.prototype.children=function(n){n=findNode(n,this._root);return n?n.children.map(function(t){return t.value}):[]},Tree.prototype.firstChild=function(n){n=findNode(n,this._root);return n&&0<n.children.length?n.children[0].value:null},Tree.prototype.siblings=function(t){var p=findPath(t,this._root);return p.length<2?[]:p[p.length-2].children.map(function(c){return c.value}).filter(function(cc){return cc!==t})},Tree.prototype.pathFromRoot=function(t){return findPath(t,this._root).map(function(s){return s.value})},Tree}();
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function findNode(value,node){var e_1,_a;if(value===node.value)return node;try{for(var _b=__values(node.children),_c=_b.next();!_c.done;_c=_b.next()){var node_1=findNode(value,_c.value);if(node_1)return node_1}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return null}function findPath(value,node){var e_2,_a;if(value===node.value)return[node];try{for(var _b=__values(node.children),_c=_b.next();!_c.done;_c=_b.next()){var path=findPath(value,_c.value);if(path.length)return path.unshift(node),path}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return[]}var TreeNode=function(){function TreeNode(value,children){this.value=value,this.children=children}return TreeNode.prototype.toString=function(){return"TreeNode("+this.value+")"},TreeNode}();function nodeChildrenAsMap(node){var map$$1={};return node&&node.children.forEach(function(child){return map$$1[child.value.outlet]=child}),map$$1}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var RouterState=function(_super){function RouterState(root,snapshot){var _this=_super.call(this,root)||this;return _this.snapshot=snapshot,setRouterState(_this,root),_this}return __extends(RouterState,_super),RouterState.prototype.toString=function(){return this.snapshot.toString()},RouterState}(OktaAuthModule);function createEmptyState(fragment,activated){var snapshot=function(activated,rootComponent){activated=new ActivatedRouteSnapshot([],{},{},"",{},PRIMARY_OUTLET,rootComponent,null,activated.root,-1,{});return new RouterStateSnapshot("",new TreeNode(activated,[]))}(fragment,activated),emptyUrl=new rxjs.BehaviorSubject([new UrlSegment("",{})]),emptyParams=new rxjs.BehaviorSubject({}),emptyData=new rxjs.BehaviorSubject({}),emptyQueryParams=new rxjs.BehaviorSubject({}),fragment=new rxjs.BehaviorSubject(""),activated=new ActivatedRoute(emptyUrl,emptyParams,emptyQueryParams,fragment,emptyData,PRIMARY_OUTLET,activated,snapshot.root);return activated.snapshot=snapshot.root,new RouterState(new TreeNode(activated,[]),snapshot)}var ActivatedRoute=function(){function ActivatedRoute(url,params,queryParams,fragment,data,outlet,component,futureSnapshot){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this._futureSnapshot=futureSnapshot}return Object.defineProperty(ActivatedRoute.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(operators.map(convertToParamMap))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRoute.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(operators.map(convertToParamMap))),this._queryParamMap},enumerable:!0,configurable:!0}),ActivatedRoute.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},ActivatedRoute}();function inheritedParamsDataResolve(route,paramsInheritanceStrategy){var pathFromRoot=route.pathFromRoot,inheritingStartingFrom=0;if("always"!==(paramsInheritanceStrategy=void 0===paramsInheritanceStrategy?"emptyOnly":paramsInheritanceStrategy))for(inheritingStartingFrom=pathFromRoot.length-1;1<=inheritingStartingFrom;){var current=pathFromRoot[inheritingStartingFrom],parent_1=pathFromRoot[inheritingStartingFrom-1];if(current.routeConfig&&""===current.routeConfig.path)inheritingStartingFrom--;else{if(parent_1.component)break;inheritingStartingFrom--}}return function(pathFromRoot){return pathFromRoot.reduce(function(res,curr){return{params:__assign({},res.params,curr.params),data:__assign({},res.data,curr.data),resolve:__assign({},res.resolve,curr._resolvedData)}},{params:{},data:{},resolve:{}})}(pathFromRoot.slice(inheritingStartingFrom))}var ActivatedRouteSnapshot=function(){function ActivatedRouteSnapshot(url,params,queryParams,fragment,data,outlet,component,routeConfig,urlSegment,lastPathIndex,resolve){this.url=url,this.params=params,this.queryParams=queryParams,this.fragment=fragment,this.data=data,this.outlet=outlet,this.component=component,this.routeConfig=routeConfig,this._urlSegment=urlSegment,this._lastPathIndex=lastPathIndex,this._resolve=resolve}return Object.defineProperty(ActivatedRouteSnapshot.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=convertToParamMap(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(ActivatedRouteSnapshot.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=convertToParamMap(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),ActivatedRouteSnapshot.prototype.toString=function(){return"Route(url:'"+this.url.map(function(segment){return segment.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},ActivatedRouteSnapshot}(),RouterStateSnapshot=function(_super){function RouterStateSnapshot(url,root){var _this=_super.call(this,root)||this;return _this.url=url,setRouterState(_this,root),_this}return __extends(RouterStateSnapshot,_super),RouterStateSnapshot.prototype.toString=function(){return serializeNode(this._root)},RouterStateSnapshot}(OktaAuthModule);function setRouterState(state,node){node.value._routerState=state,node.children.forEach(function(c){return setRouterState(state,c)})}function serializeNode(node){var c=0<node.children.length?" { "+node.children.map(serializeNode).join(", ")+" } ":"";return node.value+c}function advanceActivatedRoute(route){var currentSnapshot,nextSnapshot;route.snapshot?(currentSnapshot=route.snapshot,nextSnapshot=route._futureSnapshot,route.snapshot=nextSnapshot,shallowEqual(currentSnapshot.queryParams,nextSnapshot.queryParams)||route.queryParams.next(nextSnapshot.queryParams),currentSnapshot.fragment!==nextSnapshot.fragment&&route.fragment.next(nextSnapshot.fragment),shallowEqual(currentSnapshot.params,nextSnapshot.params)||route.params.next(nextSnapshot.params),function(a,b){if(a.length===b.length){for(var i=0;i<a.length;++i)if(!shallowEqual(a[i],b[i]))return;return 1}}(currentSnapshot.url,nextSnapshot.url)||route.url.next(nextSnapshot.url),shallowEqual(currentSnapshot.data,nextSnapshot.data)||route.data.next(nextSnapshot.data)):(route.snapshot=route._futureSnapshot,route.data.next(route._futureSnapshot.data))}function equalParamsAndUrlSegments(a,b){var bs,equalUrlParams=shallowEqual(a.params,b.params)&&(parentsMismatch=a.url,bs=b.url,equalPath(parentsMismatch,bs)&&parentsMismatch.every(function(a,i){return shallowEqual(a.parameters,bs[i].parameters)})),parentsMismatch=!a.parent!=!b.parent;return equalUrlParams&&!parentsMismatch&&(!a.parent||equalParamsAndUrlSegments(a.parent,b.parent))}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function createNode(routeReuseStrategy,curr,detachedRouteHandle){if(detachedRouteHandle&&routeReuseStrategy.shouldReuseRoute(curr.value,detachedRouteHandle.value.snapshot)){(value=detachedRouteHandle.value)._futureSnapshot=curr.value;var children=function(routeReuseStrategy,curr,prevState){return curr.children.map(function(child){var e_1,_a;try{for(var _b=__values(prevState.children),_c=_b.next();!_c.done;_c=_b.next()){var p=_c.value;if(routeReuseStrategy.shouldReuseRoute(p.value.snapshot,child.value))return createNode(routeReuseStrategy,child,p)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return createNode(routeReuseStrategy,child)})}(routeReuseStrategy,curr,detachedRouteHandle);return new TreeNode(value,children)}detachedRouteHandle=routeReuseStrategy.retrieve(curr.value);if(detachedRouteHandle){var c=detachedRouteHandle.route;return function setFutureSnapshotsOfActivatedRoutes(curr,result){if(curr.value.routeConfig!==result.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(curr.children.length!==result.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");result.value._futureSnapshot=curr.value;for(var i=0;i<curr.children.length;++i)setFutureSnapshotsOfActivatedRoutes(curr.children[i],result.children[i])}(curr,c),c}var value=(c=curr.value,new ActivatedRoute(new rxjs.BehaviorSubject(c.url),new rxjs.BehaviorSubject(c.params),new rxjs.BehaviorSubject(c.queryParams),new rxjs.BehaviorSubject(c.fragment),new rxjs.BehaviorSubject(c.data),c.outlet,c.component,c)),children=curr.children.map(function(c){return createNode(routeReuseStrategy,c)});return new TreeNode(value,children)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function createUrlTree(startingPosition,urlTree,segmentGroup,queryParams,fragment){if(0===segmentGroup.length)return tree(urlTree.root,urlTree.root,urlTree,queryParams,fragment);segmentGroup=function(res){if("string"==typeof res[0]&&1===res.length&&"/"===res[0])return new Navigation(!0,0,res);var numberOfDoubleDots=0,isAbsolute=!1,res=res.reduce(function(res,cmd,cmdIdx){if("object"==typeof cmd&&null!=cmd){if(cmd.outlets){var outlets_1={};return forEach(cmd.outlets,function(commands,name){outlets_1[name]="string"==typeof commands?commands.split("/"):commands}),__spread(res,[{outlets:outlets_1}])}if(cmd.segmentPath)return __spread(res,[cmd.segmentPath])}return"string"==typeof cmd&&0===cmdIdx?(cmd.split("/").forEach(function(urlPart,partIndex){0==partIndex&&"."===urlPart||(0==partIndex&&""===urlPart?isAbsolute=!0:".."===urlPart?numberOfDoubleDots++:""!=urlPart&&res.push(urlPart))}),res):__spread(res,[cmd])},[]);return new Navigation(isAbsolute,numberOfDoubleDots,res)}(segmentGroup);if(segmentGroup.toRoot())return tree(urlTree.root,new UrlSegmentGroup([],{}),urlTree,queryParams,fragment);startingPosition=function(nav,index,route){if(nav.isAbsolute)return new Position(index.root,!0,0);if(-1===route.snapshot._lastPathIndex)return new Position(route.snapshot._urlSegment,!0,0);index=isMatrixParams(nav.commands[0])?0:1,index=route.snapshot._lastPathIndex+index;return function(group,index,numberOfDoubleDots){var g=group,ci=index,dd=numberOfDoubleDots;for(;ci<dd;){if(dd-=ci,!(g=g.parent))throw new Error("Invalid number of '../'");ci=g.segments.length}return new Position(g,!1,ci-dd)}(route.snapshot._urlSegment,index,nav.numberOfDoubleDots)}(segmentGroup,urlTree,startingPosition),segmentGroup=(startingPosition.processChildren?updateSegmentGroupChildren:updateSegmentGroup)(startingPosition.segmentGroup,startingPosition.index,segmentGroup.commands);return tree(startingPosition.segmentGroup,segmentGroup,urlTree,queryParams,fragment)}function isMatrixParams(command){return"object"==typeof command&&null!=command&&!command.outlets&&!command.segmentPath}function tree(oldSegmentGroup,newSegmentGroup,urlTree,queryParams,fragment){var qp={};return queryParams&&forEach(queryParams,function(value,name){qp[name]=Array.isArray(value)?value.map(function(v){return""+v}):""+value}),urlTree.root===oldSegmentGroup?new UrlTree(newSegmentGroup,qp,fragment):new UrlTree(function replaceSegment(current,oldSegment,newSegment){var children={};forEach(current.children,function(c,outletName){children[outletName]=c===oldSegment?newSegment:replaceSegment(c,oldSegment,newSegment)});return new UrlSegmentGroup(current.segments,children)}(urlTree.root,oldSegmentGroup,newSegmentGroup),qp,fragment)}var Navigation=function(){function Navigation(cmdWithOutlet,numberOfDoubleDots,commands){if(this.isAbsolute=cmdWithOutlet,this.numberOfDoubleDots=numberOfDoubleDots,this.commands=commands,cmdWithOutlet&&0<commands.length&&isMatrixParams(commands[0]))throw new Error("Root segment cannot have matrix parameters");cmdWithOutlet=commands.find(function(c){return"object"==typeof c&&null!=c&&c.outlets});if(cmdWithOutlet&&cmdWithOutlet!==last$1(commands))throw new Error("{outlets:{}} has to be the last command")}return Navigation.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},Navigation}();var Position=function(segmentGroup,processChildren,index){this.segmentGroup=segmentGroup,this.processChildren=processChildren,this.index=index};function getPath(command){return"object"==typeof command&&null!=command&&command.outlets?command.outlets[PRIMARY_OUTLET]:""+command}function updateSegmentGroup(segmentGroup,startIndex,commands){if(0===(segmentGroup=segmentGroup||new UrlSegmentGroup([],{})).segments.length&&segmentGroup.hasChildren())return updateSegmentGroupChildren(segmentGroup,startIndex,commands);var m=function(segmentGroup,startIndex,commands){var currentCommandIndex=0,currentPathIndex=startIndex,noMatch={match:!1,pathIndex:0,commandIndex:0};for(;currentPathIndex<segmentGroup.segments.length;){if(currentCommandIndex>=commands.length)return noMatch;var path=segmentGroup.segments[currentPathIndex],curr=getPath(commands[currentCommandIndex]),next=currentCommandIndex<commands.length-1?commands[currentCommandIndex+1]:null;if(0<currentPathIndex&&void 0===curr)break;if(curr&&next&&"object"==typeof next&&void 0===next.outlets){if(!compare(curr,next,path))return noMatch;currentCommandIndex+=2}else{if(!compare(curr,{},path))return noMatch;currentCommandIndex++}currentPathIndex++}return{match:!0,pathIndex:currentPathIndex,commandIndex:currentCommandIndex}}(segmentGroup,startIndex,commands),slicedCommands=commands.slice(m.commandIndex);if(m.match&&m.pathIndex<segmentGroup.segments.length){var g=new UrlSegmentGroup(segmentGroup.segments.slice(0,m.pathIndex),{});return g.children[PRIMARY_OUTLET]=new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex),segmentGroup.children),updateSegmentGroupChildren(g,0,slicedCommands)}return m.match&&0===slicedCommands.length?new UrlSegmentGroup(segmentGroup.segments,{}):(!m.match||segmentGroup.hasChildren())&&m.match?updateSegmentGroupChildren(segmentGroup,0,slicedCommands):createNewSegmentGroup(segmentGroup,startIndex,commands)}function updateSegmentGroupChildren(segmentGroup,startIndex,commands){if(0===commands.length)return new UrlSegmentGroup(segmentGroup.segments,{});var outlets_2=function(commands){var _b;return"object"!=typeof commands[0]||void 0===commands[0].outlets?((_b={})[PRIMARY_OUTLET]=commands,_b):commands[0].outlets}(commands),children_1={};return forEach(outlets_2,function(commands,outlet){null!==commands&&(children_1[outlet]=updateSegmentGroup(segmentGroup.children[outlet],startIndex,commands))}),forEach(segmentGroup.children,function(child,childOutlet){void 0===outlets_2[childOutlet]&&(children_1[childOutlet]=child)}),new UrlSegmentGroup(segmentGroup.segments,children_1)}function createNewSegmentGroup(segmentGroup,startIndex,commands){for(var next,paths=segmentGroup.segments.slice(0,startIndex),i=0;i<commands.length;){if("object"==typeof commands[i]&&void 0!==commands[i].outlets){var curr=function(outlets){var children={};return forEach(outlets,function(commands,outlet){null!==commands&&(children[outlet]=createNewSegmentGroup(new UrlSegmentGroup([],{}),0,commands))}),children}(commands[i].outlets);return new UrlSegmentGroup(paths,curr)}0===i&&isMatrixParams(commands[0])?(next=segmentGroup.segments[startIndex],paths.push(new UrlSegment(next.path,commands[0])),i++):(curr=getPath(commands[i]),next=i<commands.length-1?commands[i+1]:null,curr&&next&&isMatrixParams(next)?(paths.push(new UrlSegment(curr,function(params){var res={};return forEach(params,function(v,k){return res[k]=""+v}),res}(next))),i+=2):(paths.push(new UrlSegment(curr,{})),i++))}return new UrlSegmentGroup(paths,{})}function compare(path,params,segment){return path==segment.path&&shallowEqual(params,segment.parameters)}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var ActivateRoutes=function(){function ActivateRoutes(routeReuseStrategy,futureState,currState,forwardEvent){this.routeReuseStrategy=routeReuseStrategy,this.futureState=futureState,this.currState=currState,this.forwardEvent=forwardEvent}return ActivateRoutes.prototype.activate=function(parentContexts){var futureRoot=this.futureState._root,currRoot=this.currState?this.currState._root:null;this.deactivateChildRoutes(futureRoot,currRoot,parentContexts),advanceActivatedRoute(this.futureState.root),this.activateChildRoutes(futureRoot,currRoot,parentContexts)},ActivateRoutes.prototype.deactivateChildRoutes=function(futureNode,currNode,contexts){var _this=this,children=nodeChildrenAsMap(currNode);futureNode.children.forEach(function(futureChild){var childOutletName=futureChild.value.outlet;_this.deactivateRoutes(futureChild,children[childOutletName],contexts),delete children[childOutletName]}),forEach(children,function(v,childName){_this.deactivateRouteAndItsChildren(v,contexts)})},ActivateRoutes.prototype.deactivateRoutes=function(futureNode,currNode,parentContext){var context=futureNode.value,curr=currNode?currNode.value:null;context===curr?context.component?(context=parentContext.getContext(context.outlet))&&this.deactivateChildRoutes(futureNode,currNode,context.children):this.deactivateChildRoutes(futureNode,currNode,parentContext):curr&&this.deactivateRouteAndItsChildren(currNode,parentContext)},ActivateRoutes.prototype.deactivateRouteAndItsChildren=function(route,parentContexts){this.routeReuseStrategy.shouldDetach(route.value.snapshot)?this.detachAndStoreRouteSubtree(route,parentContexts):this.deactivateRouteAndOutlet(route,parentContexts)},ActivateRoutes.prototype.detachAndStoreRouteSubtree=function(route,componentRef){var contexts=componentRef.getContext(route.value.outlet);contexts&&contexts.outlet&&(componentRef=contexts.outlet.detach(),contexts=contexts.children.onOutletDeactivated(),this.routeReuseStrategy.store(route.value.snapshot,{componentRef:componentRef,route:route,contexts:contexts}))},ActivateRoutes.prototype.deactivateRouteAndOutlet=function(route,parentContexts){var children,contexts_1,_this=this,context=parentContexts.getContext(route.value.outlet);context&&(children=nodeChildrenAsMap(route),contexts_1=route.value.component?context.children:parentContexts,forEach(children,function(v,k){return _this.deactivateRouteAndItsChildren(v,contexts_1)}),context.outlet&&(context.outlet.deactivate(),context.children.onOutletDeactivated()))},ActivateRoutes.prototype.activateChildRoutes=function(futureNode,currNode,contexts){var _this=this,children=nodeChildrenAsMap(currNode);futureNode.children.forEach(function(c){_this.activateRoutes(c,children[c.value.outlet],contexts),_this.forwardEvent(new ActivationEnd(c.value.snapshot))}),futureNode.children.length&&this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot))},ActivateRoutes.prototype.activateRoutes=function(futureNode,currNode,parentContexts){var context,cmpFactoryResolver,future=futureNode.value,curr=currNode?currNode.value:null;advanceActivatedRoute(future),future===curr?future.component?(context=parentContexts.getOrCreateContext(future.outlet),this.activateChildRoutes(futureNode,currNode,context.children)):this.activateChildRoutes(futureNode,currNode,parentContexts):future.component?(context=parentContexts.getOrCreateContext(future.outlet),this.routeReuseStrategy.shouldAttach(future.snapshot)?(cmpFactoryResolver=this.routeReuseStrategy.retrieve(future.snapshot),this.routeReuseStrategy.store(future.snapshot,null),context.children.onOutletReAttached(cmpFactoryResolver.contexts),context.attachRef=cmpFactoryResolver.componentRef,context.route=cmpFactoryResolver.route.value,context.outlet&&context.outlet.attach(cmpFactoryResolver.componentRef,cmpFactoryResolver.route.value),advanceActivatedRouteNodeAndItsChildren(cmpFactoryResolver.route)):(cmpFactoryResolver=(cmpFactoryResolver=function(snapshot){for(var s=snapshot.parent;s;s=s.parent){var route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig;if(route&&route.component)return null}return null}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(future.snapshot))?cmpFactoryResolver.module.componentFactoryResolver:null,context.attachRef=null,context.route=future,context.resolver=cmpFactoryResolver,context.outlet&&context.outlet.activateWith(future,cmpFactoryResolver),this.activateChildRoutes(futureNode,null,context.children))):this.activateChildRoutes(futureNode,null,parentContexts)},ActivateRoutes}();function advanceActivatedRouteNodeAndItsChildren(node){advanceActivatedRoute(node.value),node.children.forEach(advanceActivatedRouteNodeAndItsChildren)}function isFunction(v){return"function"==typeof v}function isUrlTree(v){return v instanceof UrlTree}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var NoMatch=function(segmentGroup){this.segmentGroup=segmentGroup||null},AbsoluteRedirect=function(urlTree){this.urlTree=urlTree};function noMatch(segmentGroup){return new rxjs.Observable(function(obs){return obs.error(new NoMatch(segmentGroup))})}function absoluteRedirect(newTree){return new rxjs.Observable(function(obs){return obs.error(new AbsoluteRedirect(newTree))})}var ApplyRedirects=function(){function ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config){this.configLoader=configLoader,this.urlSerializer=urlSerializer,this.urlTree=urlTree,this.config=config,this.allowRedirects=!0,this.ngModule=moduleInjector.get(core.NgModuleRef)}return ApplyRedirects.prototype.apply=function(){var _this=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,PRIMARY_OUTLET).pipe(operators.map(function(rootSegmentGroup){return _this.createUrlTree(rootSegmentGroup,_this.urlTree.queryParams,_this.urlTree.fragment)})).pipe(operators.catchError(function(e){if(e instanceof AbsoluteRedirect)return _this.allowRedirects=!1,_this.match(e.urlTree);if(e instanceof NoMatch)throw _this.noMatchError(e);throw e}))},ApplyRedirects.prototype.match=function(tree){var _this=this;return this.expandSegmentGroup(this.ngModule,this.config,tree.root,PRIMARY_OUTLET).pipe(operators.map(function(rootSegmentGroup){return _this.createUrlTree(rootSegmentGroup,tree.queryParams,tree.fragment)})).pipe(operators.catchError(function(e){if(e instanceof NoMatch)throw _this.noMatchError(e);throw e}))},ApplyRedirects.prototype.noMatchError=function(e){return new Error("Cannot match any routes. URL Segment: '"+e.segmentGroup+"'")},ApplyRedirects.prototype.createUrlTree=function(root,queryParams,fragment){var _a,root=0<root.segments.length?new UrlSegmentGroup([],((_a={})[PRIMARY_OUTLET]=root,_a)):root;return new UrlTree(root,queryParams,fragment)},ApplyRedirects.prototype.expandSegmentGroup=function(ngModule,routes,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.expandChildren(ngModule,routes,segmentGroup).pipe(operators.map(function(children){return new UrlSegmentGroup([],children)})):this.expandSegment(ngModule,segmentGroup,routes,segmentGroup.segments,outlet,!0)},ApplyRedirects.prototype.expandChildren=function(ngModule,routes,segmentGroup){var _this=this;return function(obj,fn){if(0===Object.keys(obj).length)return rxjs.of({});var waitHead=[],waitTail=[],res={};return forEach(obj,function(mapped,k){mapped=fn(k,mapped).pipe(operators.map(function(r){return res[k]=r}));(k===PRIMARY_OUTLET?waitHead:waitTail).push(mapped)}),rxjs.of.apply(null,waitHead.concat(waitTail)).pipe(operators.concatAll(),operators.last(),operators.map(function(){return res}))}(segmentGroup.children,function(childOutlet,child){return _this.expandSegmentGroup(ngModule,routes,child,childOutlet)})},ApplyRedirects.prototype.expandSegment=function(ngModule,segmentGroup,routes,segments,outlet,allowRedirects){var _this=this;return rxjs.of.apply(void 0,__spread(routes)).pipe(operators.map(function(r){return _this.expandSegmentAgainstRoute(ngModule,segmentGroup,routes,r,segments,outlet,allowRedirects).pipe(operators.catchError(function(e){if(e instanceof NoMatch)return rxjs.of(null);throw e}))}),operators.concatAll(),operators.first(function(s){return!!s}),operators.catchError(function(e,_){if(e instanceof rxjs.EmptyError||"EmptyError"===e.name){if(_this.noLeftoversInUrl(segmentGroup,segments,outlet))return rxjs.of(new UrlSegmentGroup([],{}));throw new NoMatch(segmentGroup)}throw e}))},ApplyRedirects.prototype.noLeftoversInUrl=function(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]},ApplyRedirects.prototype.expandSegmentAgainstRoute=function(ngModule,segmentGroup,routes,route,paths,outlet,allowRedirects){return getOutlet(route)!==outlet?noMatch(segmentGroup):void 0===route.redirectTo?this.matchSegmentAgainstRoute(ngModule,segmentGroup,route,paths):allowRedirects&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,paths,outlet):noMatch(segmentGroup)},ApplyRedirects.prototype.expandSegmentAgainstRouteUsingRedirect=function(ngModule,segmentGroup,routes,route,segments,outlet){return"**"===route.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ngModule,routes,route,outlet):this.expandRegularSegmentAgainstRouteUsingRedirect(ngModule,segmentGroup,routes,route,segments,outlet)},ApplyRedirects.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(ngModule,routes,route,outlet){var _this=this,newTree=this.applyRedirectCommands([],route.redirectTo,{});return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(operators.mergeMap(function(newSegments){var group=new UrlSegmentGroup(newSegments,{});return _this.expandSegment(ngModule,group,routes,newSegments,outlet,!1)}))},ApplyRedirects.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(ngModule,segmentGroup,routes,route,segments,outlet){var _this=this,newTree=match(segmentGroup,route,segments),matched=newTree.matched,consumedSegments=newTree.consumedSegments,lastChild=newTree.lastChild,newTree=newTree.positionalParamSegments;if(!matched)return noMatch(segmentGroup);newTree=this.applyRedirectCommands(consumedSegments,route.redirectTo,newTree);return route.redirectTo.startsWith("/")?absoluteRedirect(newTree):this.lineralizeSegments(route,newTree).pipe(operators.mergeMap(function(newSegments){return _this.expandSegment(ngModule,segmentGroup,routes,newSegments.concat(segments.slice(lastChild)),outlet,!1)}))},ApplyRedirects.prototype.matchSegmentAgainstRoute=function(ngModule,rawSegmentGroup,route,segments){var _this=this;if("**"===route.path)return route.loadChildren?this.configLoader.load(ngModule.injector,route).pipe(operators.map(function(cfg){return route._loadedConfig=cfg,new UrlSegmentGroup(segments,{})})):rxjs.of(new UrlSegmentGroup(segments,{}));var lastChild=match(rawSegmentGroup,route,segments),matched=lastChild.matched,consumedSegments=lastChild.consumedSegments,lastChild=lastChild.lastChild;if(!matched)return noMatch(rawSegmentGroup);var rawSlicedSegments=segments.slice(lastChild);return this.getChildConfig(ngModule,route,segments).pipe(operators.mergeMap(function(segmentGroup){var childModule=segmentGroup.module,childConfig=segmentGroup.routes,slicedSegments=function(segmentGroup,consumedSegments,slicedSegments,config){if(0<slicedSegments.length&&function(segmentGroup,segments,routes){return routes.some(function(r){return isEmptyPathRedirect(segmentGroup,segments,r)&&getOutlet(r)!==PRIMARY_OUTLET})}(segmentGroup,slicedSegments,config))return{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(consumedSegments,function(routes,primarySegmentGroup){var e_3,_a,res={};res[PRIMARY_OUTLET]=primarySegmentGroup;try{for(var routes_2=__values(routes),routes_2_1=routes_2.next();!routes_2_1.done;routes_2_1=routes_2.next()){var r=routes_2_1.value;""===r.path&&getOutlet(r)!==PRIMARY_OUTLET&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}))}}catch(e_3_1){e_3={error:e_3_1}}finally{try{routes_2_1&&!routes_2_1.done&&(_a=routes_2.return)&&_a.call(routes_2)}finally{if(e_3)throw e_3.error}}return res}(config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)))),slicedSegments:[]};if(0===slicedSegments.length&&function(segmentGroup,segments,routes){return routes.some(function(r){return isEmptyPathRedirect(segmentGroup,segments,r)})}(segmentGroup,slicedSegments,config))return{segmentGroup:mergeTrivialChildren(new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,slicedSegments,routes,children){var e_2,_a,res={};try{for(var routes_1=__values(routes),routes_1_1=routes_1.next();!routes_1_1.done;routes_1_1=routes_1.next()){var r=routes_1_1.value;isEmptyPathRedirect(segmentGroup,slicedSegments,r)&&!children[getOutlet(r)]&&(res[getOutlet(r)]=new UrlSegmentGroup([],{}))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{routes_1_1&&!routes_1_1.done&&(_a=routes_1.return)&&_a.call(routes_1)}finally{if(e_2)throw e_2.error}}return __assign({},children,res)}(segmentGroup,slicedSegments,config,segmentGroup.children))),slicedSegments:slicedSegments};return{segmentGroup:segmentGroup,slicedSegments:slicedSegments}}(rawSegmentGroup,consumedSegments,rawSlicedSegments,childConfig),segmentGroup=slicedSegments.segmentGroup,slicedSegments=slicedSegments.slicedSegments;return 0===slicedSegments.length&&segmentGroup.hasChildren()?_this.expandChildren(childModule,childConfig,segmentGroup).pipe(operators.map(function(children){return new UrlSegmentGroup(consumedSegments,children)})):0===childConfig.length&&0===slicedSegments.length?rxjs.of(new UrlSegmentGroup(consumedSegments,{})):_this.expandSegment(childModule,segmentGroup,childConfig,slicedSegments,PRIMARY_OUTLET,!0).pipe(operators.map(function(cs){return new UrlSegmentGroup(consumedSegments.concat(cs.segments),cs.children)}))}))},ApplyRedirects.prototype.getChildConfig=function(ngModule,route,segments){var _this=this;return route.children?rxjs.of(new LoadedRouterConfig(route.children,ngModule)):route.loadChildren?void 0!==route._loadedConfig?rxjs.of(route._loadedConfig):function(moduleInjector,route,segments){var canLoad=route.canLoad;return canLoad&&0!==canLoad.length?rxjs.from(canLoad).pipe(operators.map(function(guard){var guardVal,guard=moduleInjector.get(guard);if(function(guard){return guard&&isFunction(guard.canLoad)}(guard))guardVal=guard.canLoad(route,segments);else{if(!isFunction(guard))throw new Error("Invalid CanLoad guard");guardVal=guard(route,segments)}return wrapIntoObservable(guardVal)})).pipe(operators.concatAll(),operators.every(function(result){return!0===result})):rxjs.of(!0)}(ngModule.injector,route,segments).pipe(operators.mergeMap(function(shouldLoad){return shouldLoad?_this.configLoader.load(ngModule.injector,route).pipe(operators.map(function(cfg){return route._loadedConfig=cfg})):function(route){return new rxjs.Observable(function(obs){return obs.error(navigationCancelingError("Cannot load children because the guard of the route \"path: '"+route.path+"'\" returned false"))})}(route)})):rxjs.of(new LoadedRouterConfig([],ngModule))},ApplyRedirects.prototype.lineralizeSegments=function(route,urlTree){for(var res=[],c=urlTree.root;;){if(res=res.concat(c.segments),0===c.numberOfChildren)return rxjs.of(res);if(1<c.numberOfChildren||!c.children[PRIMARY_OUTLET])return function(redirectTo){return new rxjs.Observable(function(obs){return obs.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+redirectTo+"'"))})}(route.redirectTo);c=c.children[PRIMARY_OUTLET]}},ApplyRedirects.prototype.applyRedirectCommands=function(segments,redirectTo,posParams){return this.applyRedirectCreatreUrlTree(redirectTo,this.urlSerializer.parse(redirectTo),segments,posParams)},ApplyRedirects.prototype.applyRedirectCreatreUrlTree=function(redirectTo,urlTree,segments,newRoot){newRoot=this.createSegmentGroup(redirectTo,urlTree.root,segments,newRoot);return new UrlTree(newRoot,this.createQueryParams(urlTree.queryParams,this.urlTree.queryParams),urlTree.fragment)},ApplyRedirects.prototype.createQueryParams=function(redirectToParams,actualParams){var res={};return forEach(redirectToParams,function(v,k){var sourceName;"string"==typeof v&&v.startsWith(":")?(sourceName=v.substring(1),res[k]=actualParams[sourceName]):res[k]=v}),res},ApplyRedirects.prototype.createSegmentGroup=function(redirectTo,group,segments,posParams){var _this=this,updatedSegments=this.createSegments(redirectTo,group.segments,segments,posParams),children={};return forEach(group.children,function(child,name){children[name]=_this.createSegmentGroup(redirectTo,child,segments,posParams)}),new UrlSegmentGroup(updatedSegments,children)},ApplyRedirects.prototype.createSegments=function(redirectTo,redirectToSegments,actualSegments,posParams){var _this=this;return redirectToSegments.map(function(s){return s.path.startsWith(":")?_this.findPosParam(redirectTo,s,posParams):_this.findOrReturn(s,actualSegments)})},ApplyRedirects.prototype.findPosParam=function(redirectTo,redirectToUrlSegment,pos){pos=pos[redirectToUrlSegment.path.substring(1)];if(!pos)throw new Error("Cannot redirect to '"+redirectTo+"'. Cannot find '"+redirectToUrlSegment.path+"'.");return pos},ApplyRedirects.prototype.findOrReturn=function(redirectToUrlSegment,actualSegments){var e_1,_a,idx=0;try{for(var actualSegments_1=__values(actualSegments),actualSegments_1_1=actualSegments_1.next();!actualSegments_1_1.done;actualSegments_1_1=actualSegments_1.next()){var s=actualSegments_1_1.value;if(s.path===redirectToUrlSegment.path)return actualSegments.splice(idx),s;idx++}}catch(e_1_1){e_1={error:e_1_1}}finally{try{actualSegments_1_1&&!actualSegments_1_1.done&&(_a=actualSegments_1.return)&&_a.call(actualSegments_1)}finally{if(e_1)throw e_1.error}}return redirectToUrlSegment},ApplyRedirects}();function match(segmentGroup,res,segments){if(""===res.path)return"full"===res.pathMatch&&(segmentGroup.hasChildren()||0<segments.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};res=(res.matcher||defaultUrlMatcher)(segments,segmentGroup,res);return res?{matched:!0,consumedSegments:res.consumed,lastChild:res.consumed.length,positionalParamSegments:res.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mergeTrivialChildren(s){if(1===s.numberOfChildren&&s.children[PRIMARY_OUTLET]){var c=s.children[PRIMARY_OUTLET];return new UrlSegmentGroup(s.segments.concat(c.segments),c.children)}return s}function isEmptyPathRedirect(segmentGroup,segments,r){return(!(segmentGroup.hasChildren()||0<segments.length)||"full"!==r.pathMatch)&&(""===r.path&&void 0!==r.redirectTo)}function getOutlet(route){return route.outlet||PRIMARY_OUTLET}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function applyRedirects$1(moduleInjector,configLoader,urlSerializer,config){return function(source){return source.pipe(operators.switchMap(function(t){return function(moduleInjector,configLoader,urlSerializer,urlTree,config){return new ApplyRedirects(moduleInjector,configLoader,urlSerializer,urlTree,config).apply()}(moduleInjector,configLoader,urlSerializer,t.extractedUrl,config).pipe(operators.map(function(urlAfterRedirects){return __assign({},t,{urlAfterRedirects:urlAfterRedirects})}))}))}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var CanActivate=function(path){this.path=path,this.route=this.path[this.path.length-1]},CanDeactivate=function(component,route){this.component=component,this.route=route};function getToken(token,config,moduleInjector){config=function(snapshot){if(!snapshot)return null;for(var s=snapshot.parent;s;s=s.parent){var route=s.routeConfig;if(route&&route._loadedConfig)return route._loadedConfig}return null}(config);return(config?config.module.injector:moduleInjector).get(token)}function getChildRouteGuards(futureNode,currNode,contexts,futurePath,checks){void 0===checks&&(checks={canDeactivateChecks:[],canActivateChecks:[]});var prevChildren=nodeChildrenAsMap(currNode);return futureNode.children.forEach(function(c){!function(futureNode,currNode,parentContexts,futurePath,checks){void 0===checks&&(checks={canDeactivateChecks:[],canActivateChecks:[]});var future=futureNode.value,curr=currNode?currNode.value:null,context=parentContexts?parentContexts.getContext(futureNode.value.outlet):null;{var component;curr&&future.routeConfig===curr.routeConfig?((component=function(curr,future,mode){if("function"==typeof mode)return mode(curr,future);switch(mode){case"pathParamsChange":return!equalPath(curr.url,future.url);case"pathParamsOrQueryParamsChange":return!equalPath(curr.url,future.url)||!shallowEqual(curr.queryParams,future.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!equalParamsAndUrlSegments(curr,future)||!shallowEqual(curr.queryParams,future.queryParams);case"paramsChange":default:return!equalParamsAndUrlSegments(curr,future)}}(curr,future,future.routeConfig.runGuardsAndResolvers))?checks.canActivateChecks.push(new CanActivate(futurePath)):(future.data=curr.data,future._resolvedData=curr._resolvedData),future.component?getChildRouteGuards(futureNode,currNode,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,currNode,parentContexts,futurePath,checks),component&&(component=context&&context.outlet&&context.outlet.component||null,checks.canDeactivateChecks.push(new CanDeactivate(component,curr)))):(curr&&deactivateRouteAndItsChildren(currNode,context,checks),checks.canActivateChecks.push(new CanActivate(futurePath)),future.component?getChildRouteGuards(futureNode,null,context?context.children:null,futurePath,checks):getChildRouteGuards(futureNode,null,parentContexts,futurePath,checks))}}(c,prevChildren[c.value.outlet],contexts,futurePath.concat([c.value]),checks),delete prevChildren[c.value.outlet]}),forEach(prevChildren,function(v,k){return deactivateRouteAndItsChildren(v,contexts.getContext(k),checks)}),checks}function deactivateRouteAndItsChildren(route,context,checks){var children=nodeChildrenAsMap(route),r=route.value;forEach(children,function(node,childName){r.component?deactivateRouteAndItsChildren(node,context?context.children.getContext(childName):null,checks):deactivateRouteAndItsChildren(node,context,checks)}),r.component&&context&&context.outlet&&context.outlet.isActivated?checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component,r)):checks.canDeactivateChecks.push(new CanDeactivate(null,r))}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var INITIAL_VALUE=Symbol("INITIAL_VALUE");function prioritizedGuardValue(){return operators.switchMap(function(obs){return rxjs.combineLatest.apply(void 0,__spread(obs.map(function(o){return o.pipe(operators.take(1),operators.startWith(INITIAL_VALUE))}))).pipe(operators.scan(function(acc,list){var isPending=!1;return list.reduce(function(innerAcc,val,i){if(innerAcc!==INITIAL_VALUE)return innerAcc;if(!(isPending=val===INITIAL_VALUE?!0:isPending)){if(!1===val)return val;if(i===list.length-1||isUrlTree(val))return val}return innerAcc},acc)},INITIAL_VALUE),operators.filter(function(item){return item!==INITIAL_VALUE}),operators.map(function(item){return isUrlTree(item)?item:!0===item}),operators.take(1))})}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function checkGuards(moduleInjector,forwardEvent){return function(source){return source.pipe(operators.mergeMap(function(t){var targetSnapshot=t.targetSnapshot,currentSnapshot=t.currentSnapshot,canDeactivateChecks=t.guards,canActivateChecks=canDeactivateChecks.canActivateChecks,canDeactivateChecks=canDeactivateChecks.canDeactivateChecks;return 0===canDeactivateChecks.length&&0===canActivateChecks.length?rxjs.of(__assign({},t,{guardsResult:!0})):function(checks,futureRSS,currRSS,moduleInjector){return rxjs.from(checks).pipe(operators.mergeMap(function(check){return function(component,currARS,currRSS,futureRSS,moduleInjector){var canDeactivateObservables=currARS&&currARS.routeConfig?currARS.routeConfig.canDeactivate:null;if(!canDeactivateObservables||0===canDeactivateObservables.length)return rxjs.of(!0);canDeactivateObservables=canDeactivateObservables.map(function(guard){var observable,guard=getToken(guard,currARS,moduleInjector);if(function(guard){return guard&&isFunction(guard.canDeactivate)}(guard))observable=wrapIntoObservable(guard.canDeactivate(component,currARS,currRSS,futureRSS));else{if(!isFunction(guard))throw new Error("Invalid CanDeactivate guard");observable=wrapIntoObservable(guard(component,currARS,currRSS,futureRSS))}return observable.pipe(operators.first())});return rxjs.of(canDeactivateObservables).pipe(prioritizedGuardValue())}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(check.component,check.route,currRSS,futureRSS,moduleInjector)}),operators.first(function(result){return!0!==result},!0))}(canDeactivateChecks,targetSnapshot,currentSnapshot,moduleInjector).pipe(operators.mergeMap(function(canDeactivate){return canDeactivate&&"boolean"==typeof canDeactivate?function(futureSnapshot,checks,moduleInjector,forwardEvent){return rxjs.from(checks).pipe(operators.concatMap(function(check){return rxjs.from([function(snapshot,forwardEvent){null!==snapshot&&forwardEvent&&forwardEvent(new ChildActivationStart(snapshot));return rxjs.of(!0)}(check.route.parent,forwardEvent),function(snapshot,forwardEvent){null!==snapshot&&forwardEvent&&forwardEvent(new ActivationStart(snapshot));return rxjs.of(!0)}(check.route,forwardEvent),function(futureRSS,canActivateChildGuardsMapped,moduleInjector){var futureARS=canActivateChildGuardsMapped[canActivateChildGuardsMapped.length-1],canActivateChildGuardsMapped=canActivateChildGuardsMapped.slice(0,canActivateChildGuardsMapped.length-1).reverse().map(function(p){var canActivateChild=p.routeConfig?p.routeConfig.canActivateChild:null;return canActivateChild&&0!==canActivateChild.length?{node:p,guards:canActivateChild}:null}).filter(function(_){return null!==_}).map(function(d){return rxjs.defer(function(){var guardsMapped=d.guards.map(function(guard){var observable,guard=getToken(guard,d.node,moduleInjector);if(function(guard){return guard&&isFunction(guard.canActivateChild)}(guard))observable=wrapIntoObservable(guard.canActivateChild(futureARS,futureRSS));else{if(!isFunction(guard))throw new Error("Invalid CanActivateChild guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(operators.first())});return rxjs.of(guardsMapped).pipe(prioritizedGuardValue())})});return rxjs.of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue())}(futureSnapshot,check.path,moduleInjector),function(futureRSS,futureARS,moduleInjector){var canActivateObservables=futureARS.routeConfig?futureARS.routeConfig.canActivate:null;if(!canActivateObservables||0===canActivateObservables.length)return rxjs.of(!0);canActivateObservables=canActivateObservables.map(function(c){return rxjs.defer(function(){var observable,guard=getToken(c,futureARS,moduleInjector);if(function(guard){return guard&&isFunction(guard.canActivate)}(guard))observable=wrapIntoObservable(guard.canActivate(futureARS,futureRSS));else{if(!isFunction(guard))throw new Error("Invalid CanActivate guard");observable=wrapIntoObservable(guard(futureARS,futureRSS))}return observable.pipe(operators.first())})});return rxjs.of(canActivateObservables).pipe(prioritizedGuardValue())}(futureSnapshot,check.route,moduleInjector)]).pipe(operators.concatAll(),operators.first(function(result){return!0!==result},!0))}),operators.first(function(result){return!0!==result},!0))}(targetSnapshot,canActivateChecks,moduleInjector,forwardEvent):rxjs.of(canDeactivate)}),operators.map(function(guardsResult){return __assign({},t,{guardsResult:guardsResult})}))}))}}var NoMatch$1=function(){};var Recognizer=function(){function Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){this.rootComponentType=rootComponentType,this.config=config,this.urlTree=urlTree,this.url=url,this.paramsInheritanceStrategy=paramsInheritanceStrategy,this.relativeLinkResolution=relativeLinkResolution}return Recognizer.prototype.recognize=function(){try{var rootSegmentGroup=split$1(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,children=this.processSegmentGroup(this.config,rootSegmentGroup,PRIMARY_OUTLET),root=new ActivatedRouteSnapshot([],Object.freeze({}),Object.freeze(__assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},PRIMARY_OUTLET,this.rootComponentType,null,this.urlTree.root,-1,{}),rootNode=new TreeNode(root,children),routeState=new RouterStateSnapshot(this.url,rootNode);return this.inheritParamsAndData(routeState._root),rxjs.of(routeState)}catch(e){return new rxjs.Observable(function(obs){return obs.error(e)})}},Recognizer.prototype.inheritParamsAndData=function(routeNode){var _this=this,route=routeNode.value,i=inheritedParamsDataResolve(route,this.paramsInheritanceStrategy);route.params=Object.freeze(i.params),route.data=Object.freeze(i.data),routeNode.children.forEach(function(n){return _this.inheritParamsAndData(n)})},Recognizer.prototype.processSegmentGroup=function(config,segmentGroup,outlet){return 0===segmentGroup.segments.length&&segmentGroup.hasChildren()?this.processChildren(config,segmentGroup):this.processSegment(config,segmentGroup,segmentGroup.segments,outlet)},Recognizer.prototype.processChildren=function(config,children){var names,_this=this,children=mapChildrenIntoArray(children,function(child,childOutlet){return _this.processSegmentGroup(config,child,childOutlet)});return names={},children.forEach(function(n){var c=names[n.value.outlet];if(c){var p=c.url.map(function(s){return s.toString()}).join("/"),c=n.value.url.map(function(s){return s.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+p+"' and '"+c+"'.")}names[n.value.outlet]=n.value}),function(nodes){nodes.sort(function(a,b){return a.value.outlet===PRIMARY_OUTLET?-1:b.value.outlet===PRIMARY_OUTLET?1:a.value.outlet.localeCompare(b.value.outlet)})}(children),children},Recognizer.prototype.processSegment=function(config,segmentGroup,segments,outlet){var e_1,_a;try{for(var config_1=__values(config),config_1_1=config_1.next();!config_1_1.done;config_1_1=config_1.next()){var r=config_1_1.value;try{return this.processSegmentAgainstRoute(r,segmentGroup,segments,outlet)}catch(e){if(!(e instanceof NoMatch$1))throw e}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{config_1_1&&!config_1_1.done&&(_a=config_1.return)&&_a.call(config_1)}finally{if(e_1)throw e_1.error}}if(this.noLeftoversInUrl(segmentGroup,segments,outlet))return[];throw new NoMatch$1},Recognizer.prototype.noLeftoversInUrl=function(segmentGroup,segments,outlet){return 0===segments.length&&!segmentGroup.children[outlet]},Recognizer.prototype.processSegmentAgainstRoute=function(childConfig,children_1,segments,snapshot){if(childConfig.redirectTo)throw new NoMatch$1;if((childConfig.outlet||PRIMARY_OUTLET)!==snapshot)throw new NoMatch$1;var result,segmentGroup=[],children=[];snapshot="**"===childConfig.path?(result=0<segments.length?last$1(segments).parameters:{},new ActivatedRouteSnapshot(segments,result,Object.freeze(__assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(childConfig),snapshot,childConfig.component,childConfig,getSourceSegmentGroup(children_1),getPathIndexShift(children_1)+segments.length,getResolve(childConfig))):(segmentGroup=(result=function(res,parameters,segments){if(""===parameters.path){if("full"===parameters.pathMatch&&(res.hasChildren()||0<segments.length))throw new NoMatch$1;return{consumedSegments:[],lastChild:0,parameters:{}}}res=(parameters.matcher||defaultUrlMatcher)(segments,res,parameters);if(!res)throw new NoMatch$1;var posParams={};forEach(res.posParams,function(v,k){posParams[k]=v.path});parameters=0<res.consumed.length?__assign({},posParams,res.consumed[res.consumed.length-1].parameters):posParams;return{consumedSegments:res.consumed,lastChild:res.consumed.length,parameters:parameters}}(children_1,childConfig,segments)).consumedSegments,children=segments.slice(result.lastChild),new ActivatedRouteSnapshot(segmentGroup,result.parameters,Object.freeze(__assign({},this.urlTree.queryParams)),this.urlTree.fragment,getData(childConfig),snapshot,childConfig.component,childConfig,getSourceSegmentGroup(children_1),getPathIndexShift(children_1)+segmentGroup.length,getResolve(childConfig)));childConfig=function(route){if(route.children)return route.children;if(route.loadChildren)return route._loadedConfig.routes;return[]}(childConfig),children_1=split$1(children_1,segmentGroup,children,childConfig,this.relativeLinkResolution),segmentGroup=children_1.segmentGroup,children=children_1.slicedSegments;if(0===children.length&&segmentGroup.hasChildren()){children_1=this.processChildren(childConfig,segmentGroup);return[new TreeNode(snapshot,children_1)]}if(0===childConfig.length&&0===children.length)return[new TreeNode(snapshot,[])];children=this.processSegment(childConfig,segmentGroup,children,PRIMARY_OUTLET);return[new TreeNode(snapshot,children)]},Recognizer}();function getSourceSegmentGroup(segmentGroup){for(var s=segmentGroup;s._sourceSegment;)s=s._sourceSegment;return s}function getPathIndexShift(segmentGroup){for(var s=segmentGroup,res=s._segmentIndexShift||0;s._sourceSegment;)res+=(s=s._sourceSegment)._segmentIndexShift||0;return res-1}function split$1(segmentGroup,consumedSegments,slicedSegments,config,relativeLinkResolution){if(0<slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(function(r){return emptyPathMatch(segmentGroup,slicedSegments,r)&&getOutlet$1(r)!==PRIMARY_OUTLET})}(segmentGroup,slicedSegments,config)){var s_1=new UrlSegmentGroup(consumedSegments,function(segmentGroup,consumedSegments,routes,primarySegment){var e_3,_a,res={};(res[PRIMARY_OUTLET]=primarySegment)._sourceSegment=segmentGroup,primarySegment._segmentIndexShift=consumedSegments.length;try{for(var routes_2=__values(routes),routes_2_1=routes_2.next();!routes_2_1.done;routes_2_1=routes_2.next()){var s,r=routes_2_1.value;""===r.path&&getOutlet$1(r)!==PRIMARY_OUTLET&&((s=new UrlSegmentGroup([],{}))._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,res[getOutlet$1(r)]=s)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{routes_2_1&&!routes_2_1.done&&(_a=routes_2.return)&&_a.call(routes_2)}finally{if(e_3)throw e_3.error}}return res}(segmentGroup,consumedSegments,config,new UrlSegmentGroup(slicedSegments,segmentGroup.children)));return s_1._sourceSegment=segmentGroup,s_1._segmentIndexShift=consumedSegments.length,{segmentGroup:s_1,slicedSegments:[]}}if(0===slicedSegments.length&&function(segmentGroup,slicedSegments,routes){return routes.some(function(r){return emptyPathMatch(segmentGroup,slicedSegments,r)})}(segmentGroup,slicedSegments,config)){var s=new UrlSegmentGroup(segmentGroup.segments,function(segmentGroup,consumedSegments,slicedSegments,routes,children,relativeLinkResolution){var e_2,_a,res={};try{for(var routes_1=__values(routes),routes_1_1=routes_1.next();!routes_1_1.done;routes_1_1=routes_1.next()){var s,r=routes_1_1.value;emptyPathMatch(segmentGroup,slicedSegments,r)&&!children[getOutlet$1(r)]&&((s=new UrlSegmentGroup([],{}))._sourceSegment=segmentGroup,s._segmentIndexShift=("legacy"===relativeLinkResolution?segmentGroup.segments:consumedSegments).length,res[getOutlet$1(r)]=s)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{routes_1_1&&!routes_1_1.done&&(_a=routes_1.return)&&_a.call(routes_1)}finally{if(e_2)throw e_2.error}}return __assign({},children,res)}(segmentGroup,consumedSegments,slicedSegments,config,segmentGroup.children,relativeLinkResolution));return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}s=new UrlSegmentGroup(segmentGroup.segments,segmentGroup.children);return s._sourceSegment=segmentGroup,s._segmentIndexShift=consumedSegments.length,{segmentGroup:s,slicedSegments:slicedSegments}}function emptyPathMatch(segmentGroup,slicedSegments,r){return(!(segmentGroup.hasChildren()||0<slicedSegments.length)||"full"!==r.pathMatch)&&(""===r.path&&void 0===r.redirectTo)}function getOutlet$1(route){return route.outlet||PRIMARY_OUTLET}function getData(route){return route.data||{}}function getResolve(route){return route.resolve||{}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function recognize$1(rootComponentType,config,serializer,paramsInheritanceStrategy,relativeLinkResolution){return function(source){return source.pipe(operators.mergeMap(function(t){return function(rootComponentType,config,urlTree,url,paramsInheritanceStrategy,relativeLinkResolution){return new Recognizer(rootComponentType,config,urlTree,url,paramsInheritanceStrategy=void 0===paramsInheritanceStrategy?"emptyOnly":paramsInheritanceStrategy,relativeLinkResolution=void 0===relativeLinkResolution?"legacy":relativeLinkResolution).recognize()}(rootComponentType,config,t.urlAfterRedirects,serializer(t.urlAfterRedirects),paramsInheritanceStrategy,relativeLinkResolution).pipe(operators.map(function(targetSnapshot){return __assign({},t,{targetSnapshot:targetSnapshot})}))}))}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function resolveData(paramsInheritanceStrategy,moduleInjector){return function(source){return source.pipe(operators.mergeMap(function(t){var targetSnapshot=t.targetSnapshot,canActivateChecks=t.guards.canActivateChecks;return canActivateChecks.length?rxjs.from(canActivateChecks).pipe(operators.concatMap(function(check){return function(futureARS,futureRSS,paramsInheritanceStrategy,moduleInjector){return function(resolve,futureARS,futureRSS,moduleInjector){var keys=Object.keys(resolve);if(0===keys.length)return rxjs.of({});if(1===keys.length){var key_1=keys[0];return getResolver(resolve[key_1],futureARS,futureRSS,moduleInjector).pipe(operators.map(function(value){var _a={};return _a[key_1]=value,_a}))}var data={};return rxjs.from(keys).pipe(operators.mergeMap(function(key){return getResolver(resolve[key],futureARS,futureRSS,moduleInjector).pipe(operators.map(function(value){return data[key]=value}))})).pipe(operators.last(),operators.map(function(){return data}))}(futureARS._resolve,futureARS,futureRSS,moduleInjector).pipe(operators.map(function(resolvedData){return futureARS._resolvedData=resolvedData,futureARS.data=__assign({},futureARS.data,inheritedParamsDataResolve(futureARS,paramsInheritanceStrategy).resolve),null}))}(check.route,targetSnapshot,paramsInheritanceStrategy,moduleInjector)}),operators.reduce(function(_,__){return _}),operators.map(function(_){return t})):rxjs.of(t)}))}}function getResolver(injectionToken,futureARS,futureRSS,resolver){resolver=getToken(injectionToken,futureARS,resolver);return resolver.resolve?wrapIntoObservable(resolver.resolve(futureARS,futureRSS)):wrapIntoObservable(resolver(futureARS,futureRSS))}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function switchTap(next){return function(source){return source.pipe(operators.switchMap(function(v){var nextResult=next(v);return nextResult?rxjs.from(nextResult).pipe(operators.map(function(){return v})):rxjs.from([v])}))}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var RouteReuseStrategy=function(){},DefaultRouteReuseStrategy=function(){function DefaultRouteReuseStrategy(){}return DefaultRouteReuseStrategy.prototype.shouldDetach=function(route){return!1},DefaultRouteReuseStrategy.prototype.store=function(route,detachedTree){},DefaultRouteReuseStrategy.prototype.shouldAttach=function(route){return!1},DefaultRouteReuseStrategy.prototype.retrieve=function(route){return null},DefaultRouteReuseStrategy.prototype.shouldReuseRoute=function(future,curr){return future.routeConfig===curr.routeConfig},DefaultRouteReuseStrategy}(),ROUTES=new core.InjectionToken("ROUTES"),RouterConfigLoader=function(){function RouterConfigLoader(loader,compiler,onLoadStartListener,onLoadEndListener){this.loader=loader,this.compiler=compiler,this.onLoadStartListener=onLoadStartListener,this.onLoadEndListener=onLoadEndListener}return RouterConfigLoader.prototype.load=function(parentInjector,route){var _this=this;return this.onLoadStartListener&&this.onLoadStartListener(route),this.loadModuleFactory(route.loadChildren).pipe(operators.map(function(module){_this.onLoadEndListener&&_this.onLoadEndListener(route);module=module.create(parentInjector);return new LoadedRouterConfig(flatten(module.injector.get(ROUTES)).map(standardizeConfig),module)}))},RouterConfigLoader.prototype.loadModuleFactory=function(loadChildren){var _this=this;return"string"==typeof loadChildren?rxjs.from(this.loader.load(loadChildren)):wrapIntoObservable(loadChildren()).pipe(operators.mergeMap(function(t){return t instanceof core.NgModuleFactory?rxjs.of(t):rxjs.from(_this.compiler.compileModuleAsync(t))}))},RouterConfigLoader}(),UrlHandlingStrategy=function(){},DefaultUrlHandlingStrategy=function(){function DefaultUrlHandlingStrategy(){}return DefaultUrlHandlingStrategy.prototype.shouldProcessUrl=function(url){return!0},DefaultUrlHandlingStrategy.prototype.extract=function(url){return url},DefaultUrlHandlingStrategy.prototype.merge=function(newUrlPart,wholeUrl){return newUrlPart},DefaultUrlHandlingStrategy}();
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
function defaultErrorHandler(error){throw error}function defaultMalformedUriErrorHandler(error,urlSerializer,url){return urlSerializer.parse("/")}function defaultRouterHook(snapshot,runExtras){return rxjs.of(null)}var Router=function(){function Router(rootComponentType,urlSerializer,rootContexts,location,ngZone,loader,compiler,config){var _this=this;this.rootComponentType=rootComponentType,this.urlSerializer=urlSerializer,this.rootContexts=rootContexts,this.location=location,this.config=config,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new rxjs.Subject,this.errorHandler=defaultErrorHandler,this.malformedUriErrorHandler=defaultMalformedUriErrorHandler,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:defaultRouterHook,afterPreactivation:defaultRouterHook},this.urlHandlingStrategy=new DefaultUrlHandlingStrategy,this.routeReuseStrategy=new DefaultRouteReuseStrategy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=ngZone.get(core.NgModuleRef),this.console=ngZone.get(core["ɵConsole"]);ngZone=ngZone.get(core.NgZone);this.isNgZoneEnabled=ngZone instanceof core.NgZone,this.resetConfig(config),this.currentUrlTree=new UrlTree(new UrlSegmentGroup([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new RouterConfigLoader(loader,compiler,function(r){return _this.triggerEvent(new RouteConfigLoadStart(r))},function(r){return _this.triggerEvent(new RouteConfigLoadEnd(r))}),this.routerState=createEmptyState(this.currentUrlTree,this.rootComponentType),this.transitions=new rxjs.BehaviorSubject({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return Router.prototype.setupNavigations=function(transitions){var _this=this,eventsSubject=this.events;return transitions.pipe(operators.filter(function(t){return 0!==t.id}),operators.map(function(t){return __assign({},t,{extractedUrl:_this.urlHandlingStrategy.extract(t.rawUrl)})}),operators.switchMap(function(t){var rootContexts,routeReuseStrategy,forwardEvent,completed=!1,errored=!1;return rxjs.of(t).pipe(operators.tap(function(t){_this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:_this.lastSuccessfulNavigation?__assign({},_this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),operators.switchMap(function(t){var extras=!_this.navigated||t.extractedUrl.toString()!==_this.browserUrlTree.toString();if(("reload"===_this.onSameUrlNavigation||extras)&&_this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return rxjs.of(t).pipe(operators.switchMap(function(t){var transition=_this.transitions.getValue();return eventsSubject.next(new NavigationStart(t.id,_this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),transition!==_this.transitions.getValue()?rxjs.EMPTY:[t]}),operators.switchMap(function(t){return Promise.resolve(t)}),applyRedirects$1(_this.ngModule.injector,_this.configLoader,_this.urlSerializer,_this.config),operators.tap(function(t){_this.currentNavigation=__assign({},_this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),recognize$1(_this.rootComponentType,_this.config,function(url){return _this.serializeUrl(url)},_this.paramsInheritanceStrategy,_this.relativeLinkResolution),operators.tap(function(t){"eager"===_this.urlUpdateStrategy&&(t.extras.skipLocationChange||_this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),_this.browserUrlTree=t.urlAfterRedirects)}),operators.tap(function(routesRecognized){routesRecognized=new RoutesRecognized(routesRecognized.id,_this.serializeUrl(routesRecognized.extractedUrl),_this.serializeUrl(routesRecognized.urlAfterRedirects),routesRecognized.targetSnapshot);eventsSubject.next(routesRecognized)}));if(extras&&_this.rawUrlTree&&_this.urlHandlingStrategy.shouldProcessUrl(_this.rawUrlTree)){var id=t.id,extractedUrl=t.extractedUrl,source=t.source,targetSnapshot=t.restoredState,extras=t.extras,targetSnapshot=new NavigationStart(id,_this.serializeUrl(extractedUrl),source,targetSnapshot);eventsSubject.next(targetSnapshot);targetSnapshot=createEmptyState(extractedUrl,_this.rootComponentType).snapshot;return rxjs.of(__assign({},t,{targetSnapshot:targetSnapshot,urlAfterRedirects:extractedUrl,extras:__assign({},extras,{skipLocationChange:!1,replaceUrl:!1})}))}return _this.rawUrlTree=t.rawUrl,t.resolve(null),rxjs.EMPTY}),switchTap(function(skipLocationChange){var targetSnapshot=skipLocationChange.targetSnapshot,navigationId=skipLocationChange.id,appliedUrlTree=skipLocationChange.extractedUrl,rawUrlTree=skipLocationChange.rawUrl,replaceUrl=skipLocationChange.extras,skipLocationChange=replaceUrl.skipLocationChange,replaceUrl=replaceUrl.replaceUrl;return _this.hooks.beforePreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),operators.tap(function(guardsStart){guardsStart=new GuardsCheckStart(guardsStart.id,_this.serializeUrl(guardsStart.extractedUrl),_this.serializeUrl(guardsStart.urlAfterRedirects),guardsStart.targetSnapshot);_this.triggerEvent(guardsStart)}),operators.map(function(parentContexts){return __assign({},parentContexts,{guards:(futureRoot=parentContexts.targetSnapshot,curr=parentContexts.currentSnapshot,parentContexts=_this.rootContexts,getChildRouteGuards(futureRoot=futureRoot._root,curr?curr._root:null,parentContexts,[futureRoot.value]))});var futureRoot,curr}),checkGuards(_this.ngModule.injector,function(evt){return _this.triggerEvent(evt)}),operators.tap(function(t){if(isUrlTree(t.guardsResult)){var error=navigationCancelingError('Redirecting to "'+_this.serializeUrl(t.guardsResult)+'"');throw error.url=t.guardsResult,error}}),operators.tap(function(guardsEnd){guardsEnd=new GuardsCheckEnd(guardsEnd.id,_this.serializeUrl(guardsEnd.extractedUrl),_this.serializeUrl(guardsEnd.urlAfterRedirects),guardsEnd.targetSnapshot,!!guardsEnd.guardsResult);_this.triggerEvent(guardsEnd)}),operators.filter(function(t){if(t.guardsResult)return!0;_this.resetUrlToCurrentUrlTree();var navCancel=new NavigationCancel(t.id,_this.serializeUrl(t.extractedUrl),"");return eventsSubject.next(navCancel),t.resolve(!1),!1}),switchTap(function(t){if(t.guards.canActivateChecks.length)return rxjs.of(t).pipe(operators.tap(function(resolveStart){resolveStart=new ResolveStart(resolveStart.id,_this.serializeUrl(resolveStart.extractedUrl),_this.serializeUrl(resolveStart.urlAfterRedirects),resolveStart.targetSnapshot);_this.triggerEvent(resolveStart)}),resolveData(_this.paramsInheritanceStrategy,_this.ngModule.injector),operators.tap(function(resolveEnd){resolveEnd=new ResolveEnd(resolveEnd.id,_this.serializeUrl(resolveEnd.extractedUrl),_this.serializeUrl(resolveEnd.urlAfterRedirects),resolveEnd.targetSnapshot);_this.triggerEvent(resolveEnd)}))}),switchTap(function(skipLocationChange){var targetSnapshot=skipLocationChange.targetSnapshot,navigationId=skipLocationChange.id,appliedUrlTree=skipLocationChange.extractedUrl,rawUrlTree=skipLocationChange.rawUrl,replaceUrl=skipLocationChange.extras,skipLocationChange=replaceUrl.skipLocationChange,replaceUrl=replaceUrl.replaceUrl;return _this.hooks.afterPreactivation(targetSnapshot,{navigationId:navigationId,appliedUrlTree:appliedUrlTree,rawUrlTree:rawUrlTree,skipLocationChange:!!skipLocationChange,replaceUrl:!!replaceUrl})}),operators.map(function(t){var routeReuseStrategy,targetRouterState,root,targetRouterState=(routeReuseStrategy=_this.routeReuseStrategy,targetRouterState=t.targetSnapshot,root=t.currentRouterState,root=createNode(routeReuseStrategy,targetRouterState._root,root?root._root:void 0),new RouterState(root,targetRouterState));return __assign({},t,{targetRouterState:targetRouterState})}),operators.tap(function(t){_this.currentUrlTree=t.urlAfterRedirects,_this.rawUrlTree=_this.urlHandlingStrategy.merge(_this.currentUrlTree,t.rawUrl),_this.routerState=t.targetRouterState,"deferred"===_this.urlUpdateStrategy&&(t.extras.skipLocationChange||_this.setBrowserUrl(_this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),_this.browserUrlTree=t.urlAfterRedirects)}),(rootContexts=_this.rootContexts,routeReuseStrategy=_this.routeReuseStrategy,forwardEvent=function(evt){return _this.triggerEvent(evt)},operators.map(function(t){return new ActivateRoutes(routeReuseStrategy,t.targetRouterState,t.currentRouterState,forwardEvent).activate(rootContexts),t})),operators.tap({next:function(){completed=!0},complete:function(){completed=!0}}),operators.finalize(function(){var navCancel;completed||errored||(_this.resetUrlToCurrentUrlTree(),navCancel=new NavigationCancel(t.id,_this.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+_this.navigationId),eventsSubject.next(navCancel),t.resolve(!1)),_this.currentNavigation=null}),operators.catchError(function(e){if(errored=!0,(navCancel=e)&&navCancel[NAVIGATION_CANCELING_ERROR]){var navError=isUrlTree(e.url);navError||(_this.navigated=!0,_this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));navCancel=new NavigationCancel(t.id,_this.serializeUrl(t.extractedUrl),e.message);eventsSubject.next(navCancel),t.resolve(!1),navError&&_this.navigateByUrl(e.url)}else{_this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);navError=new NavigationError(t.id,_this.serializeUrl(t.extractedUrl),e);eventsSubject.next(navError);try{t.resolve(_this.errorHandler(e))}catch(ee){t.reject(ee)}}var navCancel;return rxjs.EMPTY}))}))},Router.prototype.resetRootComponentType=function(rootComponentType){this.rootComponentType=rootComponentType,this.routerState.root.component=this.rootComponentType},Router.prototype.getTransition=function(){return this.transitions.value},Router.prototype.setTransition=function(t){this.transitions.next(__assign({},this.getTransition(),t))},Router.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},Router.prototype.setUpLocationChangeListener=function(){var _this=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(change){var rawUrlTree=_this.parseUrl(change.url),source="popstate"===change.type?"popstate":"hashchange",state=change.state&&change.state.navigationId?change.state:null;setTimeout(function(){_this.scheduleNavigation(rawUrlTree,source,state,{replaceUrl:!0})},0)}))},Object.defineProperty(Router.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Router.prototype.getCurrentNavigation=function(){return this.currentNavigation},Router.prototype.triggerEvent=function(event){this.events.next(event)},Router.prototype.resetConfig=function(config){validateConfig(config),this.config=config.map(standardizeConfig),this.navigated=!1,this.lastSuccessfulId=-1},Router.prototype.ngOnDestroy=function(){this.dispose()},Router.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},Router.prototype.createUrlTree=function(commands,preserveFragment){var a=(preserveFragment=void 0===preserveFragment?{}:preserveFragment).relativeTo,queryParams=preserveFragment.queryParams,f=preserveFragment.fragment,preserveQueryParams=preserveFragment.preserveQueryParams,queryParamsHandling=preserveFragment.queryParamsHandling,preserveFragment=preserveFragment.preserveFragment;core.isDevMode()&&preserveQueryParams&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var a=a||this.routerState.root,f=preserveFragment?this.currentUrlTree.fragment:f,q=null;if(queryParamsHandling)switch(queryParamsHandling){case"merge":q=__assign({},this.currentUrlTree.queryParams,queryParams);break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=queryParams||null}else q=preserveQueryParams?this.currentUrlTree.queryParams:queryParams||null;return null!==q&&(q=this.removeEmptyProps(q)),createUrlTree(a,this.currentUrlTree,commands,q,f)},Router.prototype.navigateByUrl=function(mergedTree,extras){void 0===extras&&(extras={skipLocationChange:!1}),core.isDevMode()&&this.isNgZoneEnabled&&!core.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");mergedTree=isUrlTree(mergedTree)?mergedTree:this.parseUrl(mergedTree),mergedTree=this.urlHandlingStrategy.merge(mergedTree,this.rawUrlTree);return this.scheduleNavigation(mergedTree,"imperative",null,extras)},Router.prototype.navigate=function(commands,extras){return void 0===extras&&(extras={skipLocationChange:!1}),function(commands){for(var i=0;i<commands.length;i++){var cmd=commands[i];if(null==cmd)throw new Error("The requested path contains "+cmd+" segment at index "+i)}}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(commands),this.navigateByUrl(this.createUrlTree(commands,extras),extras)},Router.prototype.serializeUrl=function(url){return this.urlSerializer.serialize(url)},Router.prototype.parseUrl=function(url){var urlTree;try{urlTree=this.urlSerializer.parse(url)}catch(e){urlTree=this.malformedUriErrorHandler(e,this.urlSerializer,url)}return urlTree},Router.prototype.isActive=function(urlTree,exact){if(isUrlTree(urlTree))return containsTree(this.currentUrlTree,urlTree,exact);urlTree=this.parseUrl(urlTree);return containsTree(this.currentUrlTree,urlTree,exact)},Router.prototype.removeEmptyProps=function(params){return Object.keys(params).reduce(function(result,key){var value=params[key];return null!=value&&(result[key]=value),result},{})},Router.prototype.processNavigations=function(){var _this=this;this.navigations.subscribe(function(t){_this.navigated=!0,_this.lastSuccessfulId=t.id,_this.events.next(new NavigationEnd(t.id,_this.serializeUrl(t.extractedUrl),_this.serializeUrl(_this.currentUrlTree))),_this.lastSuccessfulNavigation=_this.currentNavigation,_this.currentNavigation=null,t.resolve(!0)},function(e){_this.console.warn("Unhandled Navigation Error: ")})},Router.prototype.scheduleNavigation=function(rawUrl,source,restoredState,extras){var id=this.getTransition();if(id&&"imperative"!==source&&"imperative"===id.source&&id.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(id&&"hashchange"==source&&"popstate"===id.source&&id.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);if(id&&"popstate"==source&&"hashchange"===id.source&&id.rawUrl.toString()===rawUrl.toString())return Promise.resolve(!0);var resolve=null,reject=null,promise=new Promise(function(res,rej){resolve=res,reject=rej}),id=++this.navigationId;return this.setTransition({id:id,source:source,restoredState:restoredState,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:rawUrl,extras:extras,resolve:resolve,reject:reject,promise:promise,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),promise.catch(function(e){return Promise.reject(e)})},Router.prototype.setBrowserUrl=function(path,replaceUrl,id,state){path=this.urlSerializer.serialize(path);state=state||{},this.location.isCurrentPathEqualTo(path)||replaceUrl?this.location.replaceState(path,"",__assign({},state,{navigationId:id})):this.location.go(path,"",__assign({},state,{navigationId:id}))},Router.prototype.resetStateAndUrl=function(storedState,storedUrl,rawUrl){this.routerState=storedState,this.currentUrlTree=storedUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,rawUrl),this.resetUrlToCurrentUrlTree()},Router.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},Router}();var RouterLink=function(){function RouterLink(router,route,tabIndex,renderer,el){this.router=router,this.route=route,this.commands=[],null==tabIndex&&renderer.setAttribute(el.nativeElement,"tabindex","0")}return Object.defineProperty(RouterLink.prototype,"routerLink",{set:function(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(RouterLink.prototype,"preserveQueryParams",{set:function(value){core.isDevMode()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=value},enumerable:!0,configurable:!0}),RouterLink.prototype.onClick=function(){var extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,extras),!0},Object.defineProperty(RouterLink.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})},enumerable:!0,configurable:!0}),__decorate([core.Input(),__metadata("design:type",Object)],RouterLink.prototype,"queryParams",void 0),__decorate([core.Input(),__metadata("design:type",String)],RouterLink.prototype,"fragment",void 0),__decorate([core.Input(),__metadata("design:type",String)],RouterLink.prototype,"queryParamsHandling",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLink.prototype,"preserveFragment",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLink.prototype,"skipLocationChange",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLink.prototype,"replaceUrl",void 0),__decorate([core.Input(),__metadata("design:type",Object)],RouterLink.prototype,"state",void 0),__decorate([core.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],RouterLink.prototype,"routerLink",null),__decorate([core.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],RouterLink.prototype,"preserveQueryParams",null),__decorate([core.HostListener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",Boolean)],RouterLink.prototype,"onClick",null),__decorate([core.Directive({selector:":not(a):not(area)[routerLink]"}),__param(2,core.Attribute("tabindex")),__metadata("design:paramtypes",[Router,ActivatedRoute,String,core.Renderer2,core.ElementRef])],RouterLink)}(),RouterLinkWithHref=function(){function RouterLinkWithHref(router,route,locationStrategy){var _this=this;this.router=router,this.route=route,this.locationStrategy=locationStrategy,this.commands=[],this.subscription=router.events.subscribe(function(s){s instanceof NavigationEnd&&_this.updateTargetUrlAndHref()})}return Object.defineProperty(RouterLinkWithHref.prototype,"routerLink",{set:function(commands){this.commands=null!=commands?Array.isArray(commands)?commands:[commands]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(RouterLinkWithHref.prototype,"preserveQueryParams",{set:function(value){core.isDevMode()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=value},enumerable:!0,configurable:!0}),RouterLinkWithHref.prototype.ngOnChanges=function(changes){this.updateTargetUrlAndHref()},RouterLinkWithHref.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterLinkWithHref.prototype.onClick=function(button,ctrlKey,metaKey,extras){if(0!==button||ctrlKey||metaKey||extras)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;extras={skipLocationChange:attrBoolValue(this.skipLocationChange),replaceUrl:attrBoolValue(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,extras),!1},RouterLinkWithHref.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(RouterLinkWithHref.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:attrBoolValue(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:attrBoolValue(this.preserveFragment)})},enumerable:!0,configurable:!0}),__decorate([core.HostBinding("attr.target"),core.Input(),__metadata("design:type",String)],RouterLinkWithHref.prototype,"target",void 0),__decorate([core.Input(),__metadata("design:type",Object)],RouterLinkWithHref.prototype,"queryParams",void 0),__decorate([core.Input(),__metadata("design:type",String)],RouterLinkWithHref.prototype,"fragment",void 0),__decorate([core.Input(),__metadata("design:type",String)],RouterLinkWithHref.prototype,"queryParamsHandling",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLinkWithHref.prototype,"preserveFragment",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLinkWithHref.prototype,"skipLocationChange",void 0),__decorate([core.Input(),__metadata("design:type",Boolean)],RouterLinkWithHref.prototype,"replaceUrl",void 0),__decorate([core.Input(),__metadata("design:type",Object)],RouterLinkWithHref.prototype,"state",void 0),__decorate([core.HostBinding(),__metadata("design:type",String)],RouterLinkWithHref.prototype,"href",void 0),__decorate([core.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],RouterLinkWithHref.prototype,"routerLink",null),__decorate([core.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],RouterLinkWithHref.prototype,"preserveQueryParams",null),__decorate([core.HostListener("click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Number,Boolean,Boolean,Boolean]),__metadata("design:returntype",Boolean)],RouterLinkWithHref.prototype,"onClick",null),__decorate([core.Directive({selector:"a[routerLink],area[routerLink]"}),__metadata("design:paramtypes",[Router,ActivatedRoute,common.LocationStrategy])],RouterLinkWithHref)}();function attrBoolValue(s){return""===s||!!s}
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function PreloadingStrategy(){}var RouterLinkActive=function(){function RouterLinkActive(router,element,renderer,cdr){var _this=this;this.router=router,this.element=element,this.renderer=renderer,this.cdr=cdr,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=router.events.subscribe(function(s){s instanceof NavigationEnd&&_this.update()})}return RouterLinkActive.prototype.ngAfterContentInit=function(){var _this=this;this.links.changes.subscribe(function(_){return _this.update()}),this.linksWithHrefs.changes.subscribe(function(_){return _this.update()}),this.update()},Object.defineProperty(RouterLinkActive.prototype,"routerLinkActive",{set:function(classes){classes=Array.isArray(classes)?classes:classes.split(" ");this.classes=classes.filter(function(c){return!!c})},enumerable:!0,configurable:!0}),RouterLinkActive.prototype.ngOnChanges=function(changes){this.update()},RouterLinkActive.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterLinkActive.prototype.update=function(){var _this=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var hasActiveLinks=_this.hasActiveLinks();_this.isActive!==hasActiveLinks&&(_this.isActive=hasActiveLinks,_this.classes.forEach(function(c){hasActiveLinks?_this.renderer.addClass(_this.element.nativeElement,c):_this.renderer.removeClass(_this.element.nativeElement,c)}))})},RouterLinkActive.prototype.isLinkActive=function(router){var _this=this;return function(link){return router.isActive(link.urlTree,_this.routerLinkActiveOptions.exact)}},RouterLinkActive.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},__decorate([core.ContentChildren(RouterLink,{descendants:!0}),__metadata("design:type",core.QueryList)],RouterLinkActive.prototype,"links",void 0),__decorate([core.ContentChildren(RouterLinkWithHref,{descendants:!0}),__metadata("design:type",core.QueryList)],RouterLinkActive.prototype,"linksWithHrefs",void 0),__decorate([core.Input(),__metadata("design:type",Object)],RouterLinkActive.prototype,"routerLinkActiveOptions",void 0),__decorate([core.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],RouterLinkActive.prototype,"routerLinkActive",null),__decorate([core.Directive({selector:"[routerLinkActive]",exportAs:"routerLinkActive"}),__metadata("design:paramtypes",[Router,core.ElementRef,core.Renderer2,core.ChangeDetectorRef])],RouterLinkActive)}(),OutletContext=function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ChildrenOutletContexts,this.attachRef=null},ChildrenOutletContexts=function(){function ChildrenOutletContexts(){this.contexts=new Map}return ChildrenOutletContexts.prototype.onChildOutletCreated=function(childName,outlet){var context=this.getOrCreateContext(childName);context.outlet=outlet,this.contexts.set(childName,context)},ChildrenOutletContexts.prototype.onChildOutletDestroyed=function(context){context=this.getContext(context);context&&(context.outlet=null)},ChildrenOutletContexts.prototype.onOutletDeactivated=function(){var contexts=this.contexts;return this.contexts=new Map,contexts},ChildrenOutletContexts.prototype.onOutletReAttached=function(contexts){this.contexts=contexts},ChildrenOutletContexts.prototype.getOrCreateContext=function(childName){var context=this.getContext(childName);return context||(context=new OutletContext,this.contexts.set(childName,context)),context},ChildrenOutletContexts.prototype.getContext=function(childName){return this.contexts.get(childName)||null},ChildrenOutletContexts}(),RouterOutlet=function(){function RouterOutlet(parentContexts,location,resolver,name,changeDetector){this.parentContexts=parentContexts,this.location=location,this.resolver=resolver,this.changeDetector=changeDetector,this.activated=null,this._activatedRoute=null,this.activateEvents=new core.EventEmitter,this.deactivateEvents=new core.EventEmitter,this.name=name||PRIMARY_OUTLET,parentContexts.onChildOutletCreated(this.name,this)}return RouterOutlet.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},RouterOutlet.prototype.ngOnInit=function(){var context;this.activated||(context=this.parentContexts.getContext(this.name))&&context.route&&(context.attachRef?this.attach(context.attachRef,context.route):this.activateWith(context.route,context.resolver||null))},Object.defineProperty(RouterOutlet.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(RouterOutlet.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),RouterOutlet.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var cmp=this.activated;return this.activated=null,this._activatedRoute=null,cmp},RouterOutlet.prototype.attach=function(ref,activatedRoute){this.activated=ref,this._activatedRoute=activatedRoute,this.location.insert(ref.hostView)},RouterOutlet.prototype.deactivate=function(){var c;this.activated&&(c=this.component,this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(c))},RouterOutlet.prototype.activateWith=function(activatedRoute,factory){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");var injector=(this._activatedRoute=activatedRoute)._futureSnapshot.routeConfig.component,factory=(factory=factory||this.resolver).resolveComponentFactory(injector),injector=this.parentContexts.getOrCreateContext(this.name).children,injector=new OutletInjector(activatedRoute,injector,this.location.injector);this.activated=this.location.createComponent(factory,this.location.length,injector),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},__decorate([core.Output("activate"),__metadata("design:type",Object)],RouterOutlet.prototype,"activateEvents",void 0),__decorate([core.Output("deactivate"),__metadata("design:type",Object)],RouterOutlet.prototype,"deactivateEvents",void 0),__decorate([core.Directive({selector:"router-outlet",exportAs:"outlet"}),__param(3,core.Attribute("name")),__metadata("design:paramtypes",[ChildrenOutletContexts,core.ViewContainerRef,core.ComponentFactoryResolver,String,core.ChangeDetectorRef])],RouterOutlet)}(),OutletInjector=function(){function OutletInjector(route,childContexts,parent){this.route=route,this.childContexts=childContexts,this.parent=parent}return OutletInjector.prototype.get=function(token,notFoundValue){return token===ActivatedRoute?this.route:token===ChildrenOutletContexts?this.childContexts:this.parent.get(token,notFoundValue)},OutletInjector}(),OktaAuthModule=function(){function PreloadAllModules(){}return PreloadAllModules.prototype.preload=function(route,fn){return fn().pipe(operators.catchError(function(){return rxjs.of(null)}))},PreloadAllModules}(),NoPreloading=function(){function NoPreloading(){}return NoPreloading.prototype.preload=function(route,fn){return rxjs.of(null)},NoPreloading}(),RouterPreloader=function(){function RouterPreloader(router,moduleLoader,compiler,injector,preloadingStrategy){this.router=router,this.injector=injector,this.preloadingStrategy=preloadingStrategy;this.loader=new RouterConfigLoader(moduleLoader,compiler,function(r){return router.triggerEvent(new RouteConfigLoadStart(r))},function(r){return router.triggerEvent(new RouteConfigLoadEnd(r))})}return RouterPreloader.prototype.setUpPreloading=function(){var _this=this;this.subscription=this.router.events.pipe(operators.filter(function(e){return e instanceof NavigationEnd}),operators.concatMap(function(){return _this.preload()})).subscribe(function(){})},RouterPreloader.prototype.preload=function(){var ngModule=this.injector.get(core.NgModuleRef);return this.processRoutes(ngModule,this.router.config)},RouterPreloader.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},RouterPreloader.prototype.processRoutes=function(ngModule,routes){var e_1,_a,res=[];try{for(var routes_1=__values(routes),routes_1_1=routes_1.next();!routes_1_1.done;routes_1_1=routes_1.next()){var childConfig,route=routes_1_1.value;route.loadChildren&&!route.canLoad&&route._loadedConfig?(childConfig=route._loadedConfig,res.push(this.processRoutes(childConfig.module,childConfig.routes))):route.loadChildren&&!route.canLoad?res.push(this.preloadConfig(ngModule,route)):route.children&&res.push(this.processRoutes(ngModule,route.children))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{routes_1_1&&!routes_1_1.done&&(_a=routes_1.return)&&_a.call(routes_1)}finally{if(e_1)throw e_1.error}}return rxjs.from(res).pipe(operators.mergeAll(),operators.map(function(_){}))},RouterPreloader.prototype.preloadConfig=function(ngModule,route){var _this=this;return this.preloadingStrategy.preload(route,function(){return _this.loader.load(ngModule.injector,route).pipe(operators.mergeMap(function(config){return route._loadedConfig=config,_this.processRoutes(config.module,config.routes)}))})},__decorate([core.Injectable(),__metadata("design:paramtypes",[Router,core.NgModuleFactoryLoader,core.Compiler,core.Injector,PreloadingStrategy])],RouterPreloader)}(),RouterScroller=function(){function RouterScroller(router,viewportScroller,options){void 0===options&&(options={}),this.router=router,this.viewportScroller=viewportScroller,this.options=options,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},options.scrollPositionRestoration=options.scrollPositionRestoration||"disabled",options.anchorScrolling=options.anchorScrolling||"disabled"}return RouterScroller.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},RouterScroller.prototype.createScrollEvents=function(){var _this=this;return this.router.events.subscribe(function(e){e instanceof NavigationStart?(_this.store[_this.lastId]=_this.viewportScroller.getScrollPosition(),_this.lastSource=e.navigationTrigger,_this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof NavigationEnd&&(_this.lastId=e.id,_this.scheduleScrollEvent(e,_this.router.parseUrl(e.urlAfterRedirects).fragment))})},RouterScroller.prototype.consumeScrollEvents=function(){var _this=this;return this.router.events.subscribe(function(e){e instanceof Scroll&&(e.position?"top"===_this.options.scrollPositionRestoration?_this.viewportScroller.scrollToPosition([0,0]):"enabled"===_this.options.scrollPositionRestoration&&_this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===_this.options.anchorScrolling?_this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==_this.options.scrollPositionRestoration&&_this.viewportScroller.scrollToPosition([0,0]))})},RouterScroller.prototype.scheduleScrollEvent=function(routerEvent,anchor){this.router.triggerEvent(new Scroll(routerEvent,"popstate"===this.lastSource?this.store[this.restoredId]:null,anchor))},RouterScroller.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},RouterScroller}(),ROUTER_DIRECTIVES=[RouterOutlet,RouterLink,RouterLinkWithHref,RouterLinkActive,EmptyOutletComponent],ROUTER_CONFIGURATION=new core.InjectionToken("ROUTER_CONFIGURATION"),ROUTER_FORROOT_GUARD=new core.InjectionToken("ROUTER_FORROOT_GUARD"),ROUTER_PROVIDERS=[common.Location,{provide:UrlSerializer,useClass:DefaultUrlSerializer},{provide:Router,useFactory:function(ref,urlSerializer,contexts,location,injector,loader,compiler,router,opts,urlHandlingStrategy,routeReuseStrategy){void 0===opts&&(opts={});router=new Router(null,urlSerializer,contexts,location,injector,loader,compiler,flatten(router));urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy);routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy);opts.errorHandler&&(router.errorHandler=opts.errorHandler);opts.malformedUriErrorHandler&&(router.malformedUriErrorHandler=opts.malformedUriErrorHandler);{var dom_1;opts.enableTracing&&(dom_1=_DOM,router.events.subscribe(function(e){dom_1.logGroup("Router Event: "+e.constructor.name),dom_1.log(e.toString()),dom_1.log(e),dom_1.logGroupEnd()}))}opts.onSameUrlNavigation&&(router.onSameUrlNavigation=opts.onSameUrlNavigation);opts.paramsInheritanceStrategy&&(router.paramsInheritanceStrategy=opts.paramsInheritanceStrategy);opts.urlUpdateStrategy&&(router.urlUpdateStrategy=opts.urlUpdateStrategy);opts.relativeLinkResolution&&(router.relativeLinkResolution=opts.relativeLinkResolution);return router},deps:[core.ApplicationRef,UrlSerializer,ChildrenOutletContexts,common.Location,core.Injector,core.NgModuleFactoryLoader,core.Compiler,ROUTES,ROUTER_CONFIGURATION,[UrlHandlingStrategy,new core.Optional],[RouteReuseStrategy,new core.Optional]]},ChildrenOutletContexts,{provide:ActivatedRoute,useFactory:function(router){return router.routerState.root},deps:[Router]},{provide:core.NgModuleFactoryLoader,useClass:core.SystemJsNgModuleLoader},RouterPreloader,NoPreloading,OktaAuthModule,{provide:ROUTER_CONFIGURATION,useValue:{enableTracing:!1}}];
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function routerNgProbeToken(){return new core.NgProbeToken("Router",Router)}!function(){function RouterModule(guard,router){}var RouterModule_1=RouterModule;RouterModule.forRoot=function(routes,config){return{ngModule:RouterModule_1,providers:[ROUTER_PROVIDERS,provideRoutes(routes),{provide:ROUTER_FORROOT_GUARD,useFactory:provideForRootGuard,deps:[[Router,new core.Optional,new core.SkipSelf]]},{provide:ROUTER_CONFIGURATION,useValue:config||{}},{provide:common.LocationStrategy,useFactory:provideLocationStrategy,deps:[common.PlatformLocation,[new core.Inject(common.APP_BASE_HREF),new core.Optional],ROUTER_CONFIGURATION]},{provide:RouterScroller,useFactory:createRouterScroller,deps:[Router,common.ViewportScroller,ROUTER_CONFIGURATION]},{provide:PreloadingStrategy,useExisting:config&&config.preloadingStrategy?config.preloadingStrategy:NoPreloading},{provide:core.NgProbeToken,multi:!0,useFactory:routerNgProbeToken},[RouterInitializer,{provide:core.APP_INITIALIZER,multi:!0,useFactory:getAppInitializer,deps:[RouterInitializer]},{provide:ROUTER_INITIALIZER,useFactory:getBootstrapListener,deps:[RouterInitializer]},{provide:core.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:ROUTER_INITIALIZER}]]}},RouterModule.forChild=function(routes){return{ngModule:RouterModule_1,providers:[provideRoutes(routes)]}},RouterModule_1=__decorate([core.NgModule({declarations:ROUTER_DIRECTIVES,exports:ROUTER_DIRECTIVES,entryComponents:[EmptyOutletComponent]}),__param(0,core.Optional()),__param(0,core.Inject(ROUTER_FORROOT_GUARD)),__param(1,core.Optional()),__metadata("design:paramtypes",[Object,Router])],RouterModule)}();function createRouterScroller(router,viewportScroller,config){return config.scrollOffset&&viewportScroller.setOffset(config.scrollOffset),new RouterScroller(router,viewportScroller,config)}function provideLocationStrategy(platformLocationStrategy,baseHref,options){return new((options=void 0===options?{}:options).useHash?common.HashLocationStrategy:common.PathLocationStrategy)(platformLocationStrategy,baseHref)}function provideForRootGuard(router){if(router)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function provideRoutes(routes){return[{provide:core.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:routes},{provide:ROUTES,multi:!0,useValue:routes}]}var RouterInitializer=function(){function RouterInitializer(injector){this.injector=injector,this.initNavigation=!1,this.resultOfPreactivationDone=new rxjs.Subject}return RouterInitializer.prototype.appInitializer=function(){var _this=this;return this.injector.get(common.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var resolve=null,res=new Promise(function(r){return resolve=r}),router=_this.injector.get(Router),opts=_this.injector.get(ROUTER_CONFIGURATION);if(_this.isLegacyDisabled(opts)||_this.isLegacyEnabled(opts))resolve(!0);else if("disabled"===opts.initialNavigation)router.setUpLocationChangeListener(),resolve(!0);else{if("enabled"!==opts.initialNavigation)throw new Error("Invalid initialNavigation options: '"+opts.initialNavigation+"'");router.hooks.afterPreactivation=function(){return _this.initNavigation?rxjs.of(null):(_this.initNavigation=!0,resolve(!0),_this.resultOfPreactivationDone)},router.initialNavigation()}return res})},RouterInitializer.prototype.bootstrapListener=function(bootstrappedComponentRef){var opts=this.injector.get(ROUTER_CONFIGURATION),preloader=this.injector.get(RouterPreloader),routerScroller=this.injector.get(RouterScroller),router=this.injector.get(Router),ref=this.injector.get(core.ApplicationRef);bootstrappedComponentRef===ref.components[0]&&(this.isLegacyEnabled(opts)?router.initialNavigation():this.isLegacyDisabled(opts)&&router.setUpLocationChangeListener(),preloader.setUpPreloading(),routerScroller.init(),router.resetRootComponentType(ref.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},RouterInitializer.prototype.isLegacyEnabled=function(opts){return"legacy_enabled"===opts.initialNavigation||!0===opts.initialNavigation||void 0===opts.initialNavigation},RouterInitializer.prototype.isLegacyDisabled=function(opts){return"legacy_disabled"===opts.initialNavigation||!1===opts.initialNavigation},__decorate([core.Injectable(),__metadata("design:paramtypes",[core.Injector])],RouterInitializer)}();function getAppInitializer(r){return r.appInitializer.bind(r)}function getBootstrapListener(r){return r.bootstrapListener.bind(r)}var ROUTER_INITIALIZER=new core.InjectionToken("Router Initializer");
/**
     * @license
     * Copyright Google Inc. All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
new core.Version("7.2.16");var module,x,oktaAuthJs_umd=(function(module){self,module.exports=function(){var e={1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9100:function(e,t,n){var r=n(9489),o=n(7067);function i(t,n,a){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var i=[null];i.push.apply(i,t);i=new(Function.bind.apply(e,i));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports,i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,o=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5957:function(e,t,n){var r=n(9754),o=n(9489),i=n(430),a=n(9100);function u(t){var n="function"==typeof Map?new Map:void 0;return e.exports=u=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,u(t)}e.exports=u,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(5666)},7913:function(e,c,n){n.d(c,{a:function(){return g},E:function(){return k}});var r=n(5861),o=n(5671),i=n(3144),a=n(4942),c=n(7757),s=n.n(c),c=n(3615),f=n.n(c),l=n(7301),p=n(2852),h=n(146),d=n(5991);function v(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=null,m={updateAuthStatePromise:null,canceledTimes:0},b="authStateChange",k=function(){function e(t){var n=this;if((0,o.Z)(this,e),(0,a.Z)(this,"_sdk",void 0),(0,a.Z)(this,"_pending",void 0),(0,a.Z)(this,"_authState",void 0),(0,a.Z)(this,"_prevAuthState",void 0),(0,a.Z)(this,"_logOptions",void 0),(0,a.Z)(this,"_transformQueue",void 0),!t.emitter)throw new l.R("Emitter should be initialized before AuthStateManager");this._sdk=t,this._pending=y({},m),this._authState=g,this._logOptions={},this._prevAuthState=null,this._transformQueue=new d.Z({quiet:!0}),t.tokenManager.on(p.EVENT_ADDED,function(e,t){n._setLogOptions({event:p.EVENT_ADDED,key:e,token:t}),n.updateAuthState()}),t.tokenManager.on(p.EVENT_REMOVED,function(e,t){n._setLogOptions({event:p.EVENT_REMOVED,key:e,token:t}),n.updateAuthState()})}var t;return(0,i.Z)(e,[{key:"_setLogOptions",value:function(e){this._logOptions=e}},{key:"getAuthState",value:function(){return this._authState}},{key:"getPreviousAuthState",value:function(){return this._prevAuthState}},{key:"updateAuthState",value:(t=(0,r.Z)(s().mark(function e(){var n,r,o,i,a,u,c=this;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this._sdk.options,n=a.transformAuthState,r=a.devMode,o=function(e){var o=c._logOptions,n=o.event,r=o.key,o=o.token;(0,h.dr)().group("OKTA-AUTH-JS:updateAuthState: Event:".concat(n," Status:").concat(e)),(0,h.dr)().log(r,o),(0,h.dr)().log("Current authState",c._authState),(0,h.dr)().groupEnd(),c._logOptions={}},i=function(e){var t,n=e;(t=c._authState)&&t.isAuthenticated===n.isAuthenticated&&JSON.stringify(t.idToken)===JSON.stringify(n.idToken)&&JSON.stringify(t.accessToken)===JSON.stringify(n.accessToken)&&t.error===n.error?r&&o("unchanged"):(c._prevAuthState=c._authState,c._authState=e,c._sdk.emitter.emit(b,y({},e)),r&&o("emitted"))},a=function e(t){return c._pending.updateAuthStatePromise.then(function(){var n=c._pending.updateAuthStatePromise;return n&&n!==t?e(n):c.getAuthState()})},!this._pending.updateAuthStatePromise){e.next=11;break}if(10<=this._pending.canceledTimes)return r&&o("terminated"),e.abrupt("return",a(this._pending.updateAuthStatePromise));e.next=10;break;case 10:this._pending.updateAuthStatePromise.cancel();case 11:return u=new(f())(function(e,t,a){a.shouldReject=!1,a(function(){c._pending.updateAuthStatePromise=null,c._pending.canceledTimes=c._pending.canceledTimes+1,r&&o("canceled")});function s(t){u.isCanceled?e():(i(t),e(),c._pending=y({},m))}c._sdk.isAuthenticated().then(function(){var r,o,i,a;u.isCanceled?e():(a=c._sdk.tokenManager.getTokensSync(),r=a.accessToken,o=a.idToken,i=a.refreshToken,a={accessToken:r,idToken:o,refreshToken:i,isAuthenticated:!(!r||!o)},(n?c._transformQueue.push(n,null,c._sdk,a):Promise.resolve(a)).then(s).catch(function(e){return s({accessToken:r,idToken:o,refreshToken:i,isAuthenticated:!1,error:e})}))})}),this._pending.updateAuthStatePromise=u,e.abrupt("return",a(u));case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"subscribe",value:function(e){this._sdk.emitter.on(b,e)}},{key:"unsubscribe",value:function(e){this._sdk.emitter.off(b,e)}}]),e}()},3415:function(e,gt,n){n.d(gt,{Z:function(){return mt}});var r={};n.r(r),n.d(r,{buildCredentialCreationOptions:function(){return A},buildCredentialRequestOptions:function(){return P},getAssertion:function(){return x},getAttestation:function(){return R}});var o=n(4925),i=n(5861),a=n(5671),u=n(3144),s=n(4942),pe=n(7757),f=n.n(pe),l=n(1971),p=n(2375),h=n(3611),d=n(3193),v=n(6718),y=n(7735);function _(){var t=[];return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){"webauthn"===e.key&&t.push({type:"public-key",id:(0,S.dX)(e.credentialId)})}),t}var O=n(1279),E=n(415),T=n(9326),S=n(7987),A=function(e,t){return{publicKey:{rp:e.rp,user:{id:(0,S.dX)(e.user.id),name:e.user.name,displayName:e.user.displayName},challenge:(0,S.dX)(e.challenge),pubKeyCredParams:e.pubKeyCredParams,attestation:e.attestation,authenticatorSelection:e.authenticatorSelection,excludeCredentials:_(t)}}},P=function(e,t){return{publicKey:{challenge:(0,S.dX)(e.challenge),userVerification:e.userVerification,allowCredentials:_(t)}}},R=function(e){var t=e.response;return{id:e.id,clientData:(0,S.kQ)(t.clientDataJSON),attestation:(0,S.kQ)(t.attestationObject)}},x=function(e){var t=e.response;return{id:e.id,clientData:(0,S.kQ)(t.clientDataJSON),authenticatorData:(0,S.kQ)(t.authenticatorData),signatureData:(0,S.kQ)(t.signature)}};function Z(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)e[r]=n[r]}return e}var C=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=Z({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a,i="";for(a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(r[u]=t.read(a,u),e===u)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Z({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Z({},this.attributes,t))},withConverter:function(t){return e(Z({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return(e='"'===e[0]?e.slice(1,-1):e).replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),D=n(9123),I=n(146),N={getHttpCache:function(){return null},getPKCEStorage:function(){return null},browserHasLocalStorage:function(){try{var e=this.getLocalStorage();return this.testStorage(e)}catch(e){return!1}},browserHasSessionStorage:function(){try{var e=this.getSessionStorage();return this.testStorage(e)}catch(e){return!1}},testStorageType:function(e){var t=!1;switch(e){case"sessionStorage":t=this.browserHasSessionStorage();break;case"localStorage":t=this.browserHasLocalStorage();break;case"cookie":case"memory":t=!0;break;default:t=!1}return t},getStorageByType:function(e,t){var n;switch(e){case"sessionStorage":n=this.getSessionStorage();break;case"localStorage":n=this.getLocalStorage();break;case"cookie":n=this.getCookieStorage(t);break;case"memory":n=this.getInMemoryStorage();break;default:throw new D.Z("Unrecognized storage option: ".concat(e))}return n},findStorageType:function(e){var n,t=(e=e.slice()).shift();return!(n=e.length?e[0]:null)||this.testStorageType(t)?t:((0,I.ZK)("This browser doesn't support ".concat(t,". Switching to ").concat(n,".")),this.findStorageType(e))},getLocalStorage:function(){return(0,E.isIE11OrLess)()&&!window.onstorage&&(window.onstorage=function(){}),localStorage},getSessionStorage:function(){return sessionStorage},getCookieStorage:function(e){var t=this,n=e.secure,r=e.sameSite,o=e.sessionCookie;if(void 0===n||void 0===r)throw new D.Z('getCookieStorage: "secure" and "sameSite" options must be provided');var i={getItem:this.storage.get,setItem:function(e,i){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"2200-01-01T00:00:00.000Z";t.storage.set(e,i,a=o?null:a,{secure:n,sameSite:r})},removeItem:function(e){t.storage.delete(e)},isSharedStorage:function(){return!0}};return e.useSeparateCookies?{getItem:function(e){var t=i.getItem(),n={};return Object.keys(t).forEach(function(r){0===r.indexOf(e)&&(n[r.replace("".concat(e,"_"),"")]=JSON.parse(t[r]))}),JSON.stringify(n)},setItem:function(e,t){var n=JSON.parse(this.getItem(e));t=JSON.parse(t),Object.keys(t).forEach(function(r){var o=e+"_"+r,a=JSON.stringify(t[r]);i.setItem(o,a),delete n[r]}),Object.keys(n).forEach(function(t){i.removeItem(e+"_"+t)})},removeItem:function(e){var t=JSON.parse(this.getItem(e));Object.keys(t).forEach(function(t){i.removeItem(e+"_"+t)})},isSharedStorage:function(){return!0}}:i},inMemoryStore:{},getInMemoryStorage:function(){var e=this;return{getItem:function(t){return e.inMemoryStore[t]},setItem:function(t,n){e.inMemoryStore[t]=n},isSharedStorage:function(){return!1}}},testStorage:function(e){var t="okta-test-storage";try{return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}},storage:{set:function(e,t,n,r){var a=r.sameSite,i=r.secure;if(void 0===i||void 0===a)throw new D.Z('storage.set: "secure" and "sameSite" options must be provided');a={path:r.path||"/",secure:i,sameSite:a};return Date.parse(n)&&(a.expires=new Date(n)),C.set(e,t,a),this.get(e)},get:function(e){return arguments.length?C.get(e):C.get()},delete:function(e){return C.remove(e,{path:"/"})}}},U=n(8092),L=n(885),F=n(2982),H=n(7301),K=n(2852),B=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),(0,s.Z)(this,"tokenManager",void 0),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"renewTimeQueue",void 0),(0,s.Z)(this,"started",!1),this.tokenManager=t,this.options=n,this.renewTimeQueue=[],this.onTokenExpiredHandler=this.onTokenExpiredHandler.bind(this)}var t,n;return(0,u.Z)(e,[{key:"shouldThrottleRenew",value:function(){var t,e=!1;return this.renewTimeQueue.push(Date.now()),10<=this.renewTimeQueue.length&&(t=this.renewTimeQueue.shift(),e=this.renewTimeQueue[this.renewTimeQueue.length-1]-t<3e4),e}},{key:"requiresLeadership",value:function(){return!!this.options.syncStorage&&(0,E.isBrowser)()}},{key:"onTokenExpiredHandler",value:function(e){var t;this.options.autoRenew?this.shouldThrottleRenew()?(t=new H.R("Too many token renew requests"),this.tokenManager.emitError(t)):this.tokenManager.renew(e).catch(function(){}):this.options.autoRemove&&this.tokenManager.remove(e)}},{key:"canStart",value:function(){return!!this.options.autoRenew||!!this.options.autoRemove}},{key:"start",value:(n=(0,i.Z)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canStart())return e.next=3,this.stop();e.next=5;break;case 3:this.tokenManager.on(K.EVENT_EXPIRED,this.onTokenExpiredHandler),this.started=!0;case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stop",value:(t=(0,i.Z)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.started&&(this.tokenManager.off(K.EVENT_EXPIRED,this.onTokenExpiredHandler),this.renewTimeQueue=[],this.started=!1);case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"isStarted",value:function(){return this.started}}]),e}(),V=Promise.resolve(!0),G=Promise.resolve();function q(e,t){return e=e||0,new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function Y(){return Math.random().toString(36).substring(2)}var W=0,z=0;function $(){var e=(new Date).getTime();return e===W?1e3*e+ ++z:(z=0,1e3*(W=e))}var Ae={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),G}catch(e){return Promise.reject(e)}},canBeUsed:function(){if("undefined"==typeof window)return!1;if("function"!=typeof BroadcastChannel)return!1;if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0},type:"native",averageResponseTime:function(){return 150},microSeconds:$},X=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,J()),this._to||(this._to=!0,setTimeout(function(){t._to=!1,function(e){for(var t=J()-e.ttl,n=e.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var o=r[0];if(!(r[1]<t))return;e.map.delete(o)}}(t)},0))},e.prototype.clear=function(){this.map.clear()},e}();function J(){return(new Date).getTime()}function ee(t){var e=0<arguments.length&&void 0!==t?t:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var te="messages",ne={durability:"relaxed"};function re(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function oe(e){e.commit&&e.commit()}function ae(e){return!e.closed&&e.messagesCallback?function(e,t){var n=e.transaction(te,"readonly",ne),r=n.objectStore(te),o=[],i=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(i);return new Promise(function(e,t){a.onerror=function(e){return t(e)},a.onsuccess=function(t){e(t.target.result)}})}return new Promise(function(e,a){var u=function(){try{return i=IDBKeyRange.bound(t+1,1/0),r.openCursor(i)}catch(e){return r.openCursor()}}();u.onerror=function(e){return a(e)},u.onsuccess=function(i){i=i.target.result;i?i.value.id<t+1?i.continue(t+1):(o.push(i.value),i.continue()):(oe(n),e(o))}})}(e.db,e.lastCursorId).then(function(t){return t.filter(function(e){return!!e}).map(function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t}).filter(function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)}).sort(function(e,t){return e.time-t.time}).forEach(function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))}),G}):G}var Te={create:function(e,t){return t=ee(t),function(e){var n=re().open("pubkey.broadcast-channel-0-"+e);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(te,{keyPath:"id",autoIncrement:!0})},new Promise(function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}})}(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Y(),eMIs:new X(2*t.idb.ttl),writeBlockPromise:G,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},function ie(e){e.closed||ae(e).then(function(){return q(e.options.idb.fallbackInterval)}).then(function(){return ie(e)})}(r),r})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,ae(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},o=e.transaction([te],"readwrite",ne);return new Promise(function(e,t){o.oncomplete=function(){return e()},o.onerror=function(e){return t(e)},o.objectStore(te).add(r),oe(o)})}(e.db,e.uuid,t)}).then(function(){var t,n;0===Math.floor(11*Math.random()+0)&&(t=e.db,n=e.options.idb.ttl,function(e,t){var n=(new Date).getTime()-t,r=e.transaction(te,"readonly",ne),o=r.objectStore(te),i=[];return new Promise(function(e){o.openCursor().onsuccess=function(a){var o=a.target.result;if(o){a=o.value;if(!(a.time<n))return oe(r),void e(i);i.push(a),o.continue()}else e(i)}})}(t,n).then(function(e){return function(e,t){var n=e.transaction([te],"readwrite",ne).objectStore(te);return Promise.all(t.map(function(e){var t=n.delete(e);return new Promise(function(e){t.onsuccess=function(){return e()}})}))}(t,e.map(function(e){return e.id}))}))}),e.writeBlockPromise},canBeUsed:function(){return!!re()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:$};function se(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function ce(e){return"pubkey.broadcastChannel-"+e}function fe(){var e=se();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}function me(e,r){var n;this.id=ge++,ye.add(this),this.name=e,this.options=ee(r),this.method=function(e){var r=[].concat(e.methods,ve).filter(Boolean);if(e.type){if("simulate"===e.type)return de;var n=r.find(function(t){return t.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}r=(r=!e.webWorkerSupport?r.filter(function(e){return"idb"!==e.type}):r).find(function(e){return e.canBeUsed()});if(r)return r;throw new Error("No useable method found in "+JSON.stringify(ve.map(function(e){return e.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,(r=(n=this).method.create(n.name,n.options))&&"function"==typeof r.then?(n._prepP=r).then(function(e){n._state=e}):n._state=r}var gt={create:function(a,t){if(t=ee(t),!fe())throw new Error("BroadcastChannel: localstorage cannot be used");var i,n=Y(),r=new X(t.localstorage.removeTimeout),o={channelName:a,uuid:n,eMIs:r};return o.listener=(i=ce(a=a),a=function(t){t.key===i&&(t=JSON.parse(t.newValue),o.messagesCallback&&t.uuid!==n&&t.token&&!r.has(t.token)&&(t.data.time&&t.data.time<o.messagesCallbackTime||(r.add(t.token),o.messagesCallback(t.data))))},window.addEventListener("storage",a),a),o},close:function(t){t=t.listener;window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){q().then(function(){var r=ce(e.channelName),a={token:Y(),time:(new Date).getTime(),data:t,uuid:e.uuid},i=JSON.stringify(a);se().setItem(r,i);a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=i,window.dispatchEvent(a),n()})})},canBeUsed:fe,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:$},pe=$,he=new Set,de={create:function(t){t={name:t,messagesCallback:null};return he.add(t),t},close:function(e){he.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){return setTimeout(function(){Array.from(he).filter(function(t){return t.name===e.name}).filter(function(t){return t!==e}).filter(function(e){return!!e.messagesCallback}).forEach(function(e){return e.messagesCallback(t)}),n()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:pe},ve=[Ae,Te,gt],ye=new Set,ge=0;function be(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP||G).then(function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then(function(){return e._uMP.delete(t)}),t})}function ke(e){return 0<e._addEL.message.length||0<e._addEL.internal.length}function we(e,t,n){e._addEL[t].push(n),function(e){var t,n;!e._iL&&ke(e)&&(t=function(t){e._addEL[t.type].forEach(function(e){var n=e.time-1e5;t.time>=n&&e.fn(t.data)})},n=e.method.microSeconds(),e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n)))}(e)}function Oe(e,t,n){e._addEL[t]=e._addEL[t].filter(function(e){return e!==n}),function(e){var t;e._iL&&!ke(e)&&(e._iL=!1,t=e.method.microSeconds(),e.method.onMessage(e._state,null,t))}(e)}me._pubkey=!0,me.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return be(this,"message",e)},postInternal:function(e){return be(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};Oe(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,we(this,"message",t)):this._onML=null},addEventListener:function(e,t){we(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){Oe(this,e,this._addEL[e].find(function(e){return e.fn===t}))},close:function(){var e=this;if(!this.closed){ye.delete(this),this.closed=!0;var t=this._prepP||G;return this._onML=null,this._addEL.message=[],t.then(function(){return Promise.all(Array.from(e._uMP))}).then(function(){return Promise.all(e._befC.map(function(e){return e()}))}).then(function(){return e.method.close(e._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var Ae=n(5643),Te=n.n(Ae),gt={add:function(e){"function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope||"function"==typeof window.addEventListener&&(window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0))}},Ae=n(199),Ae=n.n(Ae),Pe=Te()?Ae():gt,Re=new Set,xe=!1;function Ze(){var e=[];return Re.forEach(function(t){e.push(t()),Re.delete(t)}),Promise.all(e)}var je=function(e,r){var n=this;this.broadcastChannel=e,this._options=r,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=Y(),this._aplQ=G,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;r=function(e){"leader"===e.context&&("death"===e.action&&(n.hasLeader=!1),"tell"===e.action&&(n.hasLeader=!0))};this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)};function Ce(e,n){n={context:"leader",action:n,token:e.token};return e.broadcastChannel.postInternal(n)}je.prototype={applyOnce:function(e){var t=this;if(this.isLeader)return q(0,!0);if(this.isDead)return q(0,!1);if(1<this._aplQC)return this._aplQ;function n(){if(t.isLeader)return V;function a(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t.hasLeader=!0))}var n,r=!1,o=new Promise(function(e){n=function(){r=!0,e()}});t.broadcastChannel.addEventListener("internal",a);var u=e?4*t._options.responseTime:t._options.responseTime;return Ce(t,"apply").then(function(){return Promise.race([q(u),o.then(function(){return Promise.reject(new Error)})])}).then(function(){return Ce(t,"apply")}).then(function(){return Promise.race([q(u),o.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return t.broadcastChannel.removeEventListener("internal",a),!r&&function(e){e.isLeader=!0,e.hasLeader=!0;var n=function(e){return xe||(xe=!0,Pe.add(Ze)),Re.add(e),{remove:function(){return Re.delete(e)},run:function(){return Re.delete(e),e()}}}(function(){return e.die()});e._unl.push(n);n=function(t){"leader"===t.context&&"apply"===t.action&&Ce(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),Ce(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),Ce(e,"tell")}(t).then(function(){return!0})})}return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(n).then(function(){t._aplQC=t._aplQC-1}),this._aplQ.then(function(){return t.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?G:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()}),function t(){return q(e._options.fallbackInterval).then(function(){if(!e.isDead&&!n)return e.isLeader?void r():e.applyOnce(!0).then(function(){(e.isLeader?r:t)()})})}();var o=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})),this._aLP;var e},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach(function(t){return e.broadcastChannel.removeEventListener("internal",t)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,Ce(this,"death")}};var Ie=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),(0,s.Z)(this,"tokenManager",void 0),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"channel",void 0),(0,s.Z)(this,"started",!1),(0,s.Z)(this,"enablePostMessage",!0),this.tokenManager=t,this.options=n,this.onTokenAddedHandler=this.onTokenAddedHandler.bind(this),this.onTokenRemovedHandler=this.onTokenRemovedHandler.bind(this),this.onTokenRenewedHandler=this.onTokenRenewedHandler.bind(this),this.onSetStorageHandler=this.onSetStorageHandler.bind(this),this.onSyncMessageHandler=this.onSyncMessageHandler.bind(this)}var t,n;return(0,u.Z)(e,[{key:"requiresLeadership",value:function(){return!1}},{key:"isStarted",value:function(){return this.started}},{key:"canStart",value:function(){return!!this.options.syncStorage&&(0,E.isBrowser)()&&this.tokenManager.hasSharedStorage()}},{key:"start",value:(n=(0,i.Z)(f().mark(function e(){var t;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canStart())return e.next=3,this.stop();e.next=11;break;case 3:t=this.options.syncChannelName,this.channel=new me(t),this.tokenManager.on(K.EVENT_ADDED,this.onTokenAddedHandler),this.tokenManager.on(K.EVENT_REMOVED,this.onTokenRemovedHandler),this.tokenManager.on(K.EVENT_RENEWED,this.onTokenRenewedHandler),this.tokenManager.on(K.EVENT_SET_STORAGE,this.onSetStorageHandler),this.channel.addEventListener("message",this.onSyncMessageHandler),this.started=!0;case 11:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stop",value:(t=(0,i.Z)(f().mark(function e(){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.started)return this.tokenManager.off(K.EVENT_ADDED,this.onTokenAddedHandler),this.tokenManager.off(K.EVENT_REMOVED,this.onTokenRemovedHandler),this.tokenManager.off(K.EVENT_RENEWED,this.onTokenRenewedHandler),this.tokenManager.off(K.EVENT_SET_STORAGE,this.onSetStorageHandler),null===(n=this.channel)||void 0===n||n.removeEventListener("message",this.onSyncMessageHandler),e.next=8,null===(n=this.channel)||void 0===n?void 0:n.close();e.next=10;break;case 8:this.channel=void 0,this.started=!1;case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"onTokenAddedHandler",value:function(e,t){var n;this.enablePostMessage&&(null===(n=this.channel)||void 0===n||n.postMessage({type:K.EVENT_ADDED,key:e,token:t}))}},{key:"onTokenRemovedHandler",value:function(e,t){var n;this.enablePostMessage&&(null===(n=this.channel)||void 0===n||n.postMessage({type:K.EVENT_REMOVED,key:e,token:t}))}},{key:"onTokenRenewedHandler",value:function(e,t,n){var r;this.enablePostMessage&&(null===(r=this.channel)||void 0===r||r.postMessage({type:K.EVENT_RENEWED,key:e,token:t,oldToken:n}))}},{key:"onSetStorageHandler",value:function(e){var t;null===(t=this.channel)||void 0===t||t.postMessage({type:K.EVENT_SET_STORAGE,storage:e})}},{key:"onSyncMessageHandler",value:function(e){switch(this.enablePostMessage=!1,e.type){case K.EVENT_SET_STORAGE:this.tokenManager.getStorage().setStorage(e.storage);break;case K.EVENT_ADDED:this.tokenManager.emitAdded(e.key,e.token),this.tokenManager.setExpireEventTimeout(e.key,e.token);break;case K.EVENT_REMOVED:this.tokenManager.clearExpireEventTimeout(e.key),this.tokenManager.emitRemoved(e.key,e.token);break;case K.EVENT_RENEWED:this.tokenManager.emitRenewed(e.key,e.token,e.oldToken)}this.enablePostMessage=!0}}]),e}(),Me=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,a.Z)(this,e),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"channel",void 0),(0,s.Z)(this,"elector",void 0),(0,s.Z)(this,"started",!1),this.options=t,this.onLeaderDuplicate=this.onLeaderDuplicate.bind(this),this.onLeader=this.onLeader.bind(this)}var t,n,r;return(0,u.Z)(e,[{key:"onLeaderDuplicate",value:function(){}},{key:"onLeader",value:(r=(0,i.Z)(f().mark(function e(){var t,n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(n=this.options).onLeader)||void 0===t?void 0:t.call(n);case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"isLeader",value:function(){var e;return!(null===(e=this.elector)||void 0===e||!e.isLeader)}},{key:"hasLeader",value:function(){var e;return!(null===(e=this.elector)||void 0===e||!e.hasLeader)}},{key:"start",value:(n=(0,i.Z)(f().mark(function e(){var t;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stop();case 2:this.canStart()&&(t=this.options.electionChannelName,this.channel=new me(t),this.elector=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e=e||{},(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var n=new je(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n}(this.channel),this.elector.onduplicate=this.onLeaderDuplicate,this.elector.awaitLeadership().then(this.onLeader),this.started=!0);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stop",value:(t=(0,i.Z)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.started){e.next=11;break}if(this.elector)return e.next=4,this.elector.die();e.next=5;break;case 4:this.elector=void 0;case 5:if(this.channel)return this.channel.postInternal=function(){return Promise.resolve()},e.next=9,this.channel.close();e.next=10;break;case 9:this.channel=void 0;case 10:this.started=!1;case 11:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"requiresLeadership",value:function(){return!1}},{key:"isStarted",value:function(){return this.started}},{key:"canStart",value:function(){return(0,E.isBrowser)()}}]),e}();function Ne(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Le(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He="autoRenew",Ke="syncStorage",Be="leaderElection",Ve=function(){function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(0,a.Z)(this,e),(0,s.Z)(this,"sdk",void 0),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"services",void 0),(0,s.Z)(this,"started",void 0),this.sdk=t,this.onLeader=this.onLeader.bind(this);var c=t.tokenManager.getOptions(),i=c.autoRenew,u=c.autoRemove,c=c.syncStorage;r.electionChannelName=r.electionChannelName||r.broadcastChannelName,this.options=Object.assign({},e.defaultOptions,{autoRenew:i,autoRemove:u,syncStorage:c},{electionChannelName:"".concat(t.options.clientId,"-election"),syncChannelName:"".concat(t.options.clientId,"-sync")},(0,d.YY)(r)),this.started=!1,this.services=new Map,e.knownServices.forEach(function(e){var t=n.createService(e);t&&n.services.set(e,t)})}var t,n,r,o,c;return(0,u.Z)(e,[{key:"onLeader",value:(c=(0,i.Z)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.started)return e.next=3,this.startServices();e.next=3;break;case 3:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"isLeader",value:function(){var e;return null===(e=this.getService(Be))||void 0===e?void 0:e.isLeader()}},{key:"isLeaderRequired",value:function(){return(0,F.Z)(this.services.values()).some(function(e){return e.canStart()&&e.requiresLeadership()})}},{key:"start",value:(o=(0,i.Z)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.started)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,this.startServices();case 4:this.started=!0;case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"stop",value:(r=(0,i.Z)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stopServices();case 2:this.started=!1;case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getService",value:function(e){return this.services.get(e)}},{key:"startServices",value:(n=(0,i.Z)(f().mark(function e(){var t,o,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Le(this.services.entries()),e.prev=1,t.s();case 3:if((o=t.n()).done){e.next=10;break}if(i=(0,L.Z)(o.value,2),o=i[0],i=i[1],this.canStartService(o,i))return e.next=8,i.start();e.next=8;break;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}},e,this,[[1,12,15,18]])})),function(){return n.apply(this,arguments)})},{key:"stopServices",value:(t=(0,i.Z)(f().mark(function e(){var t,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Le(this.services.values()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return r=r.value,e.next=7,r.stop();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[1,11,14,17]])})),function(){return t.apply(this,arguments)})},{key:"canStartService",value:function(e,t){var n=t.canStart()&&!t.isStarted();return e===Be?n=n&&this.isLeaderRequired():t.requiresLeadership()&&n&&(n=this.isLeader()),n}},{key:"createService",value:function(e){var t,n=this.sdk.tokenManager;switch(e){case Be:t=new Me(Ue(Ue({},this.options),{},{onLeader:this.onLeader}));break;case He:t=new B(n,Ue({},this.options));break;case Ke:t=new Ie(n,Ue({},this.options));break;default:throw new Error("Unknown service ".concat(e))}return t}}]),e}();(0,s.Z)(Ve,"knownServices",[He,Ke,Be]),(0,s.Z)(Ve,"defaultOptions",{autoRenew:!0,autoRemove:!0,syncStorage:!0});var Ge=n(5991);var Ye=n(7913),We=n(6311),ze=n(6529);var Qe=n(1002),gt=n(4098),Je=n.n(gt);function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=/application\/\w*\+?json/,nt=function(e,t,u){var o=u.data,a=u.headers||{},a=a["Content-Type"]||a["content-type"]||"";o&&"string"!=typeof o&&(tt.test(a)?o=JSON.stringify(o):"application/x-www-form-urlencoded"===a&&(o=Object.entries(o).map(function(n){var r=(0,L.Z)(n,2),n=r[0],r=r[1];return"".concat(n,"=").concat(encodeURIComponent(r))}).join("&")));u=(n.g.fetch||Je())(t,{method:e,headers:u.headers,body:o,credentials:u.withCredentials?"include":"omit"});return(u=!u.finally?Promise.resolve(u):u).then(function(e){var t=!e.ok,n=e.status;return function(e){return e.headers.get("Content-Type")&&0<=e.headers.get("Content-Type").toLowerCase().indexOf("application/json")?e.json().catch(function(e){return{error:e,errorSummary:"Could not parse server response"}}):e.text()}(e).then(function(t){return function(e,t,s){var r,o="object"===(0,Qe.Z)(t),i={},a=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(s.headers.entries());try{for(a.s();!(r=a.n()).done;){var u=r.value;i[u[0]]=u[1]}}catch(e){a.e(e)}finally{a.f()}s={responseText:o?JSON.stringify(t):t,status:e,headers:i};return o&&(s.responseType="json",s.responseJSON=t),s}(n,t,e)}).then(function(e){var n;if(t||null!==(n=e.responseJSON)&&void 0!==n&&n.error)throw e;return e})})},rt={token:{storageTypes:["localStorage","sessionStorage","cookie"]},cache:{storageTypes:["localStorage","sessionStorage","cookie"]},transaction:{storageTypes:["sessionStorage","localStorage","cookie"]},"shared-transaction":{storageTypes:["localStorage"]},"original-uri":{storageTypes:["localStorage"]}};var ut=n(4516),st=function(){function e(){(0,a.Z)(this,e),(0,s.Z)(this,"environments",void 0),this.environments=["okta-auth-js/".concat("6.8.1")]}return(0,u.Z)(e,[{key:"addEnvironment",value:function(e){this.environments.push(e)}},{key:"getHttpHeader",value:function(){return this.maybeAddNodeEnvironment(),{"X-Okta-User-Agent-Extended":this.environments.join(" ")}}},{key:"getVersion",value:function(){return"6.8.1"}},{key:"maybeAddNodeEnvironment",value:function(){var e;!(0,E.isBrowser)()&&process&&process.versions&&(e=process.versions.node,this.environments.push("nodejs/".concat(e)))}}]),e}(),ct=n(5372),ft=n(2620),gt=n(4279),pt=n.n(gt),ht=n(5294),dt=["originalUri"];function vt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}gt=function(){function e(t){var n=this;(0,a.Z)(this,e),(0,s.Z)(this,"options",void 0),(0,s.Z)(this,"storageManager",void 0),(0,s.Z)(this,"transactionManager",void 0),(0,s.Z)(this,"tx",void 0),(0,s.Z)(this,"idx",void 0),(0,s.Z)(this,"session",void 0),(0,s.Z)(this,"pkce",void 0),(0,s.Z)(this,"features",E),(0,s.Z)(this,"token",void 0),(0,s.Z)(this,"_tokenQueue",void 0),(0,s.Z)(this,"emitter",void 0),(0,s.Z)(this,"tokenManager",void 0),(0,s.Z)(this,"authStateManager",void 0),(0,s.Z)(this,"serviceManager",void 0),(0,s.Z)(this,"http",void 0),(0,s.Z)(this,"fingerprint",void 0),(0,s.Z)(this,"_oktaUserAgent",void 0),(0,s.Z)(this,"_pending",void 0);var r=this.options=function(t){var n=0<arguments.length&&void 0!==t?t:{};return function(n){var t=(n=n||{}).scopes;if(t&&!Array.isArray(t))throw new D.Z('scopes must be a array of strings. Required usage: new OktaAuth({scopes: ["openid", "email"]})');if(!(n=n.issuer))throw new D.Z('No issuer passed to constructor. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(!new RegExp("^http?s?://.+").test(n))throw new D.Z('Issuer must be a valid URL. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com/oauth2/{authServerId}"})');if(-1!==n.indexOf("-admin."))throw new D.Z('Issuer URL passed to constructor contains "-admin" in subdomain. Required usage: new OktaAuth({issuer: "https://{yourOktaDomain}.com})')}(n),n=function(e,t){return Object.assign({},e,(0,d.YY)(t),{storageManager:Object.assign({},e.storageManager,t.storageManager),transactionManager:Object.assign({},e.transactionManager,t.transactionManager)})}({devMode:!1,httpRequestClient:nt,storageUtil:Object.assign({},N,{inMemoryStore:{}}),storageManager:rt,transactionManager:{enableSharedStorage:!0}},n),(0,d.YY)({issuer:(0,v.Qj)(n.issuer),tokenUrl:(0,v.Qj)(n.tokenUrl),authorizeUrl:(0,v.Qj)(n.authorizeUrl),userinfoUrl:(0,v.Qj)(n.userinfoUrl),revokeUrl:(0,v.Qj)(n.revokeUrl),logoutUrl:(0,v.Qj)(n.logoutUrl),clientId:n.clientId,redirectUri:n.redirectUri,state:n.state,scopes:n.scopes,postLogoutRedirectUri:n.postLogoutRedirectUri,responseMode:n.responseMode,responseType:n.responseType,pkce:!1!==n.pkce,useInteractionCodeFlow:n.useInteractionCodeFlow,httpRequestClient:n.httpRequestClient,httpRequestInterceptors:n.httpRequestInterceptors,transformErrorXHR:n.transformErrorXHR,transformAuthState:n.transformAuthState,restoreOriginalUri:n.restoreOriginalUri,storageUtil:n.storageUtil,headers:n.headers,devMode:!!n.devMode,storageManager:n.storageManager,transactionManager:n.transactionManager,cookies:function(n,t){return n=0<arguments.length&&void 0!==n?n:{},t=1<arguments.length?t:void 0,void 0===(n=n.cookies||{}).secure&&(n.secure=t),void 0===n.sameSite&&(n.sameSite=n.secure?"none":"lax"),n.secure&&!t&&((0,I.ZK)('The current page is not being served with the HTTPS protocol.\nFor security reasons, we strongly recommend using HTTPS.\nIf you cannot use HTTPS, set "cookies.secure" option to false.'),n.secure=!1),"none"!==n.sameSite||n.secure||(n.sameSite="lax"),n}(n,(0,E.isHTTPS)()),flow:n.flow,codeChallenge:n.codeChallenge,codeChallengeMethod:n.codeChallengeMethod,recoveryToken:n.recoveryToken,activationToken:n.activationToken,idx:{useGenericRemediator:!(null===(t=n.idx)||void 0===t||!t.useGenericRemediator),exchangeCodeForTokens:!1!==(null===(t=n.idx)||void 0===t?void 0:t.exchangeCodeForTokens)},ignoreSignature:!!n.ignoreSignature,clientSecret:n.clientSecret,setLocation:n.setLocation})}(t);this.storageManager=new We.A(r.storageManager,r.cookies,r.storageUtil),this.transactionManager=new ze.Z(Object.assign({storageManager:this.storageManager},r.transactionManager)),this._oktaUserAgent=new st,this.tx={status:p.transactionStatus.bind(null,this),resume:p.resumeTransaction.bind(null,this),exists:Object.assign(p.transactionExists.bind(null,this),{_get:function(e){return r.storageUtil.storage.get(e)}}),introspect:p.introspectAuthn.bind(null,this),createTransaction:function(e){return new p.AuthTransaction(n,e)},postToTransaction:function(e,t,r){return(0,p.postToTransaction)(n,e,t,r)}},this.pkce={DEFAULT_CODE_CHALLENGE_METHOD:h.Z.DEFAULT_CODE_CHALLENGE_METHOD,generateVerifier:h.Z.generateVerifier,computeChallenge:h.Z.computeChallenge},Object.assign(this.options.storageUtil||{},{getPKCEStorage:this.storageManager.getLegacyPKCEStorage.bind(this.storageManager),getHttpCache:this.storageManager.getHttpCache.bind(this.storageManager)}),this._pending={handleLogin:!1},(0,E.isBrowser)()&&(this.options=Object.assign(this.options,{redirectUri:(0,v.BY)(t.redirectUri,window.location.origin)})),t.maxClockSkew||0===t.maxClockSkew?this.options.maxClockSkew=t.maxClockSkew:this.options.maxClockSkew=l.DEFAULT_MAX_CLOCK_SKEW,this.options.ignoreLifetime=!!t.ignoreLifetime,this.session={close:function(e){return(0,y.c3)(e,{url:e.getIssuerOrigin()+"/api/v1/sessions/me",method:"DELETE",withCredentials:!0})}.bind(null,this),exists:function(e){return e.session.get().then(function(e){return"ACTIVE"===e.status}).catch(function(){return!1})}.bind(null,this),get:function(e){return(0,y.U2)(e,"/api/v1/sessions/me",{withCredentials:!0}).then(function(t){var n=(0,d.CE)(t,"_links");return n.refresh=function(){return(0,y.v_)(e,(0,d.Rg)(t,"refresh").href,{},{withCredentials:!0})},n.user=function(){return(0,y.U2)(e,(0,d.Rg)(t,"user").href,{withCredentials:!0})},n}).catch(function(){return{status:"INACTIVE"}})}.bind(null,this),refresh:function(e){return(0,y.v_)(e,"/api/v1/sessions/me/lifecycle/refresh",{},{withCredentials:!0})}.bind(null,this),setCookieAndRedirect:function(e,t,n){n=n||window.location.href,window.location.assign(e.getIssuerOrigin()+"/login/sessionCookieRedirect"+(0,v.UK)({checkAccountSetupComplete:!0,token:t,redirectUrl:n}))}.bind(null,this)},this._tokenQueue=new Ge.Z;function o(e){return Ge.Z.prototype.push.bind(n._tokenQueue,e,null)}var T=o(O.Hq.bind(null,this)),u=Object.assign(T,{_setLocation:function(e){r.setLocation?r.setLocation(e):window.location=e}}),T=o(O.ko.bind(null,this)),T=Object.assign(T,{_getHistory:function(){return window.history},_getLocation:function(){return window.location},_getDocument:function(){return window.document}});this.token={prepareTokenParams:O.wu.bind(null,this),exchangeCodeForTokens:O.rz.bind(null,this),getWithoutPrompt:O.y6.bind(null,this),getWithPopup:O.dh.bind(null,this),getWithRedirect:u,parseFromUrl:T,decode:O.TD,revoke:O.PX.bind(null,this),renew:O.$m.bind(null,this),renewTokensWithRefresh:O.Rm.bind(null,this),renewTokens:O.IK.bind(null,this),getUserInfo:function(e,t){return(0,O.bG)(n,e,t)},verify:O.WX.bind(null,this),isLoginRedirect:O.gM.bind(null,this)},["getWithoutPrompt","getWithPopup","revoke","renew","renewTokensWithRefresh","renewTokens"].forEach(function(e){n.token[e]=o(n.token[e])});T=ut.Yr.bind(null,this);this.idx={interact:ut.EW.bind(null,this),introspect:ut.L8.bind(null,this),makeIdxResponse:ht._T.bind(null,this),authenticate:ut.YR.bind(null,this),register:ut.z2.bind(null,this),start:T,startTransaction:T,poll:ut.$l.bind(null,this),proceed:ut.xc.bind(null,this),cancel:ut.al.bind(null,this),recoverPassword:ut.M4.bind(null,this),handleInteractionCodeRedirect:ut.Xx.bind(null,this),isInteractionRequired:O.wc.bind(null,this),isInteractionRequiredError:O.Cf,handleEmailVerifyCallback:ut.Jn.bind(null,this),isEmailVerifyCallback:ut.GA,parseEmailVerifyCallback:ut.mo,isEmailVerifyCallbackError:ut.gc,getSavedTransactionMeta:ft.uN.bind(null,this),createTransactionMeta:ft.Xc.bind(null,this),getTransactionMeta:ft.Co.bind(null,this),saveTransactionMeta:ft.r0.bind(null,this),clearTransactionMeta:ft.Jm.bind(null,this),isTransactionMetaValid:ft.Wf,setFlow:function(e){n.options.flow=e},getFlow:function(){return n.options.flow},canProceed:ut.Ch.bind(null,this),unlockAccount:ut.le.bind(null,this)},this.http={setRequestHeader:y.rn.bind(null,this)},this.fingerprint=function(e,t){return t=t||{},(0,E.isFingerprintSupported)()?new Promise(function(i,a){(r=document.createElement("iframe")).style.display="none",o=function(t){if(t&&t.data&&t.origin===e.getIssuerOrigin()){try{var n=JSON.parse(t.data)}catch(e){return}if(n)return"FingerprintAvailable"===n.type?i(n.fingerprint):void("FingerprintServiceReady"===n.type&&t.source.postMessage(JSON.stringify({type:"GetFingerprint"}),t.origin))}},(0,O.NH)(window,"message",o),r.src=e.getIssuerOrigin()+"/auth/services/devicefingerprint",document.body.appendChild(r),n=setTimeout(function(){a(new H.R("Fingerprinting timed out"))},(null===t||void 0===t?void 0:t.timeout)||15e3)}).finally(function(){clearTimeout(n),(0,O.ys)(window,"message",o),document.body.contains(r)&&r.parentElement.removeChild(r)}):Promise.reject(new H.R("Fingerprinting is not supported on this device"));var n,r,o}.bind(null,this),this.emitter=new(pt()),this.tokenManager=new U.M(this,t.tokenManager),this.authStateManager=new Ye.E(this),this.serviceManager=new Ve(this,t.services)}var t,n,r,c,T,S,_,A,P,R,x,Z,j;return(0,u.Z)(e,[{key:"start",value:(j=(0,i.Z)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceManager.start();case 2:if(this.tokenManager.start(),this.token.isLoginRedirect()){e.next=6;break}return e.next=6,this.authStateManager.updateAuthState();case 6:case"end":return e.stop()}},e,this)})),function(){return j.apply(this,arguments)})},{key:"stop",value:(Z=(0,i.Z)(f().mark(function e(){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.tokenManager.stop(),e.next=3,this.serviceManager.stop();case 3:case"end":return e.stop()}},e,this)})),function(){return Z.apply(this,arguments)})},{key:"setHeaders",value:function(e){this.options.headers=Object.assign({},this.options.headers,e)}},{key:"signIn",value:(x=(0,i.Z)(f().mark(function e(t){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signInWithCredentials(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"signInWithCredentials",value:(R=(0,i.Z)(f().mark(function e(t){var n,r=this;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,d.d9)(t||{}),n=function(e){return delete t.sendFingerprint,(0,p.postToTransaction)(r,"/api/v1/authn",t,e)},t.sendFingerprint){e.next=4;break}return e.abrupt("return",n());case 4:return e.abrupt("return",this.fingerprint().then(function(e){return n({headers:{"X-Device-Fingerprint":e}})}));case 5:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"signInWithRedirect",value:(P=(0,i.Z)(f().mark(function e(){var n,r,i,a=arguments;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(i=0<a.length&&void 0!==a[0]?a[0]:{}).originalUri,r=(0,o.Z)(i,dt),this._pending.handleLogin)return e.abrupt("return");e.next=4;break;case 4:return this._pending.handleLogin=!0,e.prev=5,n&&this.setOriginalUri(n),i=Object.assign({scopes:this.options.scopes||["openid","email","profile"]},r),e.next=10,this.token.getWithRedirect(i);case 10:return e.prev=10,this._pending.handleLogin=!1,e.finish(10);case 13:case"end":return e.stop()}},e,this,[[5,,10,13]])})),function(){return P.apply(this,arguments)})},{key:"closeSession",value:function(){var e=this;return this.session.close().then((0,i.Z)(f().mark(function t(){return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.tokenManager.clear();case 1:case"end":return t.stop()}},t)}))).catch(function(e){if("AuthApiError"===e.name&&"E0000007"===e.errorCode)return null;throw e})}},{key:"revokeAccessToken",value:(A=(0,i.Z)(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,this.tokenManager.getTokens();case 3:t=e.sent.accessToken,n=this.tokenManager.getStorageKeyByType("accessToken"),this.tokenManager.remove(n);case 6:if(t){e.next=8;break}return e.abrupt("return",Promise.resolve(null));case 8:return e.abrupt("return",this.token.revoke(t));case 9:case"end":return e.stop()}},e,this)})),function(e){return A.apply(this,arguments)})},{key:"revokeRefreshToken",value:(_=(0,i.Z)(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,this.tokenManager.getTokens();case 3:t=e.sent.refreshToken,n=this.tokenManager.getStorageKeyByType("refreshToken"),this.tokenManager.remove(n);case 6:if(t){e.next=8;break}return e.abrupt("return",Promise.resolve(null));case 8:return e.abrupt("return",this.token.revoke(t));case 9:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"getSignOutRedirectUrl",value:function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=o.idToken,n=o.postLogoutRedirectUri,r=o.state;if(!(a=a||this.tokenManager.getTokensSync().idToken))return"";n=n||this.options.postLogoutRedirectUri,o=(0,O.Fc)(this).logoutUrl,a=a.idToken,a=o+"?id_token_hint="+encodeURIComponent(a);return n&&(a+="&post_logout_redirect_uri="+encodeURIComponent(n)),r&&(a+="&state="+encodeURIComponent(r)),a}},{key:"signOut",value:(S=(0,i.Z)(f().mark(function e(t){var r,o,i,a,u,s,c;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.assign({},t),s=window.location.origin,r=window.location.href,o=t.postLogoutRedirectUri||this.options.postLogoutRedirectUri||s,i=t.accessToken,a=t.refreshToken,u=!1!==t.revokeAccessToken,(s=!1!==t.revokeRefreshToken)&&void 0===a&&(a=this.tokenManager.getTokensSync().refreshToken),u&&void 0===i&&(i=this.tokenManager.getTokensSync().accessToken),t.idToken||(t.idToken=this.tokenManager.getTokensSync().idToken),s&&a)return e.next=14,this.revokeRefreshToken(a);e.next=14;break;case 14:if(u&&i)return e.next=17,this.revokeAccessToken(i);e.next=17;break;case 17:if(c=this.getSignOutRedirectUrl(yt(yt({},t),{},{postLogoutRedirectUri:o}))){e.next=22;break}return e.abrupt("return",this.closeSession().then(function(){o===r?window.location.reload():window.location.assign(o)}));case 22:t.clearTokensBeforeRedirect?this.tokenManager.clear():this.tokenManager.addPendingRemoveFlags(),window.location.assign(c);case 24:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"webfinger",value:function(t){t="/.well-known/webfinger"+(0,v.UK)(t);return(0,y.U2)(this,t,{headers:{Accept:"application/jrd+json"}})}},{key:"isAuthenticated",value:(T=(0,i.Z)(f().mark(function e(){var i,a,s,l,p=arguments;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0<p.length&&void 0!==p[0]?p[0]:{},s=this.tokenManager.getOptions(),i=s.autoRenew,s=s.autoRemove,i=a.onExpiredToken?"renew"===a.onExpiredToken:i,a=a.onExpiredToken?"remove"===a.onExpiredToken:s,s=this.tokenManager.getTokensSync(),!(s=s.accessToken)||!this.tokenManager.hasExpired(s)){e.next=19;break}if(s=void 0,i)return e.prev=8,e.next=11,this.tokenManager.renew("accessToken");e.next=18;break;case 11:s=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:e.next=19;break;case 18:a&&this.tokenManager.remove("accessToken");case 19:if(l=this.tokenManager.getTokensSync(),!(l=l.idToken)||!this.tokenManager.hasExpired(l)){e.next=34;break}if(l=void 0,i)return e.prev=23,e.next=26,this.tokenManager.renew("idToken");e.next=33;break;case 26:l=e.sent,e.next=31;break;case 29:e.prev=29,e.t1=e.catch(23);case 31:e.next=34;break;case 33:a&&this.tokenManager.remove("idToken");case 34:return e.abrupt("return",!(!s||!l));case 35:case"end":return e.stop()}},e,this,[[8,14],[23,29]])})),function(){return T.apply(this,arguments)})},{key:"getUser",value:(c=(0,i.Z)(f().mark(function e(){var n,r;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.tokenManager.getTokensSync(),n=r.idToken,r=r.accessToken,e.abrupt("return",this.token.getUserInfo(r,n));case 2:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"getIdToken",value:function(){var e=this.tokenManager.getTokensSync().idToken;return e?e.idToken:void 0}},{key:"getAccessToken",value:function(){var e=this.tokenManager.getTokensSync().accessToken;return e?e.accessToken:void 0}},{key:"getRefreshToken",value:function(){var e=this.tokenManager.getTokensSync().refreshToken;return e?e.refreshToken:void 0}},{key:"storeTokensFromRedirect",value:(r=(0,i.Z)(f().mark(function e(){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.token.parseFromUrl();case 2:n=e.sent,n=n.tokens,this.tokenManager.setTokens(n);case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"setOriginalUri",value:function(e,t){N.getSessionStorage().setItem(l.REFERRER_PATH_STORAGE_KEY,e),(t=t||this.options.state)&&this.storageManager.getOriginalUriStorage().setItem(t,e)}},{key:"getOriginalUri",value:function(e){if(e=e||this.options.state){var n=this.storageManager.getOriginalUriStorage().getItem(e);if(n)return n}n=N.getSessionStorage();return n&&n.getItem(l.REFERRER_PATH_STORAGE_KEY)||void 0}},{key:"removeOriginalUri",value:function(e){var t;N.getSessionStorage().removeItem(l.REFERRER_PATH_STORAGE_KEY),(e=e||this.options.state)&&(t=this.storageManager.getOriginalUriStorage()).removeItem&&t.removeItem(e)}},{key:"isLoginRedirect",value:function(){return(0,O.gM)(this)}},{key:"handleLoginRedirect",value:(n=(0,i.Z)(f().mark(function e(t,n){var r,i;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.options.state,!t){e.next=6;break}this.tokenManager.setTokens(t),n=n||this.getOriginalUri(this.options.state),e.next=25;break;case 6:if(this.isLoginRedirect())return e.prev=7,e.next=10,(0,ct.Tp)(this,{});e.next=24;break;case 10:return i=e.sent,r=i.state,n=n||this.getOriginalUri(r),e.next=15,this.storeTokensFromRedirect();case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(7),e.next=21,this.authStateManager.updateAuthState();case 21:throw e.t0;case 22:e.next=25;break;case 24:return e.abrupt("return");case 25:return e.next=27,this.authStateManager.updateAuthState();case 27:if(this.removeOriginalUri(r),i=this.options.restoreOriginalUri)return e.next=32,i(this,n);e.next=34;break;case 32:e.next=35;break;case 34:n&&window.location.replace(n);case 35:case"end":return e.stop()}},e,this,[[7,17]])})),function(e,t){return n.apply(this,arguments)})},{key:"isPKCE",value:function(){return!!this.options.pkce}},{key:"hasResponseType",value:function(e){return Array.isArray(this.options.responseType)&&this.options.responseType.length?0<=this.options.responseType.indexOf(e):this.options.responseType===e}},{key:"isAuthorizationCodeFlow",value:function(){return this.hasResponseType("code")}},{key:"getIssuerOrigin",value:function(){return this.options.issuer.split("/oauth2/")[0]}},{key:"forgotPassword",value:function(e){return(0,p.postToTransaction)(this,"/api/v1/authn/recovery/password",e)}},{key:"unlockAccount",value:function(e){return(0,p.postToTransaction)(this,"/api/v1/authn/recovery/unlock",e)}},{key:"verifyRecoveryToken",value:function(e){return(0,p.postToTransaction)(this,"/api/v1/authn/recovery/token",e)}},{key:"invokeApiMethod",value:(t=(0,i.Z)(f().mark(function e(t){var n;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.accessToken){e.next=5;break}return e.next=3,this.tokenManager.getTokens();case 3:n=e.sent.accessToken,t.accessToken=null==n?void 0:n.accessToken;case 5:return e.abrupt("return",(0,y.c3)(this,t));case 6:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();(0,s.Z)(gt,"features",E),(0,s.Z)(gt,"crypto",T),(0,s.Z)(gt,"webauthn",r),gt.features=gt.prototype.features=E,Object.assign(gt,{constants:l});var mt=gt},5991:function(e,t,s){var r=s(5671),o=s(3144),i=s(4942),a=s(146),u=s(4771),s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{quiet:!1};(0,r.Z)(this,e),(0,i.Z)(this,"queue",void 0),(0,i.Z)(this,"running",void 0),(0,i.Z)(this,"options",void 0),this.queue=[],this.running=!1,this.options=t}return(0,o.Z)(e,[{key:"push",value:function(e,t){for(var n=this,r=arguments.length,o=new Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return new Promise(function(r,i){0<n.queue.length&&!1!==n.options.quiet&&(0,a.ZK)("Async method is being called but another async method is already running. The new method will be delayed until the previous method completes."),n.queue.push({method:e,thisObject:t,args:o,resolve:r,reject:i}),n.run()})}},{key:"run",value:function(){var t,n,e=this;this.running||0===this.queue.length||(this.running=!0,n=(t=this.queue.shift()).method.apply(t.thisObject,t.args),(0,u.tI)(n)?n.then(t.resolve,t.reject).finally(function(){e.running=!1,e.run()}):(t.resolve(n),this.running=!1,this.run()))}}]),e}();t.Z=s},6311:function(e,t,n){n.d(t,{A:function(){return d}});var r=n(5671),o=n(3144),i=n(4942),a=n(1971),u=n(9123),s=n(1524),c=function(){function e(t,n){if((0,r.Z)(this,e),(0,i.Z)(this,"storageProvider",void 0),(0,i.Z)(this,"storageName",void 0),!t)throw new u.Z('"storage" is required');if("string"!=typeof n||!n.length)throw new u.Z('"storageName" is required');this.storageName=n,this.storageProvider=t}return(0,o.Z)(e,[{key:"getItem",value:function(e){return this.getStorage()[e]}},{key:"setItem",value:function(e,t){return this.updateStorage(e,t)}},{key:"removeItem",value:function(e){return this.clearStorage(e)}},{key:"isSharedStorage",value:function(){var e,t;return(0,s.f)()&&this.storageProvider===localStorage||!(null===(e=(t=this.storageProvider).isSharedStorage)||void 0===e||!e.call(t))}},{key:"getStorage",value:function(){var e=(e=this.storageProvider.getItem(this.storageName))||"{}";try{return JSON.parse(e)}catch(e){throw new u.Z("Unable to parse storage string: "+this.storageName)}}},{key:"setStorage",value:function(e){try{var t=e?JSON.stringify(e):"{}";this.storageProvider.setItem(this.storageName,t)}catch(e){throw new u.Z("Unable to set storage: "+this.storageName)}}},{key:"clearStorage",value:function(e){var t;e?(delete(t=this.getStorage())[e],this.setStorage(t)):this.storageProvider.removeItem?this.storageProvider.removeItem(this.storageName):this.setStorage()}},{key:"updateStorage",value:function(e,t){var n=this.getStorage();n[e]=t,this.setStorage(n)}}]),e}(),f=n(415),l=n(146),p=n(7301);function h(e){(0,f.isBrowser)()||e.storageProvider||e.storageProvider||(0,l.ZK)("Memory storage can only support simple single user use case on server side, please provide custom storageProvider or storageKey if advanced scenarios need to be supported.")}var d=function(){function e(t,n,o){(0,r.Z)(this,e),(0,i.Z)(this,"storageManagerOptions",void 0),(0,i.Z)(this,"cookieOptions",void 0),(0,i.Z)(this,"storageUtil",void 0),this.storageManagerOptions=t,this.cookieOptions=n,this.storageUtil=o}return(0,o.Z)(e,[{key:"getOptionsForSection",value:function(e,t){return Object.assign({},this.storageManagerOptions[e],t)}},{key:"getStorage",value:function(e){if((e=Object.assign({},this.cookieOptions,e)).storageProvider)return e.storageProvider;var o,n=e.storageType,r=e.storageTypes;return"sessionStorage"===n&&(e.sessionCookie=!0),n&&r&&0<=(o=r.indexOf(n))&&(r=r.slice(o),n=void 0),n=n||this.storageUtil.findStorageType(r),this.storageUtil.getStorageByType(n,e)}},{key:"getTransactionStorage",value:function(n){h(n=this.getOptionsForSection("transaction",n));var t=this.getStorage(n),n=n.storageKey||a.TRANSACTION_STORAGE_NAME;return new c(t,n)}},{key:"getSharedTansactionStorage",value:function(n){h(n=this.getOptionsForSection("shared-transaction",n));var t=this.getStorage(n),n=n.storageKey||a.SHARED_TRANSACTION_STORAGE_NAME;return new c(t,n)}},{key:"getOriginalUriStorage",value:function(n){h(n=this.getOptionsForSection("original-uri",n));var t=this.getStorage(n),n=n.storageKey||a.ORIGINAL_URI_STORAGE_NAME;return new c(t,n)}},{key:"getIdxResponseStorage",value:function(e){var t;if((0,f.isBrowser)())try{t=this.storageUtil.getStorageByType("memory",e)}catch(e){(0,l.ZK)("No response storage found, you may want to provide custom implementation for intermediate idx responses to optimize the network traffic")}else{var n=this.getTransactionStorage(e);n&&(t={getItem:function(e){var t=n.getStorage();return t&&t[e]?t[e]:null},setItem:function(e,t){var r=n.getStorage();if(!r)throw new p.R("Transaction has been cleared, failed to save idxState");r[e]=t,n.setStorage(r)},removeItem:function(e){var t=n.getStorage();t&&(delete t[e],n.setStorage(t))}})}return t?new c(t,a.IDX_RESPONSE_STORAGE_NAME):null}},{key:"getTokenStorage",value:function(n){h(n=this.getOptionsForSection("token",n));var t=this.getStorage(n),n=n.storageKey||a.TOKEN_STORAGE_NAME;return new c(t,n)}},{key:"getHttpCache",value:function(n){n=this.getOptionsForSection("cache",n);var t=this.getStorage(n),n=n.storageKey||a.CACHE_STORAGE_NAME;return new c(t,n)}},{key:"getLegacyPKCEStorage",value:function(n){n=this.getOptionsForSection("legacy-pkce",n);var t=this.getStorage(n),n=n.storageKey||a.PKCE_STORAGE_NAME;return new c(t,n)}},{key:"getLegacyOAuthParamsStorage",value:function(n){n=this.getOptionsForSection("legacy-oauth-params",n);var t=this.getStorage(n),n=n.storageKey||a.REDIRECT_OAUTH_PARAMS_NAME;return new c(t,n)}}]),e}()},8092:function(e,s,n){n.d(s,{M:function(){return k}});var r=n(5861),o=n(1002),i=n(5671),a=n(3144),u=n(4942),s=n(7757),c=n.n(s),f=n(3193),l=n(7301),p=n(1060),h=n(415),d=function(){function e(t){(0,i.Z)(this,e),(0,u.Z)(this,"localOffset",void 0),this.localOffset=parseInt(t||0)}return(0,a.Z)(e,[{key:"now",value:function(){return(Date.now()+this.localOffset)/1e3}}],[{key:"create",value:function(){return new e(0)}}]),e}(),v=n(2852),y=n(1971);function g(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,u.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b={autoRenew:!0,autoRemove:!0,syncStorage:!0,clearPendingRemoveTokens:!0,storage:void 0,expireEarlySeconds:30,storageKey:y.TOKEN_STORAGE_NAME},k=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if((0,i.Z)(this,e),(0,u.Z)(this,"sdk",void 0),(0,u.Z)(this,"clock",void 0),(0,u.Z)(this,"emitter",void 0),(0,u.Z)(this,"storage",void 0),(0,u.Z)(this,"state",void 0),(0,u.Z)(this,"options",void 0),this.sdk=t,this.emitter=t.emitter,!this.emitter)throw new l.R("Emitter should be initialized before TokenManager");n=Object.assign({},b,(0,f.YY)(n)),(0,h.isLocalhost)()||(n.expireEarlySeconds=b.expireEarlySeconds),this.options=n;var r=(0,f.YY)({storageKey:n.storageKey,secure:n.secure});"object"===(0,o.Z)(n.storage)?r.storageProvider=n.storage:n.storage&&(r.storageType=n.storage),this.storage=t.storageManager.getTokenStorage(m(m({},r),{},{useSeparateCookies:!0})),this.clock=d.create(),this.state={expireTimeouts:{},renewPromise:null}}var t,n,s;return(0,a.Z)(e,[{key:"on",value:function(e,t,n){n?this.emitter.on(e,t,n):this.emitter.on(e,t)}},{key:"off",value:function(e,t){t?this.emitter.off(e,t):this.emitter.off(e)}},{key:"hasSharedStorage",value:function(){return this.storage.isSharedStorage()}},{key:"start",value:function(){this.options.clearPendingRemoveTokens&&this.clearPendingRemoveTokens(),this.setExpireEventTimeoutAll()}},{key:"stop",value:function(){this.clearExpireEventTimeoutAll()}},{key:"getOptions",value:function(){return(0,f.d9)(this.options)}},{key:"getExpireTime",value:function(e){var t=this.options.expireEarlySeconds||0;return e.expiresAt-t}},{key:"hasExpired",value:function(e){return this.getExpireTime(e)<=this.clock.now()}},{key:"emitExpired",value:function(e,t){this.emitter.emit(v.EVENT_EXPIRED,e,t)}},{key:"emitRenewed",value:function(e,t,n){this.emitter.emit(v.EVENT_RENEWED,e,t,n)}},{key:"emitAdded",value:function(e,t){this.emitter.emit(v.EVENT_ADDED,e,t)}},{key:"emitRemoved",value:function(e,t){this.emitter.emit(v.EVENT_REMOVED,e,t)}},{key:"emitError",value:function(e){this.emitter.emit(v.EVENT_ERROR,e)}},{key:"clearExpireEventTimeout",value:function(e){clearTimeout(this.state.expireTimeouts[e]),delete this.state.expireTimeouts[e],this.state.renewPromise=null}},{key:"clearExpireEventTimeoutAll",value:function(){var t,e=this.state.expireTimeouts;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.clearExpireEventTimeout(t)}},{key:"setExpireEventTimeout",value:function(e,t){var i,n=this;(0,v.isRefreshToken)(t)||(i=this.getExpireTime(t),i=1e3*Math.max(i-this.clock.now(),0),this.clearExpireEventTimeout(e),i=setTimeout(function(){n.emitExpired(e,t)},i),this.state.expireTimeouts[e]=i)}},{key:"setExpireEventTimeoutAll",value:function(){var t,n,e=this.storage.getStorage();for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n=e[t],this.setExpireEventTimeout(t,n))}},{key:"resetExpireEventTimeoutAll",value:function(){this.clearExpireEventTimeoutAll(),this.setExpireEventTimeoutAll()}},{key:"add",value:function(e,t){var n=this.storage.getStorage();(0,p.Rp)(t),n[e]=t,this.storage.setStorage(n),this.emitSetStorageEvent(),this.emitAdded(e,t),this.setExpireEventTimeout(e,t)}},{key:"getSync",value:function(e){return this.storage.getStorage()[e]}},{key:"get",value:(s=(0,r.Z)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getSync(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"getTokensSync",value:function(){var e={},t=this.storage.getStorage();return Object.keys(t).forEach(function(r){r=t[r];(0,v.isAccessToken)(r)?e.accessToken=r:(0,v.isIDToken)(r)?e.idToken=r:(0,v.isRefreshToken)(r)&&(e.refreshToken=r)}),e}},{key:"getTokens",value:(n=(0,r.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getTokensSync());case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getStorageKeyByType",value:function(e){var t=this.storage.getStorage();return Object.keys(t).filter(function(r){r=t[r];return(0,v.isAccessToken)(r)&&"accessToken"===e||(0,v.isIDToken)(r)&&"idToken"===e||(0,v.isRefreshToken)(r)&&"refreshToken"===e})[0]}},{key:"getTokenType",value:function(e){if((0,v.isAccessToken)(e))return"accessToken";if((0,v.isIDToken)(e))return"idToken";if((0,v.isRefreshToken)(e))return"refreshToken";throw new l.R("Unknown token type")}},{key:"emitSetStorageEvent",value:function(){var e;(0,h.isIE11OrLess)()&&(e=this.storage.getStorage(),this.emitter.emit(v.EVENT_SET_STORAGE,e))}},{key:"getStorage",value:function(){return this.storage}},{key:"setTokens",value:function(e,t,n,r){function i(e,i){var a=o.getTokenType(i);"accessToken"===a?t&&t(e,i):"idToken"===a?n&&n(e,i):"refreshToken"===a&&r&&r(e,i)}function a(e,t){o.emitAdded(e,t),o.setExpireEventTimeout(e,t),i(e,t)}function u(e,t){o.clearExpireEventTimeout(e),o.emitRemoved(e,t),i(e,t)}var o=this,s=["idToken","accessToken","refreshToken"],c=this.getTokensSync();s.forEach(function(t){var n=e[t];n&&(0,p.Rp)(n,t)});var f=s.reduce(function(t,n){var r=e[n];return r&&(t[o.getStorageKeyByType(n)||n]=r),t},{});this.storage.setStorage(f),this.emitSetStorageEvent(),s.forEach(function(r){var n,f=e[r],l=c[r],p=o.getStorageKeyByType(r)||r;f&&l?(u(p,l),a(p,f),o.emitRenewed(n=p,r=f,l),o.clearExpireEventTimeout(n),o.setExpireEventTimeout(n,r),i(n,r)):f?a(p,f):l&&u(p,l)})}},{key:"remove",value:function(e){this.clearExpireEventTimeout(e);var t=this.storage.getStorage(),n=t[e];delete t[e],this.storage.setStorage(t),this.emitSetStorageEvent(),this.emitRemoved(e,n)}},{key:"renewToken",value:(t=(0,r.Z)(c().mark(function e(t){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this.sdk.token)||void 0===n?void 0:n.renew(t));case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"validateToken",value:function(e){return(0,p.Rp)(e)}},{key:"renew",value:function(e){var t=this;if(this.state.renewPromise)return this.state.renewPromise;try{var n=this.getSync(e);if(!n)throw new l.R("The tokenManager has no token for the key: "+e)}catch(e){return Promise.reject(e)}return this.clearExpireEventTimeout(e),this.state.renewPromise=this.sdk.token.renewTokens().then(function(e){return t.setTokens(e),e[t.getTokenType(n)]}).catch(function(n){throw t.remove(e),n.tokenKey=e,t.emitError(n),n}).finally(function(){t.state.renewPromise=null}),this.state.renewPromise}},{key:"clear",value:function(){var e=this,t=this.getTokensSync();this.clearExpireEventTimeoutAll(),this.storage.clearStorage(),this.emitSetStorageEvent(),Object.keys(t).forEach(function(n){e.emitRemoved(n,t[n])})}},{key:"clearPendingRemoveTokens",value:function(){var e=this,t=this.storage.getStorage(),n={};Object.keys(t).forEach(function(e){t[e].pendingRemove&&(n[e]=t[e],delete t[e])}),this.storage.setStorage(t),this.emitSetStorageEvent(),Object.keys(n).forEach(function(t){e.clearExpireEventTimeout(t),e.emitRemoved(t,n[t])})}},{key:"updateRefreshToken",value:function(e){var t=this.getStorageKeyByType("refreshToken")||y.REFRESH_TOKEN_STORAGE_KEY,n=this.storage.getStorage();(0,p.Rp)(e),n[t]=e,this.storage.setStorage(n),this.emitSetStorageEvent()}},{key:"removeRefreshToken",value:function(){var e=this.getStorageKeyByType("refreshToken")||y.REFRESH_TOKEN_STORAGE_KEY;this.remove(e)}},{key:"addPendingRemoveFlags",value:function(){var e=this.getTokensSync();Object.keys(e).forEach(function(t){e[t].pendingRemove=!0}),this.setTokens(e)}}]),e}()},6529:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(5671),o=n(3144),i=n(4942),a=n(7301),u=n(1971),s=n(2852),c=n(480),f=n(146);var v=function(){function e(t){(0,r.Z)(this,e),(0,i.Z)(this,"options",void 0),(0,i.Z)(this,"storageManager",void 0),(0,i.Z)(this,"legacyWidgetSupport",void 0),(0,i.Z)(this,"saveNonceCookie",void 0),(0,i.Z)(this,"saveStateCookie",void 0),(0,i.Z)(this,"saveParamsCookie",void 0),(0,i.Z)(this,"enableSharedStorage",void 0),(0,i.Z)(this,"saveLastResponse",void 0),this.storageManager=t.storageManager,this.legacyWidgetSupport=!1!==t.legacyWidgetSupport,this.saveNonceCookie=!1!==t.saveNonceCookie,this.saveStateCookie=!1!==t.saveStateCookie,this.saveParamsCookie=!1!==t.saveParamsCookie,this.enableSharedStorage=!1!==t.enableSharedStorage,this.saveLastResponse=!1!==t.saveLastResponse,this.options=t}return(0,o.Z)(e,[{key:"clear",value:function(){var r,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.storageManager.getTransactionStorage(),n=t.getStorage();t.clearStorage(),this.enableSharedStorage&&!1!==e.clearSharedStorage&&(r=e.state||(null==n?void 0:n.state))&&function(r,t){var n=r.getSharedTansactionStorage();delete(r=n.getStorage())[t],n.setStorage(r)}(this.storageManager,r),!1!==e.clearIdxResponse&&this.clearIdxResponse(),this.legacyWidgetSupport&&(e.oauth&&this.clearLegacyOAuthParams(),e.pkce&&this.clearLegacyPKCE())}},{key:"save",value:function(e){var o,i,a,c,l,v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=this.storageManager.getTransactionStorage(),h=d.getStorage();(0,s.isTransactionMeta)(h)&&!v.muteWarning&&(0,f.ZK)("a saved auth transaction exists in storage. This may indicate another auth flow is already in progress."),d.setStorage(e),this.enableSharedStorage&&e.state&&function(o,t,n){var r=o.getSharedTansactionStorage();(o=r.getStorage())[t]={dateCreated:Date.now(),transaction:n},r.setStorage(o)}(this.storageManager,e.state,e),v.oauth&&(this.saveNonceCookie||this.saveStateCookie||this.saveParamsCookie)&&(o=this.storageManager.getStorage({storageType:"cookie"}),this.saveParamsCookie&&(i=e.responseType,a=e.state,c=e.nonce,l=e.scopes,h=e.clientId,d=e.urls,v=e.ignoreSignature,o.setItem(u.REDIRECT_OAUTH_PARAMS_NAME,JSON.stringify({responseType:i,state:a,nonce:c,scopes:l,clientId:h,urls:d,ignoreSignature:v}),null)),this.saveNonceCookie&&e.nonce&&o.setItem(u.REDIRECT_NONCE_COOKIE_NAME,e.nonce,null),this.saveStateCookie&&e.state&&o.setItem(u.REDIRECT_STATE_COOKIE_NAME,e.state,null))}},{key:"exists",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};try{return!!this.load(e)}catch(e){return!1}}},{key:"load",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this.enableSharedStorage&&t.state&&(function(t){var n=(t=t.getSharedTansactionStorage()).getStorage();Object.keys(n).forEach(function(e){var t=n[e];18e5<Date.now()-t.dateCreated&&delete n[e]}),t.setStorage(n)}(this.storageManager),e=function(e,n){return(n=e.getSharedTansactionStorage().getStorage()[n])&&n.transaction&&(0,s.isTransactionMeta)(n.transaction)?n.transaction:null}(this.storageManager,t.state),(0,s.isTransactionMeta)(e)))return e;var e=this.storageManager.getTransactionStorage().getStorage();if((0,s.isTransactionMeta)(e))return e;if(!this.legacyWidgetSupport)return null;if(t.oauth)try{var r=this.loadLegacyOAuthParams();Object.assign(e,r)}finally{this.clearLegacyOAuthParams()}if(t.pkce)try{var o=this.loadLegacyPKCE();Object.assign(e,o)}finally{this.clearLegacyPKCE()}return(0,s.isTransactionMeta)(e)?e:null}},{key:"clearLegacyPKCE",value:function(){this.storageManager.storageUtil.testStorageType("localStorage")&&this.storageManager.getLegacyPKCEStorage({storageType:"localStorage"}).clearStorage(),this.storageManager.storageUtil.testStorageType("sessionStorage")&&this.storageManager.getLegacyPKCEStorage({storageType:"sessionStorage"}).clearStorage()}},{key:"loadLegacyPKCE",value:function(){var e;if(this.storageManager.storageUtil.testStorageType("localStorage")&&(e=this.storageManager.getLegacyPKCEStorage({storageType:"localStorage"}).getStorage())&&e.codeVerifier)return e;if(this.storageManager.storageUtil.testStorageType("sessionStorage")&&(e=this.storageManager.getLegacyPKCEStorage({storageType:"sessionStorage"}).getStorage())&&e.codeVerifier)return e;throw new a.R("Could not load PKCE codeVerifier from storage. This may indicate the auth flow has already completed or multiple auth flows are executing concurrently.",void 0)}},{key:"clearLegacyOAuthParams",value:function(){this.storageManager.storageUtil.testStorageType("sessionStorage")&&this.storageManager.getLegacyOAuthParamsStorage({storageType:"sessionStorage"}).clearStorage(),this.storageManager.storageUtil.testStorageType("cookie")&&this.storageManager.getLegacyOAuthParamsStorage({storageType:"cookie"}).clearStorage()}},{key:"loadLegacyOAuthParams",value:function(){var e;if(this.storageManager.storageUtil.testStorageType("sessionStorage")&&(e=this.storageManager.getLegacyOAuthParamsStorage({storageType:"sessionStorage"}).getStorage()),(0,s.isOAuthTransactionMeta)(e))return e;if(this.storageManager.storageUtil.testStorageType("cookie")&&(e=this.storageManager.getLegacyOAuthParamsStorage({storageType:"cookie"}).getStorage()),(0,s.isOAuthTransactionMeta)(e))return e;throw new a.R("Unable to retrieve OAuth redirect params from storage")}},{key:"saveIdxResponse",value:function(e){var t;!this.saveLastResponse||(t=this.storageManager.getIdxResponseStorage())&&t.setStorage(e)}},{key:"loadIdxResponse",value:function(o){if(!this.saveLastResponse)return null;var r=this.storageManager.getIdxResponseStorage();if(!r)return null;var n=r.getStorage();if(!n||!(0,c.P)(n.rawIdxResponse))return null;if(o){r=o.stateHandle,o=o.interactionHandle;if(r&&n.stateHandle!==r)return null;if(o&&n.interactionHandle!==o)return null}return n}},{key:"clearIdxResponse",value:function(){var e;this.saveLastResponse&&(null==(e=this.storageManager.getIdxResponseStorage())||e.clearStorage())}}]),e}()},1971:function(e,t,n){n.r(t),n.d(t,{STATE_TOKEN_KEY_NAME:function(){return r},DEFAULT_POLLING_DELAY:function(){return o},DEFAULT_MAX_CLOCK_SKEW:function(){return i},DEFAULT_CACHE_DURATION:function(){return a},REDIRECT_OAUTH_PARAMS_NAME:function(){return u},REDIRECT_STATE_COOKIE_NAME:function(){return s},REDIRECT_NONCE_COOKIE_NAME:function(){return c},TOKEN_STORAGE_NAME:function(){return f},CACHE_STORAGE_NAME:function(){return l},PKCE_STORAGE_NAME:function(){return p},TRANSACTION_STORAGE_NAME:function(){return h},SHARED_TRANSACTION_STORAGE_NAME:function(){return d},ORIGINAL_URI_STORAGE_NAME:function(){return v},IDX_RESPONSE_STORAGE_NAME:function(){return y},ACCESS_TOKEN_STORAGE_KEY:function(){return g},ID_TOKEN_STORAGE_KEY:function(){return m},REFRESH_TOKEN_STORAGE_KEY:function(){return b},REFERRER_PATH_STORAGE_KEY:function(){return k},MIN_VERIFIER_LENGTH:function(){return w},MAX_VERIFIER_LENGTH:function(){return O},DEFAULT_CODE_CHALLENGE_METHOD:function(){return E},IDX_API_VERSION:function(){return T}});var r="oktaStateToken",o=500,i=300,a=86400,u="okta-oauth-redirect-params",s="okta-oauth-state",c="okta-oauth-nonce",f="okta-token-storage",l="okta-cache-storage",p="okta-pkce-storage",h="okta-transaction-storage",d="okta-shared-transaction-storage",v="okta-original-uri-storage",y="okta-idx-response-storage",g="accessToken",m="idToken",b="refreshToken",k="referrerPath",w=43,O=128,E="S256",T="1.0.0"},7987:function(e,t,n){n.d(t,{NL:function(){return i},aR:function(){return a},Df:function(){return u},Wy:function(){return s},k8:function(){return c},EL:function(){return f},dX:function(){return l},kQ:function(){return p}});var r=n(7301),o=n(4029);function i(e){return a((0,o.r3)(e))}function a(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function u(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function s(e){var t=u(e);switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new r.R("Not a valid Base64Url")}var n=(0,o.ty)(t);try{return decodeURIComponent(escape(n))}catch(e){return n}}function c(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function f(e){return(0,o.ty)(u(e))}function l(e){return Uint8Array.from(f(e),function(e){return e.charCodeAt(0)})}function p(e){return(0,o.r3)(new Uint8Array(e).reduce(function(e,t){return e+String.fromCharCode(t)},""))}},9326:function(e,t,n){n.r(t),n.d(t,{atob:function(){return o.ty},base64ToBase64Url:function(){return r.aR},base64UrlDecode:function(){return r.EL},base64UrlToBase64:function(){return r.Df},base64UrlToBuffer:function(){return r.dX},base64UrlToString:function(){return r.Wy},btoa:function(){return o.r3},bufferToBase64Url:function(){return r.kQ},getOidcHash:function(){return i},stringToBase64Url:function(){return r.NL},stringToBuffer:function(){return r.k8},verifyToken:function(){return u},webcrypto:function(){return o.KP}});var r=n(7987),o=n(4029);function i(t){t=(new TextEncoder).encode(t);return o.KP.subtle.digest("SHA-256",t).then(function(n){n=new Uint8Array(n).slice(0,16),n=String.fromCharCode.apply(null,n);return(0,r.NL)(n)})}var a=n(3193);function u(e,t){t=(0,a.d9)(t);var n={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};return delete t.use,o.KP.subtle.importKey("jwk",t,n,!0,["verify"]).then(function(t){var s=e.split("."),a=(0,r.k8)(s[0]+"."+s[1]),s=(0,r.EL)(s[2]),s=(0,r.k8)(s);return o.KP.subtle.verify(n,t,s,a)})}},4029:function(e,t,n){n.d(t,{ty:function(){return r},r3:function(){return o},KP:function(){return i}});var r=function(e){return atob(e)},o=function(e){return btoa(e)},i="undefined"==typeof crypto?null:crypto},3983:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(5671),o=n(7326),i=n(136),a=n(2963),u=n(1120),s=n(4942),c=function(e){(0,i.Z)(f,e);var t,n,c=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,u.Z)(t);return e=n?(o=(0,u.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,a.Z)(this,e)});function f(e,t,n){(0,r.Z)(this,f);var i=e.errorSummary,i=c.call(this,i);return(0,s.Z)((0,o.Z)(i),"errorSummary",void 0),(0,s.Z)((0,o.Z)(i),"errorCode",void 0),(0,s.Z)((0,o.Z)(i),"errorLink",void 0),(0,s.Z)((0,o.Z)(i),"errorId",void 0),(0,s.Z)((0,o.Z)(i),"errorCauses",void 0),(0,s.Z)((0,o.Z)(i),"xhr",void 0),(0,s.Z)((0,o.Z)(i),"meta",void 0),i.name="AuthApiError",i.errorSummary=e.errorSummary,i.errorCode=e.errorCode,i.errorLink=e.errorLink,i.errorId=e.errorId,i.errorCauses=e.errorCauses,t&&(i.xhr=t),n&&(i.meta=n),i}return f}(n(6245).Z)},6573:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(5671),o=n(136),i=n(2963),a=n(1120),u=function(e){(0,o.Z)(s,e);var t,n,u=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,a.Z)(t);return e=n?(o=(0,a.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,i.Z)(this,e)});function s(){return(0,r.Z)(this,s),u.call(this,"The poll was stopped by the sdk")}return s}(n(6245).Z)},9123:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(5671),o=n(7326),i=n(136),a=n(2963),u=n(1120),s=n(4942),c=function(e){(0,i.Z)(f,e);var t,n,c=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,u.Z)(t);return e=n?(o=(0,u.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,a.Z)(this,e)});function f(e,t){var n;return(0,r.Z)(this,f),n=c.call(this,e),(0,s.Z)((0,o.Z)(n),"errorSummary",void 0),(0,s.Z)((0,o.Z)(n),"errorCode",void 0),(0,s.Z)((0,o.Z)(n),"errorLink",void 0),(0,s.Z)((0,o.Z)(n),"errorId",void 0),(0,s.Z)((0,o.Z)(n),"errorCauses",void 0),(0,s.Z)((0,o.Z)(n),"xhr",void 0),n.name="AuthSdkError",n.errorCode="INTERNAL",n.errorSummary=e,n.errorLink="INTERNAL",n.errorId="INTERNAL",n.errorCauses=[],t&&(n.xhr=t),n}return f}(n(6245).Z)},6245:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(5671),o=n(7326),i=n(136),a=n(2963),u=n(1120),s=n(9611);function f(e,t,n){return(f=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);o=new(Function.bind.apply(e,o));return n&&(0,s.Z)(o,n.prototype),o}).apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,(0,u.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,s.Z)(r,e)})(e)}var p=function(e){(0,i.Z)(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,u.Z)(t);return e=n?(o=(0,u.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,a.Z)(this,e)});function c(t){return(0,r.Z)(this,c),t=s.call(this,t),Object.setPrototypeOf((0,o.Z)(t),(this instanceof c?this.constructor:void 0).prototype),t}return c}(l(Error))},7301:function(e,t,n){n.d(t,{Ws:function(){return r.Z},j2:function(){return o.Z},R:function(){return i.Z},BK:function(){return p},Tw:function(){return h},eo:function(){return d}});var r=n(3983),o=n(6573),i=n(9123),a=n(5671),u=n(7326),s=n(136),c=n(2963),f=n(1120),l=n(4942),p=function(e){(0,s.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,f.Z)(t);return e=n?(o=(0,f.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,c.Z)(this,e)});function o(e,t){var n;return(0,a.Z)(this,o),n=r.call(this,t),(0,l.Z)((0,u.Z)(n),"errorCode",void 0),(0,l.Z)((0,u.Z)(n),"errorSummary",void 0),(0,l.Z)((0,u.Z)(n),"error",void 0),(0,l.Z)((0,u.Z)(n),"error_description",void 0),n.name="OAuthError",n.errorCode=e,n.errorSummary=t,n.error=e,n.error_description=t,n}return o}(n(6245).Z);function h(e){return e instanceof r.Z}function d(e){return e instanceof p}},415:function(e,t,n){n.r(t),n.d(t,{isBrowser:function(){return i},isIE11OrLess:function(){return a},getUserAgent:function(){return u},isFingerprintSupported:function(){return s},isPopupPostMessageSupported:function(){return c},isTokenVerifySupported:function(){return f},hasTextEncoder:function(){return l},isPKCESupported:function(){return p},isHTTPS:function(){return h},isLocalhost:function(){return d}});var r=n(9326),o=/windows phone|iemobile|wpdesktop/i;function i(){return"undefined"!=typeof document&&"undefined"!=typeof window}function a(){if(!i())return!1;var e=document.documentMode;return!!e&&e<=11}function u(){return navigator.userAgent}function s(){var e=u();return e&&!o.test(e)}function c(){if(!i())return!1;var e=document.documentMode;return void 0!==window.postMessage&&!(e&&e<10)}function f(){return void 0!==r.webcrypto&&null!==r.webcrypto&&void 0!==r.webcrypto.subtle&&"undefined"!=typeof Uint8Array}function l(){return"undefined"!=typeof TextEncoder}function p(){return f()&&l()}function h(){return!!i()&&"https:"===window.location.protocol}function d(){return i()&&"localhost"===window.location.hostname}},2281:function(e,t,n){function r(e,t,n){e.options.headers=e.options.headers||{},e.options.headers[t]=n}n.d(t,{r:function(){return r}})},7735:function(e,t,n){n.d(t,{U2:function(){return d},c3:function(){return h},v_:function(){return v},rn:function(){return r.r}});var r=n(2281),o=n(1002),i=n(4942),a=n(3193),u=n(4771),s=n(6718),c=n(1971),f=n(7301);function l(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(t=t||{},e.options.httpRequestInterceptors){var n,r=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e.options.httpRequestInterceptors);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(O){r.e(O)}finally{r.f()}}var s=t.url,h=t.method,d=t.args,v=t.saveAuthnState,y=t.accessToken,g=!0===t.withCredentials,m=e.options.storageUtil.storage,b=e.storageManager.getHttpCache(e.options.cookies);if(t.cacheResponse){var w=b.getStorage()[s];if(w&&Date.now()/1e3<w.expiresAt)return Promise.resolve(w.response)}var O,E,w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Accept:"application/json","Content-Type":"application/json"},e._oktaUserAgent.getHttpHeader());return Object.assign(w,e.options.headers,t.headers),w=(0,a.YY)(w),y&&(0,u.HD)(y)&&(w.Authorization="Bearer "+y),e.options.httpRequestClient(h,s,{headers:w,data:d||void 0,withCredentials:g}).then(function(n){return(E=n.responseText)&&(0,u.HD)(E)&&(E=JSON.parse(E))&&"object"===(0,o.Z)(E)&&!E.headers&&(Array.isArray(E)?E.forEach(function(e){e.headers=n.headers}):E.headers=n.headers),v&&(E.stateToken||m.delete(c.STATE_TOKEN_KEY_NAME)),E&&E.stateToken&&E.expiresAt&&m.set(c.STATE_TOKEN_KEY_NAME,E.stateToken,E.expiresAt,e.options.cookies),E&&t.cacheResponse&&b.updateStorage(s,{expiresAt:Math.floor(Date.now()/1e3)+c.DEFAULT_CACHE_DURATION,response:E}),E}).catch(function(t){var n=t.responseText||{};if((0,u.HD)(n))try{n=JSON.parse(n)}catch(e){n={errorSummary:"Unknown error"}}throw 500<=t.status&&(n.errorSummary="Unknown error"),e.options.transformErrorXHR&&(t=e.options.transformErrorXHR((0,a.d9)(t))),"E0000011"===(O=n.error&&n.error_description?new f.BK(n.error,n.error_description):new f.Ws(n,t)).errorCode&&m.delete(c.STATE_TOKEN_KEY_NAME),O})}function d(e,r,n){r={url:r=(0,s.sD)(r)?r:e.getIssuerOrigin()+r,method:"GET"};return Object.assign(r,n),h(e,r)}function v(e,t,o,r){o={url:t=(0,s.sD)(t)?t:e.getIssuerOrigin()+t,method:"POST",args:o,saveAuthnState:!0};return Object.assign(o,r),h(e,o)}},5294:function(e,a,n){n.d(a,{_T:function(){return Y},A0:function(){return q}});var r=n(1971),o=n(5861),i=n(2982),a=n(7757),u=n.n(a),s=n(885),c=n(4942),f=n(4925),l=n(1002),p=n(7735);function h(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=n(3983);function m(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,c){var n=c.actionDefinition,a=c.defaultParamsForAction,i=void 0===a?{}:a,s=void 0===(a=c.immutableParamsForAction)?{}:a,f=void 0===(c=c.toPersist)?{}:c,l=n.href;return(0,o.Z)(u().mark(function t(){var d,y,m,k=arguments;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d=0<k.length&&void 0!==k[0]?k[0]:{},m={"Content-Type":"application/json",Accept:n.accepts||"application/ion+json"},d=JSON.stringify(b(b(b({},i),d),s)),t.prev=3,t.next=6,(0,p.c3)(e,{url:l,method:n.method,headers:m,args:d,withCredentials:null===(m=null==f?void 0:f.withCredentials)||void 0===m||m});case 6:return y=t.sent,t.abrupt("return",e.idx.makeIdxResponse(b({},y),f,!0));case 10:if(t.prev=10,t.t0=t.catch(3),t.t0 instanceof g.Z&&null!==t.t0&&void 0!==t.t0&&t.t0.xhr){t.next=14;break}throw t.t0;case 14:throw d=t.t0.xhr,m=d.responseJSON||JSON.parse(d.responseText),y=d.headers["WWW-Authenticate"]||d.headers["www-authenticate"],m=e.idx.makeIdxResponse(b({},m),f,!1),401===d.status&&'Oktadevicejwt realm="Okta Device"'===y&&(m.stepUp=!0),m;case 20:case"end":return t.stop()}},t,null,[[3,10]])}))}function w(e,t,s){var r=k,i=(u=function(e){var t,n=[],r={},o={},i=h(e=Array.isArray(e)?e:[e]);try{for(i.s();!(t=i.n()).done;){var a=t.value,u=function(e){var t={},n=[],r={};if(!e.value)return n.push(e),{defaultParamsForAction:t,neededParamsForAction:n,immutableParamsForAction:r};var o,i=h(e.value);try{for(i.s();!(o=i.n()).done;){var a,u,s=o.value;!1!==s.mutable?(n.push(s),null!==(a=s.value)&&void 0!==a&&a&&(t[s.name]=s.value)):r[s.name]=null!==(u=s.value)&&void 0!==u?u:""}}catch(e){i.e(e)}finally{i.f()}return{defaultParamsForAction:t,neededParamsForAction:n,immutableParamsForAction:r}}(a),s=u.defaultParamsForAction,c=u.neededParamsForAction,f=u.immutableParamsForAction;n.push(c),r[a.name]=s,o[a.name]=f}}catch(e){i.e(e)}finally{i.f()}return{defaultParams:r,neededParams:n,immutableParams:o}}(t)).defaultParams,a=u.neededParams,u=u.immutableParams;return(s=r(e,{actionDefinition:t,defaultParamsForAction:i[t.name],immutableParamsForAction:u[t.name],toPersist:s})).neededParams=a,s}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _(e,t,n){return(_=S()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);o=new(Function.bind.apply(e,o));return n&&T(o,n.prototype),o}).apply(null,arguments)}function A(e){var t="function"==typeof Map?new Map:void 0;return(A=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _(e,arguments,E(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),T(r,e)})(e)}function R(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=Object.prototype.hasOwnProperty;function C(e,t){return(e=e.slice()).push(t),e}function D(e,t){return(t=t.slice()).unshift(e),t}var I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,A(Error));var t,n,r=(t=o,n=S(),function(){var o,r=E(t);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n?(o=E(this).constructor,Reflect.construct(r,arguments,o)):r.apply(this,arguments))});function o(e){var t;return function(e){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,t.value=e,t.name="NewError",t}return o}();function M(e,u,n,r,o){if(!(this instanceof M))try{return new M(e,u,n,r,o)}catch(e){if(!e.avoidNew)throw e;return e.value}"string"==typeof e&&(o=r,r=n,n=u,u=e,e=null);var i=e&&"object"===O(e);if(this.json=(e=e||{}).json||n,this.path=e.path||u,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=!j.call(e,"wrap")||e.wrap,this.sandbox=e.sandbox||{},this.preventEval=e.preventEval||!1,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||r||null,this.otherTypeCallback=e.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==e.autostart){u={path:i?e.path:u};i?"json"in e&&(u.json=e.json):u.json=n;u=this.evaluate(u);if(!u||"object"!==O(u))throw new I(u);return u}}M.prototype.evaluate=function(c,t,f,r){var o=this,i=this.parent,a=this.parentProperty,u=this.flatten,s=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,f=f||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,t=t||this.json,(c=c||this.path)&&"object"===O(c)&&!Array.isArray(c)){if(!c.path&&""!==c.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!j.call(c,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');t=c.json,u=j.call(c,"flatten")?c.flatten:u,this.currResultType=j.call(c,"resultType")?c.resultType:this.currResultType,this.currSandbox=j.call(c,"sandbox")?c.sandbox:this.currSandbox,s=j.call(c,"wrap")?c.wrap:s,this.currPreventEval=j.call(c,"preventEval")?c.preventEval:this.currPreventEval,f=j.call(c,"callback")?c.callback:f,this.currOtherTypeCallback=j.call(c,"otherTypeCallback")?c.otherTypeCallback:this.currOtherTypeCallback,i=j.call(c,"parent")?c.parent:i,a=j.call(c,"parentProperty")?c.parentProperty:a,c=c.path}if(i=i||null,a=a||null,((c=Array.isArray(c)?M.toPathString(c):c)||""===c)&&t){c=M.toPathArray(c);"$"===c[0]&&1<c.length&&c.shift(),this._hasParentSelector=null;f=this._trace(c,t,["$"],i,a,f).filter(function(e){return e&&!e.isParentSelector});return f.length?s||1!==f.length||f[0].hasArrExpr?f.reduce(function(e,n){n=o._getPreferredOutput(n);return u&&Array.isArray(n)?e=e.concat(n):e.push(n),e},[]):this._getPreferredOutput(f[0]):s?[]:void 0}},M.prototype._getPreferredOutput=function(e){var t=this.currResultType;switch(t){case"all":var n=Array.isArray(e.path)?e.path:M.toPathArray(e.path);return e.pointer=M.toPointer(n),e.path="string"==typeof e.path?e.path:M.toPathString(e.path),e;case"value":case"parent":case"parentProperty":return e[t];case"path":return M.toPathString(e[t]);case"pointer":return M.toPointer(e.path);default:throw new TypeError("Unknown result type")}},M.prototype._handleCallback=function(e,t,n){var r;t&&(r=this._getPreferredOutput(e),e.path="string"==typeof e.path?e.path:M.toPathString(e.path),t(r,n,e))},M.prototype._trace=function(e,t,n,r,o,i,a,u){var c=this;if(!e.length)return this._handleCallback(y={path:n,value:t,parent:r,parentProperty:o,hasArrExpr:a},i,"value"),y;var f=e[0],l=e.slice(1),p=[];function h(e){Array.isArray(e)?e.forEach(function(e){p.push(e)}):p.push(e)}if(("string"!=typeof f||u)&&t&&j.call(t,f))h(this._trace(l,t[f],C(n,f),t,f,i,a));else if("*"===f)this._walk(f,l,t,n,r,o,i,function(e,t,n,r,o,i,a,u){h(c._trace(D(e,n),r,o,i,a,u,!0,!0))});else if(".."===f)h(this._trace(l,t,n,r,o,i,a)),this._walk(f,l,t,n,r,o,i,function(e,t,n,r,o,i,a,u){"object"===O(r[e])&&h(c._trace(D(t,n),r[e],C(o,e),r,e,u,!0))});else{if("^"===f)return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:l,isParentSelector:!0};if("~"===f)return y={path:C(n,f),value:o,parent:r,parentProperty:null},this._handleCallback(y,i,"property"),y;if("$"===f)h(this._trace(l,t,n,null,null,i,a));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(f))h(this._slice(f,l,t,n,r,o,i));else if(0===f.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(f,l,t,n,r,o,i,function(e,t,n,r,o,i,a,u){c._eval(t.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),r[e],e,o,i,a)&&h(c._trace(D(e,n),r,o,i,a,u,!0))})}else if("("===f[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");h(this._trace(D(this._eval(f,t,n[n.length-1],n.slice(0,-1),r,o),l),t,n,r,o,i,a))}else if("@"===f[0]){var d=!1,v=f.slice(1,-2);switch(v){case"scalar":t&&["object","function"].includes(O(t))||(d=!0);break;case"boolean":case"string":case"undefined":case"function":O(t)===v&&(d=!0);break;case"integer":!Number.isFinite(t)||t%1||(d=!0);break;case"number":Number.isFinite(t)&&(d=!0);break;case"nonFinite":"number"!=typeof t||Number.isFinite(t)||(d=!0);break;case"object":t&&O(t)===v&&(d=!0);break;case"array":Array.isArray(t)&&(d=!0);break;case"other":d=this.currOtherTypeCallback(t,n,r,o);break;case"null":null===t&&(d=!0);break;default:throw new TypeError("Unknown value type "+v)}if(d)return this._handleCallback(y={path:n,value:t,parent:r,parentProperty:o},i,"value"),y}else if("`"===f[0]&&t&&j.call(t,f.slice(1))){var y=f.slice(1);h(this._trace(l,t[y],C(n,y),t,y,i,a,!0))}else if(f.includes(",")){var g,m=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(f.split(","));try{for(m.s();!(g=m.n()).done;){var b=g.value;h(this._trace(D(b,l),t,n,r,o,i,!0))}}catch(e){m.e(e)}finally{m.f()}}else!u&&t&&j.call(t,f)&&h(this._trace(l,t[f],C(n,f),t,f,i,a,!0))}if(this._hasParentSelector)for(var k=0;k<p.length;k++){var w=p[k];if(w&&w.isParentSelector){var E=this._trace(w.expr,t,w.path,r,o,i,a);if(Array.isArray(E)){p[k]=E[0];for(var T=E.length,S=1;S<T;S++)k++,p.splice(k,0,E[S])}else p[k]=E}}return p},M.prototype._walk=function(e,t,n,r,o,i,a,u){if(Array.isArray(n))for(var s=n.length,c=0;c<s;c++)u(c,e,t,n,r,o,i,a);else n&&"object"===O(n)&&Object.keys(n).forEach(function(s){u(s,e,t,n,r,o,i,a)})},M.prototype._slice=function(f,t,n,r,o,i,a){if(Array.isArray(n)){for(var u=n.length,s=f.split(":"),c=s[2]&&Number.parseInt(s[2])||1,f=s[0]&&Number.parseInt(s[0])||0,l=s[1]&&Number.parseInt(s[1])||u,f=f<0?Math.max(0,f+u):Math.min(u,f),l=l<0?Math.max(0,l+u):Math.min(u,l),p=[],h=f;h<l;h+=c)this._trace(D(h,t),n,r,o,i,a,!0).forEach(function(e){p.push(e)});return p}},M.prototype._eval=function(e,t,n,r,o,i){e.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=i,e=e.replace(/@parentProperty/g,"_$_parentProperty")),e.includes("@parent")&&(this.currSandbox._$_parent=o,e=e.replace(/@parent/g,"_$_parent")),e.includes("@property")&&(this.currSandbox._$_property=n,e=e.replace(/@property/g,"_$_property")),e.includes("@path")&&(this.currSandbox._$_path=M.toPathString(r.concat([n])),e=e.replace(/@path/g,"_$_path")),e.includes("@root")&&(this.currSandbox._$_root=this.json,e=e.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(e)&&(this.currSandbox._$_v=t,e=e.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(e,this.currSandbox)}catch(t){throw console.log(t),new Error("jsonPath: "+t.message+": "+e)}},M.cache={},M.toPathString=function(e){for(var t=e,n=t.length,r="$",o=1;o<n;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(r+=/^[\*0-9]+$/.test(t[o])?"["+t[o]+"]":"['"+t[o]+"']");return r},M.toPointer=function(e){for(var t=e,n=t.length,r="",o=1;o<n;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(t[o])||(r+="/"+t[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r},M.toPathArray=function(e){var t=M.cache;if(t[e])return t[e].concat();var n=[],r=e.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(e,t){return"[#"+(n.push(t)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(e,t){return"['"+t.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(e,t){return";"+t.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(e){var t=e.match(/#([0-9]+)/);return t&&t[1]?n[t[1]]:e});return t[e]=r,t[e].concat()},M.prototype.vm={runInNewContext:function(u,t){var n=Object.keys(t),a=[];!function(e,n){for(var a,o=e.length,i=0;i<o;i++)a=e[i],"function"==typeof t[a]&&n.push(e.splice(i--,1)[0])}(n,a);var o=n.map(function(e,n){return t[e]}),a=a.reduce(function(e,n){var r=t[n].toString();return"var "+n+"="+(r=!/function/.test(r)?"function "+r:r)+";"+e},""),a=(u=(u=!/(["'])use strict\1/.test(u=a+u)&&!n.includes("arguments")?"var arguments = undefined;"+u:u).replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),u=-1<a?u.slice(0,a+1)+" return "+u.slice(a+1):" return "+u;return _(Function,R(n).concat([u])).apply(void 0,R(o))}};var N=["value","type"];function U(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function H(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r={},o={};return Object.keys(t).filter(function(e){return!F[e]}).forEach(function(i){var u,c,p;"object"===(0,l.Z)(t[i])&&t[i]?t[i].rel?r[t[i].name]=w(e,t[i],n):(u=(p=t[i]).value,c=p.type,p=(0,f.Z)(p,N),o[i]=L({type:c},p),"object"===c?(o[i].value={},Object.entries(u).forEach(function(u){var c=(0,s.Z)(u,2),u=c[0],c=c[1];c.rel?r["".concat(i,"-").concat(u.name||u)]=w(e,c,n):o[i].value[u]=c})):o[i].value=u):o[i]=t[i]}),{context:o,actions:r}}function K(t,n){Object.keys(n).forEach(function(r){if("relatesTo"===r){var i=Array.isArray(n[r])?n[r][0]:n[r];if("string"==typeof i){i=M({path:i,json:t})[0];if(i)return void(n[r]=i)}}Array.isArray(n[r])&&n[r].forEach(function(n){return K(t,n)})})}var F=Object.fromEntries(["remediation","context"].map(function(e){return[e,!0]})),V={makeIdxState:function(d,v,n,r){var s,c,f,a=v,y=function(e,t,a){var r=2<arguments.length&&void 0!==a?a:{},a=(null===(i=t.remediation)||void 0===i?void 0:i.value)||[];a.forEach(function(e){return K(t,e)});var i=a.map(function(t){return function(e,t,o){if(t.rel){o=function(e,t,argument_2){var n=2<arguments.length&&void 0!==argument_2?argument_2:{};return Object.fromEntries(t.map(function(t){return[t.name,w(e,t,n)]}))}(e,[t],o)[t.name];return L(L({},t),{},{action:o})}return t}(e,t,r)}),a=H(e,t,r);return{remediations:i,context:a.context,actions:a.actions}}(d,v,n),h=y.remediations,d=y.context,v=y.actions,y=(0,i.Z)(h);return{proceed:(f=(0,o.Z)(u().mark(function e(t){var n,r,o=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<o.length&&void 0!==o[1]?o[1]:{},r=h.find(function(e){return e.name===t})){e.next=4;break}return e.abrupt("return",Promise.reject("Unknown remediation choice: [".concat(t,"]")));case 4:if("function"!=typeof r.action)return e.abrupt("return",Promise.reject("Current remediation cannot make form submit action: [".concat(t,"]")));e.next=7;break;case 7:return e.abrupt("return",r.action(n));case 8:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)}),neededToProceed:y,actions:v,context:d,rawIdxState:a,interactionCode:null===(a=a.successWithInteractionCode)||void 0===a||null===(s=a.value)||void 0===s||null===(c=s.find(function(e){return"interaction_code"===e.name}))||void 0===c?void 0:c.value,toPersist:n,requestDidSucceed:r}}},G=function(e){switch(e){case"1.0.0":return V;case void 0:case null:throw new Error("Api version is required");default:throw new Error("Unknown api version: ".concat(e,".  Use an exact semver version."))}};function q(e){if(!e)throw new Error("version is required");if((null!=e?e:"").replace(/[^0-9a-zA-Z._-]/,"")!==e||!e)throw new Error("invalid version supplied - version is required and uses semver syntax");G(e)}function Y(e,t,n,o){var a=null!==(a=null==t?void 0:t.version)&&void 0!==a?a:r.IDX_API_VERSION;return q(a),(0,G(a).makeIdxState)(e,t,n,o)}},4516:function(e,nn,n){n.d(nn,{YR:function(){return $t},Ch:function(){return hn},al:function(){return en},Jm:function(){return c.Jm},Xc:function(){return c.Xc},uN:function(){return c.uN},Co:function(){return c.Co},Jn:function(){return cn},Xx:function(){return xn},$0:function(){return c.$0},EW:function(){return y},L8:function(){return O},GA:function(){return un},gc:function(){return an},Wf:function(){return c.Wf},bl:function(){return c.bl},UC:function(){return c.UC},mo:function(){return sn},$l:function(){return yn},xc:function(){return dn},M4:function(){return Pn},z2:function(){return Tn},r0:function(){return c.r0},Yr:function(){return kn},le:function(){return Dn}});var r={};n.r(r),n.d(r,{AuthenticatorEnrollmentData:function(){return Qe},AuthenticatorVerificationData:function(){return We},ChallengeAuthenticator:function(){return ke},ChallengePoll:function(){return we},EnrollAuthenticator:function(){return fe},EnrollPoll:function(){return he},EnrollProfile:function(){return Se},EnrollmentChannelData:function(){return be},GenericRemediator:function(){return rt},Identify:function(){return Pe},ReEnrollAuthenticator:function(){return Ze},RedirectIdp:function(){return je},Remediator:function(){return H},ResetAuthenticator:function(){return Oe},SelectAuthenticatorAuthenticate:function(){return Ne},SelectAuthenticatorEnroll:function(){return Ue},SelectAuthenticatorUnlockAccount:function(){return He},SelectEnrollProfile:function(){return Ke},SelectEnrollmentChannel:function(){return ye},Skip:function(){return Xe}});var o=n(4942),i=n(5861),nn=n(7757),u=n.n(nn),s=n(2852),c=n(2620),f=n(1279),l=n(3193),p=n(7735);function h(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){return{meta:e,interactionHandle:e.interactionHandle,state:e.state}}function y(e){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)(u().mark(function e(t){var r,o,i,h,y,g,m,b,k,w,O,E,_,P,Z,j=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=1<j.length&&void 0!==j[1]?j[1]:{},o=(0,l.YY)(o),i=(0,c.uN)(t,o),null!==(r=i)&&void 0!==r&&r.interactionHandle)return e.abrupt("return",v(i));e.next=5;break;case 5:return e.next=7,(0,c.Xc)(t,d(d({},i),o));case 7:return i=e.sent,_=(0,f.zf)(t),h=i.clientId,y=i.redirectUri,g=i.state,m=i.scopes,b=i.withCredentials,k=i.codeChallenge,w=i.codeChallengeMethod,O=i.activationToken,E=i.recoveryToken,P=i.maxAge,Z=o.clientSecret||t.options.clientSecret,b=null===(r=b)||void 0===r||r,_="".concat(_,"/v1/interact"),Z=d(d(d(d({client_id:h,scope:m.join(" "),redirect_uri:y,code_challenge:k,code_challenge_method:w,state:g},O&&{activation_token:O}),E&&{recovery_token:E}),Z&&{client_secret:Z}),P&&{max_age:P}),P={"Content-Type":"application/x-www-form-urlencoded"},e.next=17,(0,p.c3)(t,{method:"POST",url:_,headers:P,withCredentials:b,args:Z});case 17:return Z=e.sent,Z=Z.interaction_handle,Z=d(d({},i),{},{interactionHandle:Z,withCredentials:b,state:g,scopes:m,recoveryToken:E,activationToken:O}),(0,c.r0)(t,Z),e.abrupt("return",v(Z));case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}var m=n(5294),b=n(480),k=n(1971),w=n(7301);function O(e){return E.apply(this,arguments)}function E(){return(E=(0,i.Z)(u().mark(function e(t){var n,r,o,h,d,v,g,O,E=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<E.length&&void 0!==E[1]?E[1]:{},(d=t.transactionManager.loadIdxResponse(n))&&(r=d.rawIdxResponse,o=d.requestDidSucceed),r){e.next=27;break}return g=n.version||k.IDX_API_VERSION,v=(0,f.Xp)(t),O=n.interactionHandle,h=n.stateHandle,d=null===(d=n.withCredentials)||void 0===d||d,e.prev=8,o=!0,(0,m.A0)(g),v="".concat(v,"/idp/idx/introspect"),O=h?{stateToken:h}:{interactionHandle:O},g={"Content-Type":"application/ion+json; okta-version=".concat(g),Accept:"application/ion+json; okta-version=".concat(g)},e.next=16,(0,p.c3)(t,{method:"POST",url:v,headers:g,withCredentials:d,args:O});case 16:r=e.sent,e.next=27;break;case 19:if(e.prev=19,e.t0=e.catch(8),!((0,w.Tw)(e.t0)&&e.t0.xhr&&(0,b.P)(e.t0.xhr.responseJSON))){e.next=26;break}r=e.t0.xhr.responseJSON,o=!1,e.next=27;break;case 26:throw e.t0;case 27:return O=n.withCredentials,e.abrupt("return",(0,m._T)(t,r,{withCredentials:O},o));case 29:case"end":return e.stop()}},e,null,[[8,19]])}))).apply(this,arguments)}var T=n(1002),S=n(2982),_=n(4925),A=n(885),P=n(8750),R=n(146),x=n(5671),Z=n(3144);function j(e){return e.charAt(0).toUpperCase()+e.substring(1)}function C(e){return e.value.find(function(e){return"authenticator"===e.name})}var D=n(1384);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t;if((0,D.H)(e))t=e;else{if("string"!=typeof e)throw new Error("Invalid format for authenticator");t={key:e}}return t}function N(e,t){return!!(e&&t&&(e.id&&t.id?e.id===t.id:e.key&&t.key&&e.key===t.key))}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var H=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(0,x.Z)(this,e),(0,o.Z)(this,"remediation",void 0),(0,o.Z)(this,"values",void 0),(0,o.Z)(this,"options",void 0),(0,o.Z)(this,"map",void 0),this.values=F({},n),this.options=F({},r),this.formatAuthenticators(),this.remediation=t}return(0,Z.Z)(e,[{key:"formatAuthenticators",value:function(){var e;this.values.authenticators=this.values.authenticators||[],this.values.authenticators=this.values.authenticators.map(M),this.values.authenticator&&(e=M(this.values.authenticator),this.values.authenticators.some(function(t){return N(e,t)})||this.values.authenticators.push(e)),this.values.authenticatorsData=this.values.authenticators.reduce(function(e,t){return"object"===(0,T.Z)(t)&&1<Object.keys(t).length&&e.push(t),e},this.values.authenticatorsData||[])}},{key:"getName",value:function(){return this.remediation.name}},{key:"canRemediate",value:function(){var t,n=this;return!(null===(t=this.remediation.value)||void 0===t?void 0:t.reduce(function(e,t){return t.required&&e.push(t.name),e},[])).find(function(e){return!n.hasData(e)})}},{key:"getData",value:function(e){var r=this;if(!e)return(null===(i=this.remediation.value)||void 0===i?void 0:i.map(function(e){return e.name})).reduce(function(e,t){return e[t]=r.getData(t),e},{});if("function"==typeof this["map".concat(j(e))]){var i=this["map".concat(j(e))](this.remediation.value.find(function(t){return t.name===e}));if(i)return i}if(this.map&&this.map[e])for(var a=this.map[e],u=0;u<a.length;u++){var s=this.values[a[u]];if(s)return s}return this.values[e]}},{key:"hasData",value:function(e){return!!this.getData(e)}},{key:"getNextStep",value:function(e,t){var n=this.getName(),r=this.getInputs(),o=this.getAuthenticator(),i=null==o?void 0:o.type;return F(F({name:n,inputs:r},i&&{type:i}),o&&{authenticator:o})}},{key:"getInputs",value:function(){var e=this,t=[];return(this.remediation.value||[]).forEach(function(n){var r,s=n.name,i=n.type,a=n.visible,u=n.messages;!1!==a&&("function"==typeof e["getInput".concat(j(s))]?r=e["getInput".concat(j(s))](n):"object"===i||(s=1===(s=(e.map?e.map[s]:null)||[]).length?s[0]:s.find(function(t){return Object.keys(e.values).includes(t)}))&&(r=F(F({},n),{},{name:s})),r=r||n,Array.isArray(r)?r.forEach(function(e){return t.push(e)}):(u&&(r.messages=u),t.push(r)))}),t}},{key:"getValuesAfterProceed",value:function(){var e,t=this.remediation.value||[],n=this.getInputs(),r=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}([].concat((0,S.Z)(t),(0,S.Z)(n)));try{for(r.s();!(e=r.n()).done;){var o=e.value;delete this.values[o.name]}}catch(e){r.e(e)}finally{r.f()}return this.values}},{key:"getAuthenticator",value:function(){var n=null===(o=this.remediation.relatesTo)||void 0===o?void 0:o.value;if(n){var i=C(this.remediation);if(!i)return n;var o=i.form.value.find(function(e){return"id"===e.name}).value,i=null===(i=i.form.value.find(function(e){return"enrollmentId"===e.name}))||void 0===i?void 0:i.value;return F(F({},n),{},{id:o,enrollmentId:i})}}}],[{key:"getMessages",value:function(t){var n;if(t.value)return null===(t=t.value[0])||void 0===t||null===(n=t.form)||void 0===n?void 0:n.value.reduce(function(e,t){return e=t.messages?[].concat((0,S.Z)(e),(0,S.Z)(t.messages.value)):e},[])}}]),e}();(0,o.Z)(H,"remediationName",void 0);var K=n(136),B=n(2963),V=n(1120),G=n(7326);function Y(){return(Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,o,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,V.Z)(e)););return e}(e,o);if(r){o=Object.getOwnPropertyDescriptor(r,o);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function W(t){(0,x.Z)(this,W),(0,o.Z)(this,"meta",void 0),this.meta=t}function z(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q=function(){(0,K.Z)(o,W);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){return!!(e.credentials||e.verificationCode||e.otp)}},{key:"mapCredentials",value:function(r){var t=r.credentials,n=r.verificationCode,r=r.otp;if(t||n||r)return t||{passcode:n||r}}},{key:"getInputs",value:function(e){var t;return $($({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{},{name:"verificationCode",type:"string",required:e.required})}}]),o}(),X=function(){(0,K.Z)(o,Q);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"mapCredentials",value:function(t){t=t.verificationCode;if(t)return{totp:t}}}]),o}();function J(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var te=function(){(0,K.Z)(o,W);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){return!!(e.credentials||e.password||e.passcode)}},{key:"mapCredentials",value:function(r){var t=r.credentials,n=r.password,r=r.passcode;if(t||n||r)return t||{passcode:r||n}}},{key:"getInputs",value:function(e){var t;return ee(ee({},null===(t=e.form)||void 0===t?void 0:t.value[0]),{},{name:"password",type:"string",required:e.required})}}]),o}(),ne=function(){(0,K.Z)(o,W);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(o){var r=o.credentials;if(r&&r.questionKey&&r.answer)return!0;var n=o.questionKey,r=o.question,o=o.answer;return!(!n||!o)||!(!r||!o)}},{key:"mapCredentials",value:function(r){var t=r.questionKey,n=r.question,r=r.answer;if(r&&(t||n))return{questionKey:n?"custom":t,question:n,answer:r}}},{key:"getInputs",value:function(){return[{name:"questionKey",type:"string",required:!0},{name:"question",type:"string",label:"Create a security question"},{name:"answer",type:"string",label:"Answer",required:!0}]}}]),o}(),re=function(){(0,K.Z)(o,W);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(e){var t=e.credentials;return!(!t||!t.answer)||!!e.answer}},{key:"mapCredentials",value:function(t){t=t.answer;if(t)return{questionKey:this.meta.contextualData.enrolledQuestion.questionKey,answer:t}}},{key:"getInputs",value:function(){return[{name:"answer",type:"string",label:"Answer",required:!0}]}}]),o}(),oe=function(){(0,K.Z)(o,W);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(n){var r=n.credentials||n,n=r.clientData,r=r.attestation;return!(!n||!r)}},{key:"mapCredentials",value:function(r){var t=r.credentials,n=r.clientData,r=r.attestation;if(t||n||r)return t||{clientData:n,attestation:r}}},{key:"getInputs",value:function(){return[{name:"clientData",type:"string",required:!0,visible:!1,label:"Client Data"},{name:"attestation",type:"string",required:!0,visible:!1,label:"Attestation"}]}}]),o}(),ie=function(){(0,K.Z)(o,W);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canVerify",value:function(r){var o=r.credentials||r,n=o.clientData,r=o.authenticatorData,o=o.signatureData;return!!(n&&r&&o)}},{key:"mapCredentials",value:function(o){var t=o.credentials,n=o.authenticatorData,r=o.clientData,o=o.signatureData;if(t||n||r||o)return t||{authenticatorData:n,clientData:r,signatureData:o}}},{key:"getInputs",value:function(){return[{name:"authenticatorData",type:"string",label:"Authenticator Data",required:!0,visible:!1},{name:"clientData",type:"string",label:"Client Data",required:!0,visible:!1},{name:"signatureData",type:"string",label:"Signature Data",required:!0,visible:!1}]}}]),o}();function ue(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ce=function(){(0,K.Z)(i,H);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,x.Z)(this,i),t=r.call(this,e,t),(0,o.Z)((0,G.Z)(t),"authenticator",void 0),t.authenticator=function(r){var n,o=(null==(r=r.relatesTo)?void 0:r.value)||{};switch(o.key){case D.pc.OKTA_PASSWORD:return new te(o);case D.pc.SECURITY_QUESTION:return new(null!==(n=o.contextualData)&&void 0!==n&&n.enrolledQuestion?re:ne)(o);case D.pc.OKTA_VERIFY:return new X(o);case D.pc.WEBAUTHN:return new(null!==(n=o.contextualData)&&void 0!==n&&n.challengeData?ie:oe)(o);default:return new Q(o)}}(e),t}return(0,Z.Z)(i,[{key:"getNextStep",value:function(r,t){var r=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,r,t),o=null==t||null===(o=t.authenticatorEnrollments)||void 0===o?void 0:o.value;return se(se({},r),{},{authenticatorEnrollments:o})}},{key:"canRemediate",value:function(){return this.authenticator.canVerify(this.values)}},{key:"mapCredentials",value:function(){return this.authenticator.mapCredentials(this.values)}},{key:"getInputCredentials",value:function(e){return this.authenticator.getInputs(e)}},{key:"getValuesAfterProceed",value:function(){var e=this;return this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this),Object.keys(this.values).filter(function(e){return"credentials"!==e}).reduce(function(t,n){return se(se({},t),{},(0,o.Z)({},n,e.values[n]))},{})}}]),i}(),fe=function(){(0,K.Z)(o,ce);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return o}();function le(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(fe,"remediationName","enroll-authenticator");var he=function(){(0,K.Z)(i,H);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(){return(0,x.Z)(this,i),r.apply(this,arguments)}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){return!!this.values.startPolling||"enroll-poll"===this.options.step}},{key:"getNextStep",value:function(r,t){var n=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,r,t),r=this.getAuthenticator();return!r&&null!=t&&t.currentAuthenticator&&(r=t.currentAuthenticator.value),pe(pe({},n),{},{authenticator:r,poll:{required:!0,refresh:this.remediation.refresh}})}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter(function(e){return"startPolling"!==e}).reduce(function(t,n){return pe(pe({},t),{},(0,o.Z)({},n,e.values[n]))},{})}}]),i}();function de(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(he,"remediationName","enroll-poll");var ye=function(){(0,K.Z)(i,H);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(){return(0,x.Z)(this,i),r.apply(this,arguments)}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){if(this.values.channel)return!0;if(this.values.authenticator){var n=this.values.authenticator,t=n.id,n=n.channel;if(t&&n)return!0}return!1}},{key:"getNextStep",value:function(r,o){var n=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,r,o),r=this.getChannels(),o=o.currentAuthenticator.value;return ve(ve(ve({},n),r&&{options:r}),{},{authenticator:o})}},{key:"getChannels",value:function(){var e;return null===(e=C(this.remediation).value.form.value.find(function(e){return"channel"===e.name}))||void 0===e?void 0:e.options}},{key:"getData",value:function(){var e;return{authenticator:{id:this.remediation.value[0].value.form.value[0].value,channel:(null===(e=this.values.authenticator)||void 0===e?void 0:e.channel)||this.values.channel},stateHandle:this.values.stateHandle}}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this),delete this.values.authenticators;var t=this.values.channel?"channel":"authenticator";return Object.keys(this.values).filter(function(e){return e!==t}).reduce(function(t,n){return ve(ve({},t),{},(0,o.Z)({},n,e.values[n]))},{})}}]),i}();function ge(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(ye,"remediationName","select-enrollment-channel");var be=function(){(0,K.Z)(i,H);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(){return(0,x.Z)(this,i),r.apply(this,arguments)}return(0,Z.Z)(i,[{key:"getInputEmail",value:function(){return[{name:"email",type:"string",required:!0,label:"Email"}]}},{key:"getInputPhoneNumber",value:function(){return[{name:"phoneNumber",type:"string",required:!0,label:"Phone Number"}]}},{key:"canRemediate",value:function(){return Boolean(this.values.email||this.values.phoneNumber)}},{key:"getNextStep",value:function(n,r){n=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,n,r),r=r.currentAuthenticator.value;return me(me({},n),{},{authenticator:r})}},{key:"getData",value:function(){return{stateHandle:this.values.stateHandle,email:this.values.email,phoneNumber:this.values.phoneNumber}}},{key:"getValuesAfterProceed",value:function(){var e=this;return Object.keys(this.values).filter(function(e){return!["email","phoneNumber"].includes(e)}).reduce(function(t,n){return me(me({},t),{},(0,o.Z)({},n,e.values[n]))},{})}}]),i}();(0,o.Z)(be,"remediationName","enrollment-channel-data");var ke=function(){(0,K.Z)(o,ce);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return o}();(0,o.Z)(ke,"remediationName","challenge-authenticator");var we=function(){(0,K.Z)(o,he);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!!this.values.startPolling||"challenge-poll"===this.options.step}}]),o}();(0,o.Z)(we,"remediationName","challenge-poll");var Oe=function(){(0,K.Z)(o,ce);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return o}();function Ee(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(Oe,"remediationName","reset-authenticator");var Se=function(){(0,K.Z)(i,H);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return(0,x.Z)(this,i),t=r.call(this,e,n,t),(0,o.Z)((0,G.Z)(t),"authenticator",null),t.getCredentialsFromRemediation()&&(t.authenticator=t.authenticator=new te({})),t}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){if(this.authenticator&&!this.authenticator.canVerify(this.values))return!1;var e=this.getData().userProfile;return!!e&&this.remediation.value.find(function(e){return"userProfile"===e.name}).form.value.reduce(function(t,n){return t=n.required?t&&!!e[n.name]:t},!0)}},{key:"getCredentialsFromRemediation",value:function(){return this.remediation.value.find(function(e){return"credentials"===e.name})}},{key:"mapUserProfile",value:function(n){var t=this,n=n.form.value.map(function(e){return e.name}).reduce(function(e,n){return t.values[n]?Te(Te({},e),{},(0,o.Z)({},n,t.values[n])):e},{});if(0!==Object.keys(n).length)return n}},{key:"mapCredentials",value:function(){var e=this.authenticator&&this.authenticator.mapCredentials(this.values);if(e)return e}},{key:"getInputUserProfile",value:function(e){return(0,S.Z)(e.form.value)}},{key:"getInputCredentials",value:function(e){return(0,S.Z)(e.form.value)}},{key:"getErrorMessages",value:function(e){return e.value[0].form.value.reduce(function(e,t){return t.messages&&e.push(t.messages.value[0].message),e},[])}}]),i}();function _e(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(Se,"remediationName","enroll-profile");var Pe=function(){(0,K.Z)(i,H);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(){var e;(0,x.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,G.Z)(e),"map",{identifier:["username"]}),e}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){return!!this.getData().identifier}},{key:"mapCredentials",value:function(){var n=this.values,t=n.credentials,n=n.password;if(t||n)return t||{passcode:n}}},{key:"getInputCredentials",value:function(e){return Ae(Ae({},e.form.value[0]),{},{name:"password",required:e.required})}}]),i}();function Re(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(Pe,"remediationName","identify");var Ze=function(){(0,K.Z)(o,H);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"mapCredentials",value:function(){var e=this.values.newPassword;if(e)return{passcode:e}}},{key:"getInputCredentials",value:function(e){var t="password"===this.getAuthenticator().type?"newPassword":"verificationCode";return xe(xe({},e.form.value[0]),{},{name:t})}}]),o}();(0,o.Z)(Ze,"remediationName","reenroll-authenticator");var je=function(){(0,K.Z)(o,H);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!1}},{key:"getNextStep",value:function(){var e=this.remediation;return{name:e.name,type:e.type,idp:e.idp,href:e.href}}}]),o}();function Ce(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}(0,o.Z)(je,"remediationName","redirect-idp");var Me=function(){(0,K.Z)(i,H);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(){var e;(0,x.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,G.Z)(e),"selectedAuthenticator",void 0),(0,o.Z)((0,G.Z)(e),"selectedOption",void 0),e}return(0,Z.Z)(i,[{key:"findMatchedOption",value:function(e,t){var n,r,o=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(o.s();!(r=o.n()).done&&"break"!==function(){var e=r.value;if(n=t.find(function(t){return t.relatesTo.key===e.key}))return"break"}(););}catch(e){o.e(e)}finally{o.f()}return n}},{key:"canRemediate",value:function(){var r=this.values,t=r.authenticators,n=r.authenticator,r=C(this.remediation).options;return!!(t&&t.length&&((0,D.H)(n)&&n.id||this.findMatchedOption(t,r)))}},{key:"getNextStep",value:function(n){var t=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,n),n=C(this.remediation).options.map(function(e){return{label:e.label,value:e.relatesTo.key}});return De(De({},t),{},{options:n})}},{key:"mapAuthenticator",value:function(o){var r=this.values,n=r.authenticators,r=r.authenticator;if((0,D.H)(r)&&r.id)return this.selectedAuthenticator=r;o=function(e,t){var n,r,o=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(o.s();!(r=o.n()).done&&"break"!==function(){var e=r.value;if(n=t.find(function(t){return t.relatesTo.key===e.key}))return"break"}(););}catch(e){o.e(e)}finally{o.f()}return n}(n,o.options);return this.selectedAuthenticator=o.relatesTo,{id:null==(this.selectedOption=o)?void 0:o.value.form.value.find(function(e){return"id"===e.name}).value}}},{key:"getInputAuthenticator",value:function(e){return{name:"authenticator",type:"string",options:e.options.map(function(e){return{label:e.label,value:e.relatesTo.key}})}}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this);var t=this.values.authenticators.filter(function(t){return!0!==N(t,e.selectedAuthenticator)});return De(De({},this.values),{},{authenticators:t})}}]),i}(),Ne=function(){(0,K.Z)(o,Me);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(0,x.Z)(this,o);u="recoverPassword"===(n=r.call(this,t,n,u)).options.flow;return(null===(t=C(t).options)||void 0===t?void 0:t.some(function(t){t=t.relatesTo;return(null==t?void 0:t.key)===D.pc.OKTA_PASSWORD}))&&(u||n.values.password)&&(n.values.authenticators=[].concat((0,S.Z)(n.values.authenticators||[]),[{key:D.pc.OKTA_PASSWORD}])),n}return o}();(0,o.Z)(Ne,"remediationName","select-authenticator-authenticate");var Ue=function(){(0,K.Z)(o,Me);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return o}();function Le(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(Ue,"remediationName","select-authenticator-enroll");var He=function(){(0,K.Z)(i,Me);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(){var e;(0,x.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,G.Z)(e),"authenticator",void 0),(0,o.Z)((0,G.Z)(e),"map",{identifier:["username"]}),e}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){return!!this.getData("identifier")&&Y((0,V.Z)(i.prototype),"canRemediate",this).call(this)}},{key:"mapAuthenticator",value:function(a){var n,o=Y((0,V.Z)(i.prototype),"mapAuthenticator",this).call(this,a),a=null===(a=this.selectedOption)||void 0===a?void 0:a.value.form.value.find(function(e){return"methodType"===e.name}),u=this.values.methodType||(null==a?void 0:a.value)||(null==a||null===(n=a.options)||void 0===n||null===(u=n[0])||void 0===u?void 0:u.value);return u?Fe(Fe({},o),{},{methodType:u}):o}},{key:"getInputUsername",value:function(){return{name:"username",type:"string"}}}]),i}();(0,o.Z)(He,"remediationName","select-authenticator-unlock-account");var Ke=function(){(0,K.Z)(o,H);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!0}}]),o}();function Be(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(Ke,"remediationName","select-enroll-profile");var Ge=function(){(0,K.Z)(i,H);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(0,x.Z)(this,i),t=r.call(this,e,t),(0,o.Z)((0,G.Z)(t),"authenticator",void 0),t.authenticator=t.getAuthenticator(),t.formatAuthenticatorData(),t}return(0,Z.Z)(i,[{key:"formatAuthenticatorData",value:function(){var t,e=this;this.getAuthenticatorData()?this.values.authenticatorsData=this.values.authenticatorsData.map(function(t){return N(e.authenticator,t)?e.mapAuthenticatorDataFromValues(t):t}):(t=this.mapAuthenticatorDataFromValues())&&this.values.authenticatorsData.push(t)}},{key:"getAuthenticatorData",value:function(){var e=this;return this.values.authenticatorsData.find(function(t){return N(e.authenticator,t)})}},{key:"canRemediate",value:function(){var e=this;return this.values.authenticatorsData.some(function(t){return N(e.authenticator,t)})}},{key:"getNextStep",value:function(n){var t=Y((0,V.Z)(i.prototype),"getNextStep",this).call(this,n),n=this.getMethodTypes();return Ve(Ve({},t),n&&{options:n})}},{key:"mapAuthenticatorDataFromValues",value:function(e){var o=this.values,i=o.methodType,o=o.authenticator;!i&&(0,D.H)(o)&&(i=null==o?void 0:o.methodType);o=this.authenticator,i=Ve(Ve({id:o.id,enrollmentId:o.enrollmentId},e&&e),i&&{methodType:i});return i.methodType?i:null}},{key:"getAuthenticatorFromRemediation",value:function(){return this.remediation.value.find(function(e){return"authenticator"===e.name})}},{key:"getMethodTypes",value:function(){var e;return null===(e=this.getAuthenticatorFromRemediation().form.value.find(function(e){return"methodType"===e.name}))||void 0===e?void 0:e.options}},{key:"getValuesAfterProceed",value:function(){var e=this;this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this);var t=this.values.authenticatorsData.filter(function(t){return!0!==N(e.authenticator,t)});return Ve(Ve({},this.values),{},{authenticatorsData:t})}}]),i}();function qe(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var We=function(){(0,K.Z)(i,Ge);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return(0,x.Z)(this,i),t=r.call(this,e,t),(0,o.Z)((0,G.Z)(t),"shouldProceedWithEmailAuthenticator",void 0),t.shouldProceedWithEmailAuthenticator=!1!==a.shouldProceedWithEmailAuthenticator&&1===t.authenticator.methods.length&&"email"===t.authenticator.methods[0].type,t}return(0,Z.Z)(i,[{key:"canRemediate",value:function(){return!1!==this.shouldProceedWithEmailAuthenticator||Y((0,V.Z)(i.prototype),"canRemediate",this).call(this)}},{key:"mapAuthenticator",value:function(){var e;return!1!==this.shouldProceedWithEmailAuthenticator?null===(e=this.getAuthenticatorFromRemediation().form)||void 0===e?void 0:e.value.reduce(function(e,t){if(t.value)e[t.name]=t.value;else{if(!t.options)throw new w.R("Unsupported authenticator data type: ".concat(t));e[t.name]=t.options[0].value}return e},{}):this.getAuthenticatorData()}},{key:"getInputAuthenticator",value:function(){var e=this.getAuthenticatorFromRemediation(),t=e.form.value.find(function(e){return"methodType"===e.name});return t&&t.options?{name:"methodType",type:"string",required:!0,options:t.options}:(0,S.Z)(e.form.value)}},{key:"getValuesAfterProceed",value:function(){var e=this;return this.values=Y((0,V.Z)(i.prototype),"getValuesAfterProceed",this).call(this),Object.keys(this.values).filter(function(e){return"authenticator"!==e}).reduce(function(t,n){return Ye(Ye({},t),{},(0,o.Z)({},n,e.values[n]))},{})}}]),i}();function ze(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,o.Z)(We,"remediationName","authenticator-verification-data");var Qe=function(){(0,K.Z)(o,Ge);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"mapAuthenticator",value:function(){var e=this.getAuthenticatorData();return{id:C(this.remediation).form.value.find(function(e){return"id"===e.name}).value,methodType:e.methodType,phoneNumber:e.phoneNumber}}},{key:"getInputAuthenticator",value:function(e){return[{name:"methodType",type:"string"},{name:"phoneNumber",label:"Phone Number",type:"string"}].map(function(t){return $e($e({},e.form.value.find(function(e){return e.name===t.name})),t)})}},{key:"mapAuthenticatorDataFromValues",value:function(e){e=Y((0,V.Z)(o.prototype),"mapAuthenticatorDataFromValues",this).call(this,e);var t=this.values.phoneNumber;if(e||t)return $e($e({},e&&e),t&&{phoneNumber:t})}}]),o}();(0,o.Z)(Qe,"remediationName","authenticator-enrollment-data");var Xe=function(){(0,K.Z)(o,H);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!!this.values.skip||"skip"===this.options.step}}]),o}();function Je(e){if(Array.isArray(e))return e.map(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:Je(e)});for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var s=(0,A.Z)(r[n],2),i=s[0],a=s[1];null!=a&&("object"===(0,T.Z)(a)?(s=Object.keys(a),["value","form"].includes(i)&&1===s.length&&["value","form"].includes(s[0])?(s=Je(a),Object.entries(s).forEach(function(r){var o=(0,A.Z)(r,2),r=o[0],o=o[1];t[r]=o})):t[i]=Je(a)):t[i]=a)}return t}(0,o.Z)(Xe,"remediationName","skip");var et=["href","method","rel","accepts","produces","value","action"];function tt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rt=function(){(0,K.Z)(o,H);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function o(){return(0,x.Z)(this,o),r.apply(this,arguments)}return(0,Z.Z)(o,[{key:"canRemediate",value:function(){return!("function"!=typeof this.remediation.action||"poll"!==this.remediation.name&&!this.remediation.name.endsWith("-poll")&&!this.options.step)}},{key:"getData",value:function(){var e=this;return this.getInputs().reduce(function(t,r){r=r.name;return t[r]=e.values[r],t},{})}},{key:"getNextStep",value:function(e,t){var n,r=this.getName(),o=this.getInputs(),c=this.remediation,s=(c.href,c.method,c.rel,c.accepts,c.produces,c.value,c.action),c=(0,_.Z)(c,et);return s?nt(nt(nt({},c),!!o.length&&{inputs:o}),{},{action:(n=(0,i.Z)(u().mark(function t(n){return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.idx.proceed(nt({step:r},n)));case 1:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)})}):nt({},this.remediation)}},{key:"getInputs",value:function(){return(this.remediation.value||[]).filter(function(e){return"stateHandle"!==e.name}).map(Je).map(function(e){return e.type=e.type||"string",e})}}]),o}(),ot=["href","method","rel","accepts","produces"];function it(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ut(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(n){var t=n.neededToProceed,n=n.interactionCode;return!t.length&&!n}function lt(e,t){var r=[],a=e.rawIdxState,i=e.neededToProceed,a=null===(a=a.messages)||void 0===a?void 0:a.value.map(function(e){return e});if(a&&(r=[].concat((0,S.Z)(r),(0,S.Z)(a))),!t.useGenericRemediator){var u,s=ut(i);try{for(s.s();!(u=s.n()).done;){var c=function ft(e){if(e&&Array.isArray(e))return e.reduce(function(e,o){var n,r;return o.messages&&(e=[].concat((0,S.Z)(e),(0,S.Z)(o.messages.value))),o.form&&(n=ft(o.form.value)||[],e=[].concat((0,S.Z)(e),(0,S.Z)(n))),o.options&&(r=[],o.options.forEach(function(e){e.value&&"string"!=typeof e.value&&(r=[].concat((0,S.Z)(r),[e.value]))}),o=ft(r)||[],e=[].concat((0,S.Z)(e),(0,S.Z)(o))),e},[])}(u.value.value);c&&(r=[].concat((0,S.Z)(r),(0,S.Z)(c)))}}catch(e){s.e(e)}finally{s.f()}}var f={};return r.reduce(function(e,t){var r=null===(r=t.i18n)||void 0===r?void 0:r.key;return r&&f[r]?e:(f[r]=t,[].concat((0,S.Z)(e),[t]))},[])}function ht(e,t,n){var o,a=[],s=Object.values(r).reduce(function(e,t){return t.remediationName&&(e[t.remediationName]=t),e},{}),c=ut(t.neededToProceed);try{for(c.s();!(o=c.n()).done;){var p,f=o.value,l=vt(f,{useGenericRemediator:n,remediators:s});l&&(p=new l(f),a.push(p.getNextStep(e,t.context)))}}catch(e){c.e(e)}finally{c.f()}for(var d=0,v=Object.entries(t.actions||{});d<v.length;d++)!function(){var n,y,g,r=(0,A.Z)(v[d],1)[0],o={name:r,action:(n=(0,i.Z)(u().mark(function t(n){return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.idx.proceed({actions:[{name:r,params:n}]}));case 1:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)})};r.startsWith("currentAuthenticator")&&(g=(0,P.YQ)(r,"-"),g=(y=(0,A.Z)(g,2))[0],y=y[1],(g=t.rawIdxState[g].value[y]).href,g.method,g.rel,g.accepts,g.produces,y=(0,_.Z)(g,ot),g=null===(g=g.value)||void 0===g?void 0:g.filter(function(e){return"stateHandle"!==e.name}),o=at(at(at({},y),g&&{value:g}),o)),a.push(o)}();return a}function vt(e,r){var n=r.useGenericRemediator,r=r.remediators;if(e)return n?rt:r[e.name]}function yt(e,t,n){var r,o=n.remediators,l=n.useGenericRemediator;if(!n.step){var a=[];if(l)a.push(new rt(e[0],t,n));else{var u,s=ut(e);try{for(s.s();!(u=s.n()).done;){var c=u.value;if(Object.keys(o).includes(c.name)){if((r=new(vt(c,n))(c,t,n)).canRemediate())return r;a.push(r)}}}catch(e){s.e(e)}finally{s.f()}}return a[0]}var f=e.find(function(e){return e.name===n.step});if(f){l=vt(f,n);return l?new l(f,t,n):void 0}(0,R.ZK)('step "'.concat(n.step,'" did not match any remediations'))}function gt(o,r,i){r=r.getNextStep(o,i.context),o=i.neededToProceed.some(function(e){return"skip"===e.name}),i=Object.keys(i.actions).some(function(e){return e.includes("resend")});return at(at(at({},r),o&&{canSkip:o}),i&&{canResend:i})}function mt(e,i,o){var u=2<arguments.length&&void 0!==o?o:{},r=(0,b.f)(i)?i:null;if(!r)throw i;o=ct(r=at(at({},r),{},{requestDidSucceed:!1})),i=lt(r,u);if(o)return{idxResponse:r,terminal:o,messages:i};u=yt(r.neededToProceed,{},u),u=u&&gt(e,u,r);return at({idxResponse:r,messages:i},u&&{nextStep:u})}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _t(){return At.apply(this,arguments)}function At(){return(At=(0,i.Z)(u().mark(function e(t,n,r,o){var a,c,f,p,h,d,v,y,m,k,_;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.neededToProceed,p=n.interactionCode,c=o.flow,p)return e.abrupt("return",{idxResponse:n});e.next=4;break;case 4:if(f=yt(a,r,o),h=function(e,t){return Object.keys(t.actions).find(function(t){return!!e.resend&&t.includes("-resend")})}(r,n),p=o.actions||[],!(h=[].concat((0,S.Z)(p),(0,S.Z)(h?[h]:[])))){e.next=28;break}d=function(e,o){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(h),e.prev=10,y=u().mark(function e(){var i,s,c,f;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.value,s={},"string"!=typeof i&&(s=i.params||{},i=i.name),c=function(e){return Ot(Ot({},e),{},{resend:void 0})}(r),f=function(e,t){var n=(n=e.actions||[]).filter(function(e){return"string"==typeof e?e!==t:e.name!==t});return Ot(Ot({},e),{},{actions:n})}(o,i),"function"==typeof n.actions[i])return e.prev=6,e.next=9,n.actions[i](s);e.next=19;break;case 9:n=Ot(Ot({},n=e.sent),{},{requestDidSucceed:!0}),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",{v:mt(t,e.t0,o)});case 16:if("cancel"===i)return e.abrupt("return",{v:{idxResponse:n,canceled:!0}});e.next=18;break;case 18:return e.abrupt("return",{v:_t(t,n,c,f)});case 19:if(a.find(function(e){return e.name===i}))return e.prev=21,e.next=24,n.proceed(i,s);e.next=32;break;case 24:n=Ot(Ot({},n=e.sent),{},{requestDidSucceed:!0}),e.next=31;break;case 28:return e.prev=28,e.t1=e.catch(21),e.abrupt("return",{v:mt(t,e.t1,o)});case 31:return e.abrupt("return",{v:_t(t,n,r,f)});case 32:case"end":return e.stop()}},e,null,[[6,13],[21,28]])}),d.s();case 13:if((v=d.n()).done){e.next=20;break}return e.delegateYield(y(),"t0",15);case 15:if(m=e.t0,"object"===(0,T.Z)(m))return e.abrupt("return",m.v);e.next=18;break;case 18:e.next=13;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(10),d.e(e.t1);case 25:return e.prev=25,d.f(),e.finish(25);case 28:if(m=ct(n))return e.abrupt("return",{idxResponse:n,terminal:m});e.next=31;break;case 31:if(f){e.next=48;break}if(o.step)return r=function(r,t,n){return(r=(r.neededToProceed||[]).find(function(e){return e.name===t}))?r.value.reduce(function(e,o){var r=o.name,o=o.value;return e[r]="stateHandle"===r?o:n[r],e},{}):((0,R.ZK)('filterValuesForRemediation: "'.concat(t,'" did not match any remediations')),n)}(n,o.step,r),e.prev=34,e.next=37,n.proceed(o.step,r);e.next=45;break;case 37:return n=Ot(Ot({},n=e.sent),{},{requestDidSucceed:!0}),e.abrupt("return",{idxResponse:n});case 42:return e.prev=42,e.t2=e.catch(34),e.abrupt("return",mt(t,e.t2,o));case 45:if("default"===c)return e.abrupt("return",{idxResponse:n});e.next=47;break;case 47:throw new w.R("\n      No remediation can match current flow, check policy settings in your org.\n      Remediations: [".concat(a.reduce(function(e,t){return e?e+" ,"+t.name:t.name},""),"]\n    "));case 48:if(f.canRemediate()){e.next=51;break}return k=gt(t,f,n),e.abrupt("return",{idxResponse:n,nextStep:k});case 51:return k=f.getName(),_=f.getData(),e.prev=53,e.next=56,n.proceed(k,_);case 56:if(n=Ot(Ot({},n=e.sent),{},{requestDidSucceed:!0}),r=f.getValuesAfterProceed(),!(o=Ot(Ot({},o),{},{step:void 0})).useGenericRemediator||n.interactionCode||ct(n)){e.next=64;break}return _=yt(n.neededToProceed,r,o),_=gt(t,_,n),e.abrupt("return",{idxResponse:n,nextStep:_});case 64:return e.abrupt("return",_t(t,n,r,o));case 67:return e.prev=67,e.t3=e.catch(53),e.abrupt("return",mt(t,e.t3,o));case 70:case"end":return e.stop()}},e,null,[[10,22,25,28],[34,42],[53,67]])}))).apply(this,arguments)}var Pt={identify:Pe,"select-authenticator-authenticate":Ne,"select-authenticator-enroll":Ue,"authenticator-enrollment-data":Qe,"authenticator-verification-data":We,"enroll-authenticator":fe,"challenge-authenticator":ke,"challenge-poll":we,"reenroll-authenticator":Ze,"enroll-poll":he,"select-enrollment-channel":ye,"enrollment-channel-data":be,"redirect-idp":je,skip:Xe},Rt={identify:Pe,"identify-recovery":Pe,"select-authenticator-authenticate":Ne,"select-authenticator-enroll":Ue,"challenge-authenticator":ke,"authenticator-verification-data":We,"authenticator-enrollment-data":Qe,"reset-authenticator":Oe,"reenroll-authenticator":Ze,"enroll-poll":he},xt={"select-enroll-profile":Ke,"enroll-profile":Se,"authenticator-enrollment-data":Qe,"select-authenticator-enroll":Ue,"enroll-poll":he,"select-enrollment-channel":ye,"enrollment-channel-data":be,"enroll-authenticator":fe,skip:Xe},Zt={identify:Pe,"select-authenticator-unlock-account":He,"select-authenticator-authenticate":Ne,"challenge-authenticator":ke,"challenge-poll":we,"authenticator-verification-data":We};function jt(e,r){var t,n,r=1<arguments.length&&void 0!==r?r:"default",o=!0;switch(r){case"register":case"signup":case"enrollProfile":t=xt,o=!1;break;case"recoverPassword":case"resetPassword":t=Rt,o=!(n=["currentAuthenticator-recover","currentAuthenticatorEnrollment-recover"]);break;case"unlockAccount":t=Zt,o=!1,n=["unlock-account"];break;default:t=Pt}return{flow:r,remediators:t,actions:n,withCredentials:o}}function Ct(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mt(f,t){var n=t.options,o=(n=Dt(Dt({},f.options.idx),n),n.flow),i=n.withCredentials,a=n.remediators,u=n.actions,c=s.IdxStatus.PENDING;return(o=o||f.idx.getFlow()||"default")&&(f.idx.setFlow(o),f=jt(f,o),i=void 0!==i?i:f.withCredentials,a=a||f.remediators,u=u||f.actions),Dt(Dt({},t),{},{options:Dt(Dt({},n),{},{flow:o,withCredentials:i,remediators:a,actions:u}),status:c})}function Ut(){return(Ut=(0,i.Z)(u().mark(function e(t,n){var o,i,a,s,f,l,p,h,d,v,m,b;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v=n.options,o=v.stateHandle,i=v.withCredentials,a=v.version,s=v.state,f=v.scopes,l=v.recoveryToken,p=v.activationToken,h=v.maxAge,v=(0,c.uN)(t,{state:s,recoveryToken:l,activationToken:p}),o)return e.next=6,O(t,{withCredentials:i,version:a,stateHandle:o});e.next=9;break;case 6:d=e.sent,e.next=20;break;case 9:if(m=null===(b=v)||void 0===b?void 0:b.interactionHandle){e.next=17;break}return t.transactionManager.clear(),e.next=14,y(t,{withCredentials:i,state:s,scopes:f,activationToken:p,recoveryToken:l,maxAge:h});case 14:b=e.sent,m=b.interactionHandle,v=b.meta;case 17:return e.next=19,O(t,{withCredentials:i,version:a,interactionHandle:m});case 19:d=e.sent;case 20:return e.abrupt("return",Dt(Dt({},n),{},{idxResponse:d,meta:v}));case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ft(){return(Ft=(0,i.Z)(u().mark(function e(t,n){var r,i,s,c,f,l,p,h,v,y,g;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.idxResponse,v=n.options,i=n.values,y=v.autoRemediate,s=v.remediators,c=v.actions,f=v.flow,l=v.step,p=v.shouldProceedWithEmailAuthenticator,h=v.useGenericRemediator,!1!==y&&(s||c||l)){e.next=5;break}return e.abrupt("return",n);case 5:return i=Dt(Dt({},i),{},{stateHandle:r.rawIdxState.stateHandle}),e.next=8,_t(t,r,i,{remediators:s,actions:c,flow:f,step:l,shouldProceedWithEmailAuthenticator:p,useGenericRemediator:h});case 8:return g=e.sent,v=g.idxResponse,y=g.nextStep,g=g.canceled,r=v,e.abrupt("return",Dt(Dt({},n),{},{idxResponse:r,nextStep:y,canceled:g}));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Kt(){return(Kt=(0,i.Z)(u().mark(function e(t,n){var i,s,c,f,l,h,d;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h=n.meta,d=n.idxResponse,i=d.interactionCode,s=h.clientId,c=h.codeVerifier,f=h.ignoreSignature,l=h.redirectUri,d=h.urls,h=h.scopes,e.next=5,t.token.exchangeCodeForTokens({interactionCode:i,clientId:s,codeVerifier:c,ignoreSignature:f,redirectUri:l,scopes:h},d);case 5:return d=e.sent,e.abrupt("return",d.tokens);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vt(){return(Vt=(0,i.Z)(u().mark(function e(t,n){var o,i,a,c,f,l,p,h,d,v,y,g,m,b,k;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k=n.options,o=n.idxResponse,i=n.canceled,a=n.status,c=k.exchangeCodeForTokens,p=!(l=f=!1),o&&(f=!(!o.requestDidSucceed&&!o.stepUp),v=function(r){var t=[],n=r.actions,r=r.neededToProceed;return n["currentAuthenticator-recover"]&&t.push(D.Fw.PASSWORD_RECOVERY),r.some(function(e){return"select-enroll-profile"===e.name})&&t.push(D.Fw.REGISTRATION),r.some(function(e){return"redirect-idp"===e.name})&&t.push(D.Fw.SOCIAL_IDP),r.some(function(e){return"unlock-account"===e.name})&&t.push(D.Fw.ACCOUNT_UNLOCK),t}(o),y=ht(t,o,k.useGenericRemediator),g=lt(o,k),m=ct(o)),!m){e.next=15;break}a=s.IdxStatus.TERMINAL,b=0<Object.keys(o.actions).length,k=!!g.find(function(e){return"ERROR"===e.class}),b||k||!0!==o.requestDidSucceed?f=f&&b:l=!0,p=!1,e.next=32;break;case 15:if(!i){e.next=20;break}a=s.IdxStatus.CANCELED,l=!0,e.next=32;break;case 20:if(null==o||!o.interactionCode){e.next=32;break}if(h=o.interactionCode,!1!==c){e.next=27;break}a=s.IdxStatus.SUCCESS,l=!1,e.next=32;break;case 27:return e.next=29,function(){return Kt.apply(this,arguments)}(t,n);case 29:d=e.sent,a=s.IdxStatus.SUCCESS,l=!0;case 32:return e.abrupt("return",Dt(Dt({},n),{},{status:a,interactionCode:h,tokens:d,shouldSaveResponse:f,shouldClearTransaction:l,clearSharedStorage:p,enabledFeatures:v,availableSteps:y,messages:g,terminal:m}));case 33:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gt(e,t){var n=t.error,r=t.status;if(t.shouldClearTransaction,!(0,b.f)(e))throw e;return n=e,r=s.IdxStatus.FAILURE,Dt(Dt({},t),{},{error:n,status:r,shouldClearTransaction:!0})}function qt(){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,i.Z)(u().mark(function e(t){var r,a,p,h,d,v,y,g,m,b,S,_,A,P,R,x,Z,j=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={options:b=1<j.length&&void 0!==j[1]?j[1]:{},values:function(e){var t=Dt({},e);return["flow","remediators","actions","withCredentials","step","useGenericRemediator","exchangeCodeForTokens","shouldProceedWithEmailAuthenticator"].forEach(function(e){delete t[e]}),t}(b)},r=Mt(t,r),e.prev=3,e.next=6,function(){return Ut.apply(this,arguments)}(t,r);case 6:return r=e.sent,e.next=9,function(){return Ft.apply(this,arguments)}(t,r);case 9:r=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),r=Gt(e.t0,r);case 15:return e.next=17,function(){return Vt.apply(this,arguments)}(t,r);case 17:return r=e.sent,x=r.idxResponse,a=r.meta,_=r.shouldSaveResponse,Z=r.shouldClearTransaction,S=r.clearSharedStorage,p=r.status,h=r.enabledFeatures,d=r.availableSteps,v=r.tokens,y=r.nextStep,g=r.messages,m=r.error,b=r.interactionCode,Z?t.transactionManager.clear({clearSharedStorage:S}):((0,c.r0)(t,Dt({},a)),_&&(A=x.rawIdxState,P=x.requestDidSucceed,t.transactionManager.saveIdxResponse({rawIdxResponse:A,requestDidSucceed:P,stateHandle:null===(R=x.context)||void 0===R?void 0:R.stateHandle,interactionHandle:null==a?void 0:a.interactionHandle}))),S=(Z=x||{}).actions,_=Z.context,A=Z.neededToProceed,P=Z.proceed,R=Z.rawIdxState,x=Z.requestDidSucceed,Z=Z.stepUp,e.abrupt("return",Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt({status:p},a&&{meta:a}),h&&{enabledFeatures:h}),d&&{availableSteps:d}),v&&{tokens:v}),y&&{nextStep:y}),g&&g.length&&{messages:g}),m&&{error:m}),Z&&{stepUp:Z}),{},{interactionCode:b,actions:S,context:_,neededToProceed:A,proceed:P,rawIdxState:R,requestDidSucceed:x}));case 22:case"end":return e.stop()}},e,null,[[3,12]])}))).apply(this,arguments)}function Wt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $t(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,i.Z)(u().mark(function e(t){var n,r=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=1<r.length&&void 0!==r[1]?r[1]:{}).password&&!n.authenticator&&(n.authenticator=s.AuthenticatorKey.OKTA_PASSWORD),e.abrupt("return",qt(t,zt(zt({},n),{},{flow:"authenticate"})));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Xt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=(0,i.Z)(u().mark(function e(t,n){var o;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.transactionManager.load(),o=jt(t,o.flow),e.abrupt("return",qt(t,Jt(Jt(Jt({},n),o),{},{actions:["cancel"]})));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var nn=n(6245),rn=n(1969),on=function(e){(0,K.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,V.Z)(t);return e=n?(o=(0,V.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,B.Z)(this,e)});function i(e,t){var n;return(0,x.Z)(this,i),n=r.call(this,"Enter the OTP code in the originating client: ".concat(t)),(0,o.Z)((0,G.Z)(n),"state",void 0),(0,o.Z)((0,G.Z)(n),"otp",void 0),n.name="EmailVerifyCallbackError",n.state=e,n.otp=t,n}return i}(nn.Z);function an(e){return"EmailVerifyCallbackError"===e.name}function un(e){return/(otp=)/i.test(e)&&/(state=)/i.test(e)}function sn(e){return(0,rn.v)(e)}function cn(e,t){return fn.apply(this,arguments)}function fn(){return(fn=(0,i.Z)(u().mark(function e(t,n){var o,i;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!un(n)){e.next=9;break}if(i=sn(n),o=i.state,i=i.otp,t.idx.canProceed({state:o}))return e.next=5,t.idx.proceed({state:o,otp:i});e.next=8;break;case 5:return e.abrupt("return",e.sent);case 8:throw new on(o,i);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ln(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return!(!(0,c.uN)(e,t)&&!t.stateHandle)}function dn(e){return vn.apply(this,arguments)}function vn(){return(vn=(0,i.Z)(u().mark(function e(t){var n,r,i,a=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(hn(t,n=1<a.length&&void 0!==a[1]?a[1]:{})){e.next=3;break}throw new w.R("Unable to proceed: saved transaction could not be loaded");case 3:return r=n.flow,i=n.state,r||(i=(0,c.uN)(t,{state:i}),r=null==i?void 0:i.flow),e.abrupt("return",qt(t,pn(pn({},n),{},{flow:r})));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yn(e){return gn.apply(this,arguments)}function gn(){return(gn=(0,i.Z)(u().mark(function e(t){var n,r,o,s,f=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<f.length&&void 0!==f[1]?f[1]:{},e.next=3,dn(t,{startPolling:!0});case 3:if(o=e.sent,s=(0,c.uN)(t),null!=(s=null==s||null===(n=s.remediations)||void 0===n?void 0:n.find(function(e){return e.includes("poll")}))&&s.length||(0,R.ZK)("No polling remediations available at the current IDX flow stage"),Number.isInteger(r.refresh))return e.abrupt("return",new Promise(function(e,n){setTimeout((0,i.Z)(u().mark(function r(){var i,a,s;return u().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:try{s=null===(i=o.nextStep)||void 0===i||null===(a=i.poll)||void 0===a?void 0:a.refresh,e(s?yn(t,{refresh:s}):o)}catch(e){n(e)}case 1:case"end":return r.stop()}},r)})),r.refresh)}));e.next=9;break;case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function mn(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function kn(e){return wn.apply(this,arguments)}function wn(){return(wn=(0,i.Z)(u().mark(function e(t){var n,r=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<r.length&&void 0!==r[1]?r[1]:{},t.transactionManager.clear(),e.abrupt("return",qt(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({exchangeCodeForTokens:!1},n)));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function On(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tn(e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,i.Z)(u().mark(function e(t){var n,o,i,a=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<a.length&&void 0!==a[1]?a[1]:{},(0,c.$0)(t)){e.next=13;break}return e.next=4,kn(t,En(En({},n),{},{flow:"register",autoRemediate:!1}));case 4:if(i=e.sent,o=i.enabledFeatures,i=i.availableSteps,n.activationToken||!o||o.includes(s.IdxFeature.REGISTRATION)){e.next=10;break}throw new w.R("Registration is not supported based on your current org configuration.");case 10:if(n.activationToken&&null!=i&&i.some(function(e){return"identify"===e.name}))throw new w.R("activationToken is not supported based on your current org configuration.");e.next=13;break;case 13:return e.abrupt("return",qt(t,En(En({},n),{},{flow:"register"})));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _n(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pn(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,i.Z)(u().mark(function e(t){var n,r,o=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<o.length&&void 0!==o[1]?o[1]:{},r=jt(t,"recoverPassword"),e.abrupt("return",qt(t,An(An({},n),r)));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,i.Z)(u().mark(function e(t,n){var r,o,i,c,f,l,h;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transactionManager.load()){e.next=3;break}throw new w.R("No transaction data was found in storage");case 3:if(o=r.codeVerifier,i=r.state,l=new URL(n),h=l.searchParams,c=h.get("state"),f=h.get("interaction_code"),l=h.get("error"))throw new w.BK(l,h.get("error_description"));e.next=10;break;case 10:if(c!==i)throw new w.R("State in redirect uri does not match with transaction state");e.next=12;break;case 12:if(f){e.next=14;break}throw new w.R("Unable to parse interaction_code from the url");case 14:return e.next=16,t.token.exchangeCodeForTokens({interactionCode:f,codeVerifier:o});case 16:h=e.sent,h=h.tokens,t.tokenManager.setTokens(h);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jn(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dn(e){return In.apply(this,arguments)}function In(){return(In=(0,i.Z)(u().mark(function e(t){var n,o,i=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=1<i.length&&void 0!==i[1]?i[1]:{}).flow="unlockAccount",(0,c.$0)(t)){e.next=9;break}return e.next=5,kn(t,Cn(Cn({},n),{},{autoRemediate:!1}));case 5:if(o=e.sent,(o=o.enabledFeatures)&&!o.includes(s.IdxFeature.ACCOUNT_UNLOCK))throw new w.R("Self Service Account Unlock is not supported based on your current org configuration.");e.next=9;break;case 9:return e.abrupt("return",qt(t,Cn({},n)));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}},2620:function(e,i,n){n.d(i,{Xc:function(){return p},$0:function(){return d},uN:function(){return v},Co:function(){return y},r0:function(){return m},Jm:function(){return b},Wf:function(){return k},bl:function(){return w},UC:function(){return O}});var r=n(4942),o=n(5861),i=n(7757),a=n.n(i),u=n(3193),s=n(146),c=n(1279);function f(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(a().mark(function e(t){var n,o,s,p,d,y,b,k=arguments;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<k.length&&void 0!==k[1]?k[1]:{},e.next=3,t.token.prepareTokenParams(n);case 3:return p=e.sent,o=(0,c.H)(t,p),b=l(l({},t.options),n),y=b.flow,s=void 0===y?"default":y,d=b.withCredentials,p=void 0===d||d,y=b.activationToken,d=void 0===y?void 0:y,y=b.recoveryToken,y=void 0===y?void 0:y,b=b.maxAge,b=void 0===b?void 0:b,b=l(l({},o),{},{flow:s,withCredentials:p,activationToken:d,recoveryToken:y,maxAge:b}),e.abrupt("return",b);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e,n){n=v(e,n);return!(null==n||!n.interactionHandle)}function v(e,t){var n;t=(0,u.YY)(t),t=l(l({},e.options),t);try{n=e.transactionManager.load(t)}catch(e){}if(n)return k(n,t)?n:void(0,s.ZK)("Saved transaction meta does not match the current configuration. This may indicate that two apps are sharing a storage key.")}function y(e,t){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(a().mark(function e(t,n){var r;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,u.YY)(n),n=l(l({},t.options),n),r=v(t,n))return e.abrupt("return",r);e.next=5;break;case 5:return e.abrupt("return",p(t,n));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e,t){e.transactionManager.save(t,{muteWarning:!0})}function b(e){e.transactionManager.clear()}function k(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return!1!==O(e,t,["issuer","clientId","redirectUri","state","codeChallenge","codeChallengeMethod","activationToken","recoveryToken"])&&!1!==w(e,t.flow)}function w(e,t){return!(t&&"default"!==t&&"proceed"!==t)||t===e.flow}function O(e,t,n){return!n.some(function(n){var r=t[n];if(r&&r!==e[n])return!0})}},480:function(e,t,n){function r(e){return e&&e.version}function o(e){return e&&r(e.rawIdxState)}n.d(t,{P:function(){return r},f:function(){return o}})},1384:function(e,t,n){var r,o,i;function a(e){return e&&(e.key||e.id)}n.d(t,{pc:function(){return o},Fw:function(){return i},Qd:function(){return r},H:function(){return a}}),function(e){e.SUCCESS="SUCCESS",e.PENDING="PENDING",e.FAILURE="FAILURE",e.TERMINAL="TERMINAL",e.CANCELED="CANCELED"}(r=r||{}),function(e){e.OKTA_PASSWORD="okta_password",e.OKTA_EMAIL="okta_email",e.PHONE_NUMBER="phone_number",e.GOOGLE_AUTHENTICATOR="google_otp",e.SECURITY_QUESTION="security_question",e.OKTA_VERIFY="okta_verify",e.WEBAUTHN="webauthn"}(o=o||{}),function(e){e.PASSWORD_RECOVERY="recover-password",e.REGISTRATION="enroll-profile",e.SOCIAL_IDP="redirect-idp",e.ACCOUNT_UNLOCK="unlock-account"}(i=i||{})},7938:function(e,o,n){n.d(o,{BaseTransaction:function(){return v},EmailChallengeTransaction:function(){return k},EmailRole:function(){return N},EmailStatusTransaction:function(){return b},EmailTransaction:function(){return m},PhoneTransaction:function(){return w},ProfileSchemaTransaction:function(){return g},ProfileTransaction:function(){return y},Status:function(){return U},addEmail:function(){return V},addPhone:function(){return Q},deleteEmail:function(){return G},deletePhone:function(){return X},getEmail:function(){return B},getEmailChallenge:function(){return Y},getEmails:function(){return K},getPhone:function(){return $},getPhones:function(){return z},getProfile:function(){return L},getProfileSchema:function(){return H},sendEmailChallenge:function(){return q},sendPhoneChallenge:function(){return J},updateProfile:function(){return F},verifyEmailChallenge:function(){return W},verifyPhoneChallenge:function(){return ee}});var r=n(5861),o=n(7757),i=n.n(o),a=n(4942),u=n(1002),s=n(5671),c=n(7326),f=n(136),l=n(2963),p=n(1120),h=n(4925),d=["headers"],v=function e(t,i){var r=this;(0,s.Z)(this,e),(0,a.Z)(this,"headers",void 0);var o=i.res,i=o.headers,u=(0,h.Z)(o,d);i&&(this.headers=i),Object.keys(u).forEach(function(e){"_links"!==e&&(r[e]=u[e])})},y=function(){(0,f.Z)(o,v);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,p.Z)(t);return e=n?(o=(0,p.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,l.Z)(this,e)});function o(u,f){var n;(0,s.Z)(this,o),n=r.call(this,u,f),(0,a.Z)((0,c.Z)(n),"createdAt",void 0),(0,a.Z)((0,c.Z)(n),"modifiedAt",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0);var l=f.res,u=l.createdAt,f=l.modifiedAt,l=l.profile;return n.createdAt=u,n.modifiedAt=f,n.profile=l,n}return o}(),g=function(){(0,f.Z)(o,v);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,p.Z)(t);return e=n?(o=(0,p.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,l.Z)(this,e)});function o(n,t){return(0,s.Z)(this,o),n=r.call(this,n,t),(0,a.Z)((0,c.Z)(n),"properties",void 0),n.properties=t.res.properties,n}return o}(),m=function(){(0,f.Z)(u,v);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,p.Z)(t);return e=n?(o=(0,p.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,l.Z)(this,e)});function u(e,y){var n;(0,s.Z)(this,u),n=o.call(this,e,y),(0,a.Z)((0,c.Z)(n),"id",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0),(0,a.Z)((0,c.Z)(n),"roles",void 0),(0,a.Z)((0,c.Z)(n),"status",void 0),(0,a.Z)((0,c.Z)(n),"get",void 0),(0,a.Z)((0,c.Z)(n),"delete",void 0),(0,a.Z)((0,c.Z)(n),"challenge",void 0),(0,a.Z)((0,c.Z)(n),"poll",void 0),(0,a.Z)((0,c.Z)(n),"verify",void 0);var f,l=y.accessToken,p=y.res,h=p.id,d=p.profile,v=p.roles,y=p.status,g=p._links;return n.id=h,n.profile=d,n.roles=v,n.status=y,n.get=(0,r.Z)(i().mark(function t(){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"get",links:g,transactionClassName:"EmailTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),n.delete=(0,r.Z)(i().mark(function t(){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"delete",links:g}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),n.challenge=(0,r.Z)(i().mark(function t(){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"challenge",links:g,transactionClassName:"EmailChallengeTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),g.poll&&(n.poll=(0,r.Z)(i().mark(function t(){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"poll",links:g,transactionClassName:"EmailStatusTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))),g.verify&&(n.verify=(f=(0,r.Z)(i().mark(function t(n){var r;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=R({oktaAuth:e,accessToken:l,methodName:"verify",links:g}),t.next=3,r(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),function(e){return f.apply(this,arguments)})),n}return u}(),b=function(){(0,f.Z)(o,v);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,p.Z)(t);return e=n?(o=(0,p.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,l.Z)(this,e)});function o(f,l){var n;(0,s.Z)(this,o),n=r.call(this,f,l),(0,a.Z)((0,c.Z)(n),"id",void 0),(0,a.Z)((0,c.Z)(n),"expiresAt",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0),(0,a.Z)((0,c.Z)(n),"status",void 0);var p=l.res,u=p.id,f=p.profile,l=p.expiresAt,p=p.status;return n.id=u,n.expiresAt=l,n.profile=f,n.status=p,n}return o}(),k=function(){(0,f.Z)(u,v);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,p.Z)(t);return e=n?(o=(0,p.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,l.Z)(this,e)});function u(e,y){var n;(0,s.Z)(this,u),n=o.call(this,e,y),(0,a.Z)((0,c.Z)(n),"id",void 0),(0,a.Z)((0,c.Z)(n),"expiresAt",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0),(0,a.Z)((0,c.Z)(n),"status",void 0),(0,a.Z)((0,c.Z)(n),"poll",void 0),(0,a.Z)((0,c.Z)(n),"verify",void 0);var f,l=y.accessToken,p=y.res,h=p.id,d=p.expiresAt,v=p.profile,y=p.status,g=p._links;return n.id=h,n.expiresAt=d,n.profile=v,n.status=y,n.poll=(0,r.Z)(i().mark(function t(){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:l,methodName:"poll",links:g,transactionClassName:"EmailStatusTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),n.verify=(f=(0,r.Z)(i().mark(function t(n){var r;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=R({oktaAuth:e,accessToken:l,methodName:"verify",links:g}),t.next=3,r(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),function(e){return f.apply(this,arguments)}),n}return u}(),w=function(){(0,f.Z)(u,v);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=(0,p.Z)(t);return e=n?(o=(0,p.Z)(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),(0,l.Z)(this,e)});function u(e,y){var n;(0,s.Z)(this,u),n=o.call(this,e,y),(0,a.Z)((0,c.Z)(n),"id",void 0),(0,a.Z)((0,c.Z)(n),"profile",void 0),(0,a.Z)((0,c.Z)(n),"status",void 0),(0,a.Z)((0,c.Z)(n),"get",void 0),(0,a.Z)((0,c.Z)(n),"delete",void 0),(0,a.Z)((0,c.Z)(n),"challenge",void 0),(0,a.Z)((0,c.Z)(n),"verify",void 0);var f,l,p=y.res,h=y.accessToken,d=p.id,v=p.profile,y=p.status,g=p._links;return n.id=d,n.profile=v,n.status=y,n.get=(0,r.Z)(i().mark(function t(){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:h,methodName:"get",links:g,transactionClassName:"PhoneTransaction"}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),n.delete=(0,r.Z)(i().mark(function t(){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=R({oktaAuth:e,accessToken:h,methodName:"delete",links:g}),t.next=3,n();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),n.challenge=(f=(0,r.Z)(i().mark(function t(n){var r;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=R({oktaAuth:e,accessToken:h,methodName:"challenge",links:g}),t.next=3,r(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),function(e){return f.apply(this,arguments)}),g.verify&&(n.verify=(l=(0,r.Z)(i().mark(function t(n){var r;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=R({oktaAuth:e,accessToken:h,methodName:"verify",links:g}),t.next=3,r(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),function(e){return l.apply(this,arguments)})),n}return u}(),O=n(7735),E=n(7301);function T(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e){if(!e)throw new E.R("Missing header string");return e.split(",").map(function(e){return e.trim()}).map(function(e){return e.split("=")}).reduce(function(e,t){return e[t[0]]=t[1].replace(/^"(.*)"$/,"$1"),e},{})};function A(){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(i().mark(function e(t,n){var u,s,l,p,h,d,T,A,P,x,Z,j,C;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h=t.tokenManager.getTokensSync(),j=h.accessToken,A=h.idToken,u=null==A?void 0:A.idToken,s=n.accessToken||(null==j?void 0:j.accessToken),x=t.options.issuer,Z=n.url,l=n.method,p=n.payload,h=Z.startsWith(x)?Z:"".concat(x).concat(Z),s){e.next=8;break}throw new E.R("AccessToken is required to request MyAccount API endpoints.");case 8:return e.prev=8,e.next=11,(0,O.c3)(t,S({headers:{Accept:"*/*;okta-version=1.0.0"},accessToken:s,url:h,method:l},p&&{args:p}));case 11:d=e.sent,e.next=28;break;case 14:if(e.prev=14,e.t0=e.catch(8),A=e.t0.xhr,!u||403!==(null==A?void 0:A.status)||null==A||null===(T=A.headers)||void 0===T||!T["www-authenticate"]){e.next=27;break}if(j=_(null==A||null===(P=A.headers)||void 0===P?void 0:P["www-authenticate"]),x=j.error,Z=j.error_description,j=j.max_age,"insufficient_authentication_context"===x)throw new E.Ws({errorSummary:x,errorCauses:[{errorSummary:Z}]},A,{max_age:+j});e.next=24;break;case 24:case 27:throw e.t0;case 25:e.next=28;break;case 28:if(C={EmailTransaction:m,EmailStatusTransaction:b,EmailChallengeTransaction:k,ProfileTransaction:y,ProfileSchemaTransaction:g,PhoneTransaction:w}[n.transactionClassName]||v,Array.isArray(d))return e.abrupt("return",d.map(function(e){return new C(t,{res:e,accessToken:s})}));e.next=32;break;case 32:return e.abrupt("return",new C(t,{res:d,accessToken:s}));case 33:case"end":return e.stop()}},e,null,[[8,14]])}))).apply(this,arguments)}function R(e){for(var t=e.oktaAuth,n=e.accessToken,o=e.methodName,a=e.links,s=e.transactionClassName,f=0,l=["GET","POST","PUT","DELETE"];f<l.length;f++){var p=function(){var e,u=l[f];if(u.toLowerCase()===o){var c=a.self;return{v:(e=(0,r.Z)(i().mark(function e(r){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(t,{accessToken:n,url:c.href,method:u,payload:r,transactionClassName:s}));case 1:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})}}}();if("object"===(0,u.Z)(p))return p.v}var h,d=a[o];if(!d)throw new E.R("No link is found with methodName: ".concat(o));return h=(0,r.Z)(i().mark(function e(r){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(t,{accessToken:n,url:d.href,method:d.hints.allow[0],payload:r,transactionClassName:s}));case 1:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)}}var x,Z,j,C,D,I,M,N,U,L=(x=(0,r.Z)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,{url:"/idp/myaccount/profile",method:"GET",accessToken:null==n?void 0:n.accessToken,transactionClassName:"ProfileTransaction"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),function(e,t){return x.apply(this,arguments)}),F=(Z=(0,r.Z)(i().mark(function e(t,n){var o,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.payload,u=n.accessToken,e.next=3,A(t,{url:"/idp/myaccount/profile",method:"PUT",payload:o,accessToken:u,transactionClassName:"ProfileTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}},e)})),function(e,t){return Z.apply(this,arguments)}),H=(j=(0,r.Z)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,{url:"/idp/myaccount/profile/schema",method:"GET",accessToken:null==n?void 0:n.accessToken,transactionClassName:"ProfileSchemaTransaction"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),function(e,t){return j.apply(this,arguments)}),K=function(){var e=(0,r.Z)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,{url:"/idp/myaccount/emails",method:"GET",accessToken:null==n?void 0:n.accessToken,transactionClassName:"EmailTransaction"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.Z)(i().mark(function e(t,n){var o,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.id,u=n.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o),method:"GET",accessToken:u,transactionClassName:"EmailTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=(0,r.Z)(i().mark(function e(t,n){var a,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.accessToken,a=n.payload,e.next=3,A(t,{url:"/idp/myaccount/emails",method:"POST",payload:a,accessToken:u,transactionClassName:"EmailTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),G=(C=(0,r.Z)(i().mark(function e(t,n){var o,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.id,u=n.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o),method:"DELETE",accessToken:u});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}},e)})),function(e,t){return C.apply(this,arguments)}),q=(D=(0,r.Z)(i().mark(function e(t,n){var o,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.id,u=n.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o,"/challenge"),method:"POST",accessToken:u,transactionClassName:"EmailChallengeTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}},e)})),function(e,t){return D.apply(this,arguments)}),Y=(I=(0,r.Z)(i().mark(function e(t,n){var o,a,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.emailId,a=n.challengeId,s=n.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o,"/challenge/").concat(a),method:"POST",accessToken:s,transactionClassName:"EmailChallengeTransaction"});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e)})),function(e,t){return I.apply(this,arguments)}),W=(M=(0,r.Z)(i().mark(function e(t,n){var o,a,u,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.emailId,a=n.challengeId,u=n.payload,c=n.accessToken,e.next=3,A(t,{url:"/idp/myaccount/emails/".concat(o,"/challenge/").concat(a,"/verify"),method:"POST",payload:u,accessToken:c});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}},e)})),function(e,t){return M.apply(this,arguments)}),z=function(){var e=(0,r.Z)(i().mark(function e(t,n){var r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,{url:"/idp/myaccount/phones",method:"GET",accessToken:null==n?void 0:n.accessToken,transactionClassName:"PhoneTransaction"});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=(0,r.Z)(i().mark(function e(t,n){var a,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.accessToken,a=n.id,e.next=3,A(t,{url:"/idp/myaccount/phones/".concat(a),method:"GET",accessToken:u,transactionClassName:"PhoneTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,r.Z)(i().mark(function e(t,n){var a,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.accessToken,a=n.payload,e.next=3,A(t,{url:"/idp/myaccount/phones",method:"POST",payload:a,accessToken:u,transactionClassName:"PhoneTransaction"});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=(0,r.Z)(i().mark(function e(t,n){var o,u;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.id,u=n.accessToken,e.next=3,A(t,{url:"/idp/myaccount/phones/".concat(o),method:"DELETE",accessToken:u});case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.Z)(i().mark(function e(t,n){var a,u,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.accessToken,a=n.id,u=n.payload,e.next=3,A(t,{url:"/idp/myaccount/phones/".concat(a,"/challenge"),method:"POST",payload:u,accessToken:s});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)(i().mark(function e(t,n){var o,a,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.id,a=n.payload,s=n.accessToken,e.next=3,A(t,{url:"/idp/myaccount/phones/".concat(o,"/verify"),method:"POST",payload:a,accessToken:s});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();!function(e){e.PRIMARY="PRIMARY",e.SECONDARY="SECONDARY"}(N=N||{}),function(e){e.VERIFIED="VERIFIED",e.UNVERIFIED="UNVERIFIED"}(U=U||{})},1237:function(e,t,n){n.d(t,{T:function(){return i}});var r=n(7301),o=n(9326);function i(e){var t,n=e.split(".");try{t={header:JSON.parse((0,o.base64UrlToString)(n[0])),payload:JSON.parse((0,o.base64UrlToString)(n[1])),signature:n[2]}}catch(e){throw new r.R("Malformed token")}return t}},52:function(e,t,n){n.d(t,{E:function(){return a},k:function(){return u}});var r=n(7735),o=n(3193),i=n(9123);function a(e,n){n=n||e.options.issuer;return(0,r.U2)(e,n+"/.well-known/openid-configuration",{cacheResponse:!0})}function u(e,t,n){var u=e.storageManager.getHttpCache(e.options.cookies);return a(e,t).then(function(c){var a=c.jwks_uri,c=u.getStorage()[a];if(c&&Date.now()/1e3<c.expiresAt){c=(0,o.sE)(c.response.keys,{kid:n});if(c)return c}return u.clearStorage(a),(0,r.U2)(e,a,{cacheResponse:!0}).then(function(t){t=(0,o.sE)(t.keys,{kid:n});if(t)return t;throw new i.Z("The key id, "+n+", was not found in the server's keys")})})}},8676:function(e,o,n){n.d(o,{s:function(){return p}});var r=n(5861),o=n(7757),i=n.n(o),a=n(3193),u=n(7599),s=n(7301),c=n(1260),f=n(1060);function p(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(i().mark(function e(t,n,r,o){var p,h,d,v,y,g,b,k,w,O,T,S;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==t.options.pkce&&(r.code||r.interaction_code))return e.abrupt("return",t.token.exchangeCodeForTokens(Object.assign({},n,{authorizationCode:r.code,interactionCode:r.interaction_code}),o));e.next=3;break;case 3:if(n=n||(0,f.Dx)(t),o=o||(0,u.Fc)(t,n),p=n.responseType||[],Array.isArray(p)||(p=[p]),h=r.scope?r.scope.split(" "):(0,a.d9)(n.scopes),d=n.clientId||t.options.clientId,function(e,t){if(e.error&&e.error_description)throw new s.BK(e.error,e.error_description);if(e.state!==t.state)throw new s.R("OAuth flow response state doesn't match request state")}(r,n),v={},y=r.expires_in,g=r.token_type,S=r.access_token,b=r.id_token,k=r.refresh_token,w=Math.floor(Date.now()/1e3),S&&(O=t.token.decode(S),v.accessToken={accessToken:S,claims:O.payload,expiresAt:Number(y)+w,tokenType:g,scopes:h,authorizeUrl:o.authorizeUrl,userinfoUrl:o.userinfoUrl}),k&&(v.refreshToken={refreshToken:k,expiresAt:Number(y)+w,scopes:h,tokenUrl:o.tokenUrl,authorizeUrl:o.authorizeUrl,issuer:o.issuer}),b)return T=t.token.decode(b),T={idToken:b,claims:T.payload,expiresAt:T.payload.exp-T.payload.iat+w,scopes:h,authorizeUrl:o.authorizeUrl,issuer:o.issuer,clientId:d},S={clientId:d,issuer:o.issuer,nonce:n.nonce,accessToken:S},void 0!==n.ignoreSignature&&(S.ignoreSignature=n.ignoreSignature),e.next=26,(0,c.W)(t,T,S);e.next=27;break;case 26:v.idToken=T;case 27:if(-1===p.indexOf("token")||v.accessToken){e.next=29;break}throw new s.R('Unable to parse OAuth flow response: response type "token" was requested but "access_token" was not returned.');case 29:if(-1===p.indexOf("id_token")||v.idToken){e.next=31;break}throw new s.R('Unable to parse OAuth flow response: response type "id_token" was requested but "id_token" was not returned.');case 31:return e.abrupt("return",{tokens:v,state:r.state,code:r.code});case 32:case"end":return e.stop()}},e)}))).apply(this,arguments)}},1279:function(e,k,n){n.d(k,{NH:function(){return g.NH},iC:function(){return g.iC},vz:function(){return g.vz},R0:function(){return l},_6:function(){return f},H:function(){return g.H},TD:function(){return m.T},rz:function(){return G},PY:function(){return g.PY},aV:function(){return g.aV},Dx:function(){return g.Dx},O2:function(){return g.O2},km:function(){return y.k},zf:function(){return g.zf},Xp:function(){return g.Xp},Fc:function(){return g.Fc},LP:function(){return x},bG:function(){return B},ES:function(){return y.E},dh:function(){return q},Hq:function(){return Y},y6:function(){return Z},sw:function(){return R.s},ZP:function(){return g.ZP},hg:function(){return g.hg},d_:function(){return g.d_},kU:function(){return g.kU},tC:function(){return g.tC},Ik:function(){return g.Ik},wc:function(){return g.wc},Cf:function(){return g.Cf},gM:function(){return g.gM},Qs:function(){return g.Qs},Yo:function(){return g.Yo},$E:function(){return g.$E},q0:function(){return g.q0},Rl:function(){return g.Rl},pU:function(){return g.pU},ko:function(){return z.ko},U5:function(){return g.U5},Dp:function(){return v},ti:function(){return d},mi:function(){return g.mi},wu:function(){return g.wu},ys:function(){return g.ys},$m:function(){return U},IK:function(){return F},Rm:function(){return D},PX:function(){return S},vL:function(){return g.vL},pj:function(){return g.pj},br:function(){return g.br},Rp:function(){return g.Rp},WX:function(){return K.W}});var r=n(4942),o=n(4771),i=n(3193),a=n(6718),u=n(7301);function s(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){if(!e.clientId)throw new u.R("A clientId must be specified in the OktaAuth constructor to get a token");if((0,o.HD)(e.responseType)&&-1!==e.responseType.indexOf(" "))throw new u.R("Multiple OAuth responseTypes must be defined as an array");var t={client_id:e.clientId,code_challenge:e.codeChallenge,code_challenge_method:e.codeChallengeMethod,display:e.display,idp:e.idp,idp_scope:e.idpScope,login_hint:e.loginHint,max_age:e.maxAge,nonce:e.nonce,prompt:e.prompt,redirect_uri:e.redirectUri,response_mode:e.responseMode,response_type:e.responseType,sessionToken:e.sessionToken,state:e.state},t=(0,i.YY)(t);if(["idp_scope","response_type"].forEach(function(e){Array.isArray(t[e])&&(t[e]=t[e].join(" "))}),-1!==e.responseType.indexOf("id_token")&&-1===e.scopes.indexOf("openid"))throw new u.R("openid scope must be specified in the scopes argument when requesting an id_token");return t.scope=e.scopes.join(" "),t}function l(e){var t=f(e);return(0,a.UK)(c(c({},t),e.extraParams&&c({},e.extraParams)))}var p=n(885),h=n(7735);function d(e,r,n){!function(e){if(!e.clientId)throw new u.R("A clientId must be specified in the OktaAuth constructor to get a token");if(!e.redirectUri)throw new u.R("The redirectUri passed to /authorize must also be passed to /token");if(!e.authorizationCode&&!e.interactionCode)throw new u.R("An authorization code (returned from /authorize) must be passed to /token");if(!e.codeVerifier)throw new u.R('The "codeVerifier" (generated and saved by your app) must be passed to /token')}(r);r=function(r,t){var n=(0,i.YY)({client_id:t.clientId,redirect_uri:t.redirectUri,grant_type:t.interactionCode?"interaction_code":"authorization_code",code_verifier:t.codeVerifier});t.interactionCode?n.interaction_code=t.interactionCode:t.authorizationCode&&(n.code=t.authorizationCode);r=r.options.clientSecret;return r&&(n.client_secret=r),(0,a.UK)(n).slice(1)}(e,r);return(0,h.c3)(e,{url:n.tokenUrl,method:"POST",args:r,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function v(e,t,n){return(0,h.c3)(e,{url:n.tokenUrl,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},args:Object.entries({client_id:t.clientId,grant_type:"refresh_token",scope:n.scopes.join(" "),refresh_token:n.refreshToken}).map(function(n){var r=(0,p.Z)(n,2),n=r[0],r=r[1];return n+"="+encodeURIComponent(r)}).join("&")})}var y=n(52),g=n(1060),m=n(1237),b=n(5861),k=n(7757),w=n.n(k),O=n(7599),E=n(9326),T=n(9123);function S(e,t){return _.apply(this,arguments)}function _(){return(_=(0,b.Z)(w().mark(function e(t,n){var r,o,i,u,s,c,f;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r="",n&&(r=n.accessToken,o=n.refreshToken),r||o){e.next=5;break}throw new T.Z("A valid access or refresh token object is required");case 5:if(i=t.options.clientId,u=t.options.clientSecret,i){e.next=9;break}throw new T.Z("A clientId must be specified in the OktaAuth constructor to revoke a token");case 9:return s=(0,O.Fc)(t).revokeUrl,c=(0,a.UK)({token_type_hint:o?"refresh_token":"access_token",token:o||r}).slice(1),f=u?(0,E.btoa)("".concat(i,":").concat(u)):(0,E.btoa)(i),e.abrupt("return",(0,h.v_)(t,s,c,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+f}}));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var A=n(2852),P=n(6898),R=n(8676);function x(e,t){if(2<arguments.length)return Promise.reject(new T.Z('As of version 3.0, "getToken" takes only a single set of options'));var n=(t=t||{}).popupWindow;return(t.popupWindow=void 0,P.wu)(e,t).then(function(r){var o,i,s;switch(t.sessionToken?Object.assign(r,{prompt:"none",responseMode:"okta_post_message",display:null}):t.idp&&Object.assign(r,{display:"popup"}),i=(0,g.Fc)(e,r),o=(t.codeVerifier?i.tokenUrl:i.authorizeUrl)+l(r),r.sessionToken||null===r.display?"IFRAME":"popup"===r.display?"POPUP":"IMPLICIT"){case"IFRAME":var a=(0,g.iC)(e,t.timeout,r.state),u=(0,g.Rl)(o);return a.then(function(t){return(0,R.s)(e,r,t,i)}).finally(function(){var e;document.body.contains(u)&&(null===(e=u.parentElement)||void 0===e||e.removeChild(u))});case"POPUP":if("okta_post_message"===r.responseMode){if(!e.features.isPopupPostMessageSupported())throw new T.Z("This browser doesn't have full postMessage support");s=(0,g.iC)(e,t.timeout,r.state)}return n&&n.location.assign(o),new Promise(function(e,t){var r=setInterval(function(){n&&!n.closed||(clearInterval(r),t(new T.Z("Unable to parse OAuth flow response")))},100);s.then(function(t){clearInterval(r),e(t)}).catch(function(e){clearInterval(r),t(e)})}).then(function(t){return(0,R.s)(e,r,t,i)}).finally(function(){n&&!n.closed&&n.close()});default:throw new T.Z("The full page redirect flow is not supported")}})}function Z(e,t){return 2<arguments.length?Promise.reject(new u.R('As of version 3.0, "getWithoutPrompt" takes only a single set of options')):(t=(0,i.d9)(t)||{},Object.assign(t,{prompt:"none",responseMode:"okta_post_message",display:null}),x(e,t))}var j=n(6635),C=n(9912);function D(e,t,n){return I.apply(this,arguments)}function I(){return(I=(0,b.Z)(w().mark(function e(t,n,r){var o,i,f,l;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.options.clientId){e.next=3;break}throw new u.R("A clientId must be specified in the OktaAuth constructor to renew tokens");case 3:return e.prev=3,i=Object.assign({},n,{clientId:o}),e.next=7,v(t,i,r);case 7:return l=e.sent,f=(0,O.Fc)(t,n),e.next=11,(0,R.s)(t,i,l,f);case 11:return l=e.sent,f=l.tokens,(l=f.refreshToken)&&!(0,j.q)(l,r)&&t.tokenManager.updateRefreshToken(l),e.abrupt("return",f);case 18:throw e.prev=18,e.t0=e.catch(3),(0,C.$E)(e.t0)&&t.tokenManager.removeRefreshToken(),e.t0;case 22:case"end":return e.stop()}},e,null,[[3,18]])}))).apply(this,arguments)}function M(){throw new u.R("Renew must be passed a token with an array of scopes and an accessToken or idToken")}function N(e,t){return(0,A.isIDToken)(e)?t.idToken:(0,A.isAccessToken)(e)?t.accessToken:void M()}function U(e,t){return L.apply(this,arguments)}function L(){return(L=(0,b.Z)(w().mark(function e(t,n){var r,o,a,u,s,c;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,A.isIDToken)(n)||(0,A.isAccessToken)(n)||M(),(r=t.tokenManager.getTokensSync()).refreshToken)return e.next=5,D(t,{scopes:n.scopes},r.refreshToken);e.next=7;break;case 5:return r=e.sent,e.abrupt("return",N(n,r));case 7:return o=t.options.pkce?"code":(0,A.isAccessToken)(n)?"token":"id_token",a=n.scopes,u=n.authorizeUrl,s=n.userinfoUrl,c=n.issuer,e.abrupt("return",Z(t,{responseType:o,scopes:a,authorizeUrl:u,userinfoUrl:s,issuer:c}).then(function(e){return N(n,e.tokens)}));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t){return H.apply(this,arguments)}function H(){return(H=(0,b.Z)(w().mark(function e(t,n){var r,o,i,a,s,c,p;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.tokenManager.getTokensSync()).refreshToken)return e.abrupt("return",D(t,n||{},r.refreshToken));e.next=3;break;case 3:if(r.accessToken||r.idToken){e.next=5;break}throw new u.R("renewTokens() was called but there is no existing token");case 5:if(o=r.accessToken||{},i=r.idToken||{},a=o.scopes||i.scopes){e.next=10;break}throw new u.R("renewTokens: invalid tokens: could not read scopes");case 10:if(s=o.authorizeUrl||i.authorizeUrl){e.next=13;break}throw new u.R("renewTokens: invalid tokens: could not read authorizeUrl");case 13:return c=o.userinfoUrl||t.options.userinfoUrl,p=i.issuer||t.options.issuer,n=Object.assign({scopes:a,authorizeUrl:s,userinfoUrl:c,issuer:p},n),t.options.pkce?n.responseType="code":(p=(0,g.Dx)(t),p=p.responseType,n.responseType=p),e.abrupt("return",Z(t,n).then(function(e){return e.tokens}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}var K=n(1260);function B(e,t,n){return V.apply(this,arguments)}function V(){return(V=(0,b.Z)(w().mark(function e(t,n,r){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return e.next=3,t.tokenManager.getTokens();case 3:n=e.sent.accessToken;case 4:if(r){e.next=8;break}return e.next=7,t.tokenManager.getTokens();case 7:r=e.sent.idToken;case 8:if(n&&(0,A.isAccessToken)(n)){e.next=10;break}return e.abrupt("return",Promise.reject(new u.R("getUserInfo requires an access token object")));case 10:if(r&&(0,A.isIDToken)(r)){e.next=12;break}return e.abrupt("return",Promise.reject(new u.R("getUserInfo requires an ID token object")));case 12:return e.abrupt("return",(0,h.c3)(t,{url:n.userinfoUrl,method:"GET",accessToken:n.accessToken}).then(function(e){return e.sub===r.claims.sub?e:Promise.reject(new u.R("getUserInfo request was rejected due to token mismatch"))}).catch(function(e){var i,a;throw e.xhr&&(401===e.xhr.status||403===e.xhr.status)&&(e.xhr.headers&&(0,o.mf)(e.xhr.headers.get)&&e.xhr.headers.get("WWW-Authenticate")?a=e.xhr.headers.get("WWW-Authenticate"):(0,o.mf)(e.xhr.getResponseHeader)&&(a=e.xhr.getResponseHeader("WWW-Authenticate")),a)&&(i=a.match(/error="(.*?)"/)||[],a=a.match(/error_description="(.*?)"/)||[],i=i[1],a=a[1],i&&a&&(e=new u.BK(i,a))),e}));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e,t,n){n=n||(0,g.Fc)(e,t);t=Object.assign({},(0,g.Dx)(e),(0,i.d9)(t));var o=t.authorizationCode,a=t.interactionCode,u=t.codeVerifier,s=t.clientId,c=t.redirectUri,f=t.scopes,l=t.ignoreSignature,p=t.state;return d(e,{clientId:s,redirectUri:c,authorizationCode:o,interactionCode:a,codeVerifier:u},n).then(function(t){var r=["token"];return-1!==f.indexOf("openid")&&r.push("id_token"),(0,R.s)(e,{clientId:s,redirectUri:c,scopes:f,responseType:r,ignoreSignature:l},t,n).then(function(e){return e.code=o,e.state=p,e})}).finally(function(){e.transactionManager.clear()})}function q(e,t){if(2<arguments.length)return Promise.reject(new u.R('As of version 3.0, "getWithPopup" takes only a single set of options'));var n=(0,g.pU)("/",t);return t=(0,i.d9)(t)||{},Object.assign(t,{display:"popup",responseMode:"okta_post_message",popupWindow:n}),x(e,t)}function Y(e,t){return W.apply(this,arguments)}function W(){return(W=(0,b.Z)(w().mark(function e(t,n){var o,a,s=arguments;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(2<s.length)return e.abrupt("return",Promise.reject(new u.R('As of version 3.0, "getWithRedirect" takes only a single set of options')));e.next=2;break;case 2:return n=(0,i.d9)(n)||{},e.next=5,(0,g.wu)(t,n);case 5:a=e.sent,o=(0,g.H)(t,a),a=o.urls.authorizeUrl+l(a),t.transactionManager.save(o,{oauth:!0}),t.token.getWithRedirect._setLocation(a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var z=n(5372)},5372:function(e,o,n){n.d(o,{Tp:function(){return l},ko:function(){return h}});var r=n(5861),o=n(7757),i=n.n(o),a=n(7301),u=n(1060),s=n(4771),c=n(8676);function f(e){var t=e.options.pkce?"query":"fragment";return e.options.responseMode||t}function l(n,o){var r=(o=(0,s.HD)(o=o||{})?{url:o}:o).url,o=o.responseMode||f(n),n=n.token.parseFromUrl._getLocation();if(!(n="query"===o?r?r.substring(r.indexOf("?")):n.search:r?r.substring(r.indexOf("#")):n.hash))throw new a.R("Unable to parse a token from the url");return(0,u.vL)(n)}function p(e,t){("query"===(t.responseMode||f(e))?function(r){var t=r.token.parseFromUrl._getHistory(),n=r.token.parseFromUrl._getDocument(),r=r.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,n.title,r.pathname+r.hash):r.search=""}:function(r){var t=r.token.parseFromUrl._getHistory(),n=r.token.parseFromUrl._getDocument(),r=r.token.parseFromUrl._getLocation();t&&t.replaceState?t.replaceState(null,n.title,r.pathname+r.search):r.hash=""})(e)}function h(e,t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark(function e(t,n){var r,o,f,h;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||{},n=(0,s.HD)(n)?{url:n}:n,r=l(t,n),o=r.state,f=t.transactionManager.load({oauth:!0,pkce:t.options.pkce,state:o})){e.next=7;break}return e.abrupt("return",Promise.reject(new a.R("Unable to retrieve OAuth redirect params from storage")));case 7:return h=f.urls,delete f.urls,n.url||p(t,n),e.abrupt("return",(0,c.s)(t,f,r,h).catch(function(e){throw(0,u.Cf)(e)||t.transactionManager.clear({state:o}),e}).then(function(e){return t.transactionManager.clear({state:o}),e}));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}},7756:function(e,t,n){n.d(t,{D:function(){return a}});var r=n(7599),o=n(415),i=n(3193);function a(p){var h=p.options,n=h.pkce,a=h.clientId,u=h.redirectUri,s=h.responseType,c=h.responseMode,f=h.scopes,l=h.state,p=h.ignoreSignature,h=(0,o.isBrowser)()?window.location.href:void 0;return(0,i.YY)({pkce:n,clientId:a,redirectUri:u||h,responseType:s||["token","id_token"],responseMode:c,state:l||(0,r.aV)(),nonce:(0,r.NH)(),scopes:f||["openid","email"],ignoreSignature:p})}},9912:function(e,t,n){n.d(t,{Cf:function(){return o},tC:function(){return i},$E:function(){return a}});var r=n(7301);function o(e){return"OAuthError"===e.name&&"interaction_required"===e.errorCode}function i(e,r){if("AuthApiError"!==r.name)return!1;r=r.xhr,r=null==r?void 0:r.responseJSON;return e.options.pkce&&"invalid_grant"===(null==r?void 0:r.error)}function a(e){return(0,r.eo)(e)&&"invalid_grant"===e.errorCode&&"The refresh token is invalid or expired."===e.errorSummary}},1060:function(e,t,n){n.d(t,{NH:function(){return o},iC:function(){return s},vz:function(){return _.vz},H:function(){return T},PY:function(){return k.NH},aV:function(){return k.aV},Dx:function(){return c.D},O2:function(){return g},zf:function(){return k.zf},Xp:function(){return k.Xp},Fc:function(){return k.Fc},ZP:function(){return p},hg:function(){return d},d_:function(){return h},kU:function(){return l},tC:function(){return f.tC},Ik:function(){return y},wc:function(){return b},Cf:function(){return f.Cf},gM:function(){return m},Qs:function(){return v},Yo:function(){return A.Y},$E:function(){return f.$E},q0:function(){return A.q},Rl:function(){return a},pU:function(){return u},U5:function(){return S.Z},mi:function(){return _.mi},wu:function(){return _.wu},ys:function(){return i},vL:function(){return P.v},pj:function(){return x},br:function(){return _.br},Rp:function(){return j}});var r=n(7301);function o(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function i(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}function a(e){var t=document.createElement("iframe");return t.style.display="none",t.src=e,document.body.appendChild(t)}function u(e,n){n=n.popupTitle||"External Identity Provider User Authentication";return window.open(e,n,"toolbar=no, scrollbars=yes, resizable=yes, top=100, left=500, width=600, height=600")}function s(e,t,n){var a,u;return new Promise(function(i,s){a=function(t){if(t.data&&t.data.state===n)return t.origin!==e.getIssuerOrigin()?s(new r.R("The request does not match client configuration")):void i(t.data)},o(window,"message",a),u=setTimeout(function(){s(new r.R("OAuth flow timed out"))},t||12e4)}).finally(function(){clearTimeout(u),i(window,"message",a)})}var c=n(7756),f=n(9912);function l(e){return/((id|access)_token=)/i.test(e)}function p(e){return/(code=)/i.test(e)}function h(e){return/(interaction_code=)/i.test(e)}function d(e){return/(error=)/i.test(e)||/(error_description)/i.test(e)}function v(e,n){n=n.options;return!(!e||!n.redirectUri)&&0===e.indexOf(n.redirectUri)}function y(e){return e.pkce||"code"===e.responseType||"query"===e.responseMode}function g(e){return y(e)&&"fragment"!==e.responseMode?window.location.search:window.location.hash}function m(n){if(!v(window.location.href,n))return!1;var t=y(n.options),n=g(n.options);return!!d(n)||(t?p(n)||h(n):l(window.location.hash))}function b(e,t){if(!t){if(!m(e))return!1;t=g(e.options)}return/(error=interaction_required)/i.test(t)}var k=n(7599),w=n(4942);function O(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(n,t){n={issuer:n.options.issuer,urls:(0,k.Fc)(n,t),clientId:t.clientId,redirectUri:t.redirectUri,responseType:t.responseType,responseMode:t.responseMode,scopes:t.scopes,state:t.state,nonce:t.nonce,ignoreSignature:t.ignoreSignature};return!1===t.pkce?n:E(E({},n),{},{codeVerifier:t.codeVerifier,codeChallengeMethod:t.codeChallengeMethod,codeChallenge:t.codeChallenge})}var S=n(3611),_=n(6898),A=n(6635),P=n(1969),R=n(9123);function x(e,t,a){var r=a.clientId,o=a.issuer,a=a.nonce;if(!t||!o||!r)throw new R.Z("The jwt, iss, and aud arguments are all required");if(a&&t.nonce!==a)throw new R.Z("OAuth flow response nonce doesn't match request nonce");a=Math.floor(Date.now()/1e3);if(t.iss!==o)throw new R.Z("The issuer ["+t.iss+"] does not match ["+o+"]");if(t.aud!==r)throw new R.Z("The audience ["+t.aud+"] does not match ["+r+"]");if(t.iat>t.exp)throw new R.Z("The JWT expired before it was issued");if(!e.options.ignoreLifetime){if(a-e.options.maxClockSkew>t.exp)throw new R.Z("The JWT expired and is no longer valid");if(t.iat>a+e.options.maxClockSkew)throw new R.Z("The JWT was issued in the future")}}var Z=n(2852);function j(e,t){if(!(0,Z.isIDToken)(e)&&!(0,Z.isAccessToken)(e)&&!(0,Z.isRefreshToken)(e))throw new r.R("Token must be an Object with scopes, expiresAt, and one of: an idToken, accessToken, or refreshToken property");if("accessToken"===t&&!(0,Z.isAccessToken)(e))throw new r.R("invalid accessToken");if("idToken"===t&&!(0,Z.isIDToken)(e))throw new r.R("invalid idToken");if("refreshToken"===t&&!(0,Z.isRefreshToken)(e))throw new r.R("invalid refreshToken")}},7599:function(e,t,n){n.d(t,{aV:function(){return a},NH:function(){return u},zf:function(){return c},Xp:function(){return f},Fc:function(){return l}});var r=n(8750),o=n(6718),i=n(9123);function a(){return(0,r.uh)(64)}function u(){return(0,r.uh)(64)}function s(e,argument_1){return(0,o.Qj)((1<arguments.length&&void 0!==argument_1?argument_1:{}).issuer)||e.options.issuer}function c(n){n=s(n,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return 0<n.indexOf("/oauth2")?n:n+"/oauth2"}function f(e){return s(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).split("/oauth2")[0]}function l(e,p){if(2<arguments.length)throw new i.Z('As of version 3.0, "getOAuthUrls" takes only a single set of options');var n=(0,o.Qj)((p=p||{}).authorizeUrl)||e.options.authorizeUrl,r=s(e,p),a=(0,o.Qj)(p.userinfoUrl)||e.options.userinfoUrl,u=(0,o.Qj)(p.tokenUrl)||e.options.tokenUrl,f=(0,o.Qj)(p.logoutUrl)||e.options.logoutUrl,l=(0,o.Qj)(p.revokeUrl)||e.options.revokeUrl,p=c(e,p);return{issuer:r,authorizeUrl:n||p+"/v1/authorize",userinfoUrl:a||p+"/v1/userinfo",tokenUrl:u||p+"/v1/token",revokeUrl:l||p+"/v1/revoke",logoutUrl:f||p+"/v1/logout"}}},3611:function(e,t,n){var r=n(9326),o=n(1971);function i(e){return("0"+e.toString(16)).substr(-2)}t.Z={DEFAULT_CODE_CHALLENGE_METHOD:o.DEFAULT_CODE_CHALLENGE_METHOD,generateVerifier:function(n){var t,a=n||"";return a.length<o.MIN_VERIFIER_LENGTH&&(a+=(t=o.MIN_VERIFIER_LENGTH-a.length,n=new Uint8Array(Math.ceil(t/2)),r.webcrypto.getRandomValues(n),Array.from(n,i).join("").slice(0,t))),encodeURIComponent(a).slice(0,o.MAX_VERIFIER_LENGTH)},computeChallenge:function(t){t=(new TextEncoder).encode(t);return r.webcrypto.subtle.digest("SHA-256",t).then(function(t){t=String.fromCharCode.apply(null,new Uint8Array(t));return(0,r.stringToBase64Url)(t)})}}},6898:function(e,i,n){n.d(i,{vz:function(){return d},br:function(){return v},mi:function(){return g},wu:function(){return b}});var r=n(4942),o=n(5861),i=n(7757),a=n.n(i),u=n(52),s=n(7301),c=n(7756),f=n(1971),l=n(3611);function p(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){if(!e.features.isPKCESupported()){var t="PKCE requires a modern browser with encryption support running in a secure context.";throw e.features.isHTTPS()||(t+="\nThe current page is not being served with HTTPS protocol. PKCE requires secure HTTPS protocol."),e.features.hasTextEncoder()||(t+='\n"TextEncoder" is not defined. To use PKCE, you may need to include a polyfill/shim for this browser.'),new s.R(t)}}function v(e,t){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(a().mark(function e(t,n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=n||t.options.codeChallengeMethod||f.DEFAULT_CODE_CHALLENGE_METHOD,e.next=3,(0,u.E)(t);case 3:if(-1===(e.sent.code_challenge_methods_supported||[]).indexOf(n))throw new s.R("Invalid code_challenge_method");e.next=7;break;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e,t){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(a().mark(function e(t,n){var o,i,u;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.codeVerifier,i=n.codeChallenge,u=n.codeChallengeMethod,i=i||t.options.codeChallenge){e.next=8;break}return d(t),o=o||l.Z.generateVerifier(),e.next=7,l.Z.computeChallenge(o);case 7:i=e.sent;case 8:return e.next=10,v(t,u);case 10:return u=e.sent,n=h(h({},n),{},{responseType:"code",codeVerifier:o,codeChallenge:i,codeChallengeMethod:u}),e.abrupt("return",n);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(a().mark(function e(t){var n,r,o=arguments;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<o.length&&void 0!==o[1]?o[1]:{},r=(0,c.D)(t),!1===(n=h(h({},r),n)).pkce)return e.abrupt("return",n);e.next=5;break;case 5:return e.abrupt("return",g(t,n));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}},6635:function(e,t,n){n.d(t,{q:function(){return o},Y:function(){return i}});var r=n(7301);function o(e,t){return e.refreshToken===t.refreshToken}function i(e){return!(!(0,r.Tw)(e)||!e.xhr||!e.xhr.responseJSON||"invalid_grant"!==e.xhr.responseJSON.error)}},1969:function(e,t,n){function r(e){var t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=e||"";"#"!==(r="#"===r.charAt(0)&&"/"===r.charAt(1)?r.substring(2):r).charAt(0)&&"?"!==r.charAt(0)||(r=r.substring(1));for(var i={};u=n.exec(r);){var a=u[1],u=u[2];i[a]="id_token"===a||"access_token"===a||"code"===a?u:decodeURIComponent(u.replace(t," "))}return i}n.d(t,{v:function(){return r}})},1260:function(e,o,n){n.d(o,{W:function(){return l}});var r=n(5861),o=n(7757),i=n.n(o),a=n(52),u=n(1060),s=n(7301),c=n(1237),f=n(9326);function l(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark(function e(t,n,r){var o,l,v;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.idToken){e.next=2;break}throw new s.R("Only idTokens may be verified");case 2:return o=(0,c.T)(n.idToken),l=(null==r?void 0:r.issuer)||t.options.issuer,e.next=6,(0,a.E)(t,l);case 6:if(v=e.sent,v=v.issuer,v=Object.assign({clientId:t.options.clientId,ignoreSignature:t.options.ignoreSignature},r,{issuer:v}),(0,u.pj)(t,o.payload,v),1!=v.ignoreSignature&&t.features.isTokenVerifySupported()){e.next=12;break}return e.abrupt("return",n);case 12:return e.next=14,(0,a.k)(t,n.issuer,o.header.kid);case 14:return v=e.sent,e.next=17,f.verifyToken(n.idToken,v);case 17:if(e.sent){e.next=20;break}throw new s.R("The token signature is not valid");case 20:if(r&&r.accessToken&&n.claims.at_hash)return e.next=23,f.getOidcHash(r.accessToken);e.next=26;break;case 23:if(e.sent!==n.claims.at_hash)throw new s.R("Token hash verification failed");e.next=26;break;case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}},e)}))).apply(this,arguments)}},3291:function(e,t,n){n.d(t,{D:function(){return h}});var r=n(5671),o=n(4942),i=n(7735),a=n(3193),u=n(6718),s=n(4771),c=n(9123),f=n(459),l=n(8903),p=n(4393),h=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;(0,r.Z)(this,e),(0,o.Z)(this,"next",void 0),(0,o.Z)(this,"cancel",void 0),(0,o.Z)(this,"skip",void 0),(0,o.Z)(this,"unlock",void 0),(0,o.Z)(this,"changePassword",void 0),(0,o.Z)(this,"resetPassword",void 0),(0,o.Z)(this,"answer",void 0),(0,o.Z)(this,"recovery",void 0),(0,o.Z)(this,"verify",void 0),(0,o.Z)(this,"resend",void 0),(0,o.Z)(this,"activate",void 0),(0,o.Z)(this,"poll",void 0),(0,o.Z)(this,"prev",void 0),(0,o.Z)(this,"data",void 0),(0,o.Z)(this,"stateToken",void 0),(0,o.Z)(this,"sessionToken",void 0),(0,o.Z)(this,"status",void 0),(0,o.Z)(this,"user",void 0),(0,o.Z)(this,"factor",void 0),(0,o.Z)(this,"factors",void 0),(0,o.Z)(this,"policy",void 0),(0,o.Z)(this,"scopes",void 0),(0,o.Z)(this,"target",void 0),(0,o.Z)(this,"authentication",void 0),this.data=void 0,this.status=void 0,n&&(this.data=n,this.data.interactionHandle?this.status=n.status:(Object.assign(this,function v(e,t,n,r){if(n=n||t,n=(0,a.d9)(n),Array.isArray(n)){for(var o=[],i=0,u=n.length;i<u;i++)o.push(v(e,t,n[i],r));return o}var c=n._embedded||{};for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&((0,s.Kn)(c[f])||Array.isArray(c[f]))&&(c[f]=v(e,t,c[f],r));var p=function(e,t,n,r){var i,u,o={};for(i in n._links)Object.prototype.hasOwnProperty.call(n._links,i)&&(u=n._links[i],"next"===i&&(i=u.name),u.type?o[i]=u:"poll"===i?o.poll=(0,l.I)(e,t,r):(u=d(e,t,n,u,r))&&(o[i]=u));return o}(e,t,n,r);return Object.assign(c,p),n=(0,a.CE)(n,"_embedded","_links"),Object.assign(n,c),n}(t,n,n,{})),delete this.stateToken,"RECOVERY_CHALLENGE"!==n.status||n._links||(this.cancel=function(){return Promise.resolve(t.tx.createTransaction())})))};function d(e,t,n,r,o){if(Array.isArray(r))return function(s,u){if(!s)throw new c.Z("Must provide a link name");s=(0,a.sE)(r,{name:s});if(!s)throw new c.Z("No link found for that name");return d(e,t,n,s,o)(u)};if(r.hints&&r.hints.allow&&1===r.hints.allow.length)switch(r.hints.allow[0]){case"GET":return function(){return(0,i.U2)(e,r.href,{withCredentials:!0})};case"POST":return function(d){o&&o.isPolling&&(o.isPolling=!1);var s=(0,f.$)(t,d);"MFA_ENROLL"!==t.status&&"FACTOR_ENROLL"!==t.status||Object.assign(s,{factorType:n.factorType,provider:n.provider});var v={},d=s.autoPush;if(void 0!==d){if("function"==typeof d)try{v.autoPush=!!d()}catch(e){return Promise.reject(new c.Z("AutoPush resulted in an error."))}else null!==d&&(v.autoPush=!!d);s=(0,a.CE)(s,"autoPush")}d=s.rememberDevice;if(void 0!==d){if("function"==typeof d)try{v.rememberDevice=!!d()}catch(e){return Promise.reject(new c.Z("RememberDevice resulted in an error."))}else null!==d&&(v.rememberDevice=!!d);s=(0,a.CE)(s,"rememberDevice")}else s.profile&&void 0!==s.profile.updatePhone&&(s.profile.updatePhone&&(v.updatePhone=!0),s.profile=(0,a.CE)(s.profile,"updatePhone"));v=r.href+(0,u.UK)(v);return(0,p.TG)(e,v,s)}}}},5760:function(){},4393:function(e,t,n){n.d(t,{L0:function(){return u},oN:function(){return s},LB:function(){return c},FO:function(){return f},lI:function(){return l},TG:function(){return p}});var r=n(7735),o=n(9123),i=n(1971),a=n(459);function u(e,t){return t=(0,a.$)(e,t),(0,r.v_)(e,e.getIssuerOrigin()+"/api/v1/authn",t,{withCredentials:!0})}function s(e,t){if(!t||!t.stateToken){var n=e.tx.exists._get(i.STATE_TOKEN_KEY_NAME);if(!n)return Promise.reject(new o.Z("No transaction to resume"));t={stateToken:n}}return e.tx.status(t).then(function(t){return e.tx.createTransaction(t)})}function c(e,t){if(!t||!t.stateToken){var n=e.tx.exists._get(i.STATE_TOKEN_KEY_NAME);if(!n)return Promise.reject(new o.Z("No transaction to evaluate"));t={stateToken:n}}return f(e,t).then(function(t){return e.tx.createTransaction(t)})}function f(e,t){return t=(0,a.$)(e,t),(0,r.v_)(e,e.getIssuerOrigin()+"/api/v1/authn/introspect",t,{withCredentials:!0})}function l(e){return!!e.tx.exists._get(i.STATE_TOKEN_KEY_NAME)}function p(e,t,n,o){return o=Object.assign({withCredentials:!0},o),(0,r.v_)(e,t,n,o).then(function(t){return e.tx.createTransaction(t)})}},2375:function(e,t,n){n.r(t),n.d(t,{introspectAuthn:function(){return r.LB},postToTransaction:function(){return r.TG},resumeTransaction:function(){return r.oN},transactionExists:function(){return r.lI},transactionStatus:function(){return r.L0},transactionStep:function(){return r.FO},AuthTransaction:function(){return o.D},getPollFn:function(){return i.I},addStateToken:function(){return c.$},getStateToken:function(){return c.q}});var s,r=n(4393),o=n(3291),i=n(8903),a=n(5760),u={};for(s in a)["default","introspectAuthn","postToTransaction","resumeTransaction","transactionExists","transactionStatus","transactionStep","AuthTransaction","getPollFn"].indexOf(s)<0&&(u[s]=function(e){return a[e]}.bind(0,s));n.d(t,u);var c=n(459)},8903:function(e,t,n){n.d(t,{I:function(){return p}});var r=n(7735),o=n(4771),i=n(3193),a=n(6718),u=n(8750),s=n(1971),c=n(9123),f=n(6573),l=n(459);function p(e,t,n){return function(p){var h,d,v,y;(0,o.hj)(p)?h=p:(0,o.Kn)(p)&&(h=p.delay,d=p.rememberDevice,v=p.autoPush,y=p.transactionCallBack),h||0===h||(h=s.DEFAULT_POLLING_DELAY);var g=(0,i.Rg)(t,"next","poll");n.isPolling=!0;var m=0;return function o(){return n.isPolling?function(){var o={};if("function"==typeof v)try{o.autoPush=!!v()}catch(e){return Promise.reject(new c.Z("AutoPush resulted in an error."))}else null!=v&&(o.autoPush=!!v);if("function"==typeof d)try{o.rememberDevice=!!d()}catch(e){return Promise.reject(new c.Z("RememberDevice resulted in an error."))}else null!=d&&(o.rememberDevice=!!d);o=g.href+(0,a.UK)(o);return(0,r.v_)(e,o,(0,l.q)(t),{saveAuthnState:!1,withCredentials:!0})}().then(function(t){if(m=0,t.factorResult&&"WAITING"===t.factorResult){if(!n.isPolling)throw new f.Z;return"function"==typeof y&&y(t),(0,u.gw)(h).then(o)}return n.isPolling=!1,e.tx.createTransaction(t)}).catch(function(e){if(e.xhr&&(0===e.xhr.status||429===e.xhr.status)&&m<=4){var t=1e3*Math.pow(2,m);return m++,(0,u.gw)(t).then(o)}throw e}):Promise.reject(new f.Z)}().catch(function(e){throw n.isPolling=!1,e})}}},459:function(e,t,n){function r(e,t){var n={};return Object.assign(n,t),!n.stateToken&&e.stateToken&&(n.stateToken=e.stateToken),n}function o(e){return r(e)}n.d(t,{$:function(){return r},q:function(){return o}})},3031:function(){},2516:function(){},3833:function(){},9573:function(){},4283:function(e,t,n){function r(e){return!!(e&&(e.accessToken||e.idToken||e.refreshToken)&&Array.isArray(e.scopes))}function o(e){return e&&e.accessToken}function i(e){return e&&e.idToken}function a(e){return e&&e.refreshToken}n.d(t,{hD:function(){return r},hv:function(){return o},sI:function(){return i},z9:function(){return a}})},4444:function(e,t,n){n.d(t,{$Y:function(){return r},E:function(){return o},O3:function(){return i},FT:function(){return a},$I:function(){return u},zr:function(){return s}});var r="expired",o="renewed",i="added",a="removed",u="error",s="set_storage"},1925:function(e,t,n){n.d(t,{G5:function(){return i},ZT:function(){return a},sG:function(){return u},rZ:function(){return s},mH:function(){return c}});var r=n(1002);function o(e){return e&&"object"===(0,r.Z)(e)&&0!==Object.values(e).length}function i(e){return!(!o(e)||!e.redirectUri&&!e.responseType)}function a(e){return!!i(e)&&!!e.codeVerifier}function u(e){return!!a(e)&&!!e.interactionHandle}function s(e){return!!o(e)&&void 0===Object.values(e).find(function(e){return"string"!=typeof e})}function c(e){return!(!i(e)&&!s(e))}},6854:function(){},2852:function(e,t,n){n.r(t),n.d(t,{isCustomAuthTransactionMeta:function(){return a.rZ},isIdxTransactionMeta:function(){return a.sG},isOAuthTransactionMeta:function(){return a.G5},isPKCETransactionMeta:function(){return a.ZT},isTransactionMeta:function(){return a.mH},AuthenticatorKey:function(){return s.pc},IdxFeature:function(){return s.Fw},IdxStatus:function(){return s.Qd},isAuthenticator:function(){return s.H},isAccessToken:function(){return f.hv},isIDToken:function(){return f.sI},isRefreshToken:function(){return f.z9},isToken:function(){return f.hD},EVENT_ADDED:function(){return l.O3},EVENT_ERROR:function(){return l.$I},EVENT_EXPIRED:function(){return l.$Y},EVENT_REMOVED:function(){return l.FT},EVENT_RENEWED:function(){return l.E},EVENT_SET_STORAGE:function(){return l.zr},BaseTransaction:function(){return d.BaseTransaction},EmailChallengeTransaction:function(){return d.EmailChallengeTransaction},EmailRole:function(){return d.EmailRole},EmailStatusTransaction:function(){return d.EmailStatusTransaction},EmailTransaction:function(){return d.EmailTransaction},PhoneTransaction:function(){return d.PhoneTransaction},ProfileSchemaTransaction:function(){return d.ProfileSchemaTransaction},ProfileTransaction:function(){return d.ProfileTransaction},Status:function(){return d.Status},addEmail:function(){return d.addEmail},addPhone:function(){return d.addPhone},deleteEmail:function(){return d.deleteEmail},deletePhone:function(){return d.deletePhone},getEmail:function(){return d.getEmail},getEmailChallenge:function(){return d.getEmailChallenge},getEmails:function(){return d.getEmails},getPhone:function(){return d.getPhone},getPhones:function(){return d.getPhones},getProfile:function(){return d.getProfile},getProfileSchema:function(){return d.getProfileSchema},sendEmailChallenge:function(){return d.sendEmailChallenge},sendPhoneChallenge:function(){return d.sendPhoneChallenge},updateProfile:function(){return d.updateProfile},verifyEmailChallenge:function(){return d.verifyEmailChallenge},verifyPhoneChallenge:function(){return d.verifyPhoneChallenge}});var r=n(2516),o={};for(i in r)"default"!==i&&(o[i]=function(e){return r[e]}.bind(0,i));n.d(t,o);var a=n(1925),u=n(3031),o={};for(i in u)["default","isCustomAuthTransactionMeta","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isTransactionMeta"].indexOf(i)<0&&(o[i]=function(e){return u[e]}.bind(0,i));n.d(t,o);var s=n(1384),c=n(3833);for(i in o={},c)["default","isCustomAuthTransactionMeta","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isTransactionMeta","AuthenticatorKey","IdxFeature","IdxStatus","isAuthenticator"].indexOf(i)<0&&(o[i]=function(e){return c[e]}.bind(0,i));n.d(t,o);var f=n(4283),l=n(4444),p=n(9573);for(i in o={},p)["default","isCustomAuthTransactionMeta","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isTransactionMeta","AuthenticatorKey","IdxFeature","IdxStatus","isAuthenticator","isAccessToken","isIDToken","isRefreshToken","isToken","EVENT_ADDED","EVENT_ERROR","EVENT_EXPIRED","EVENT_REMOVED","EVENT_RENEWED","EVENT_SET_STORAGE"].indexOf(i)<0&&(o[i]=function(e){return p[e]}.bind(0,i));n.d(t,o);var i,h=n(6854);for(i in o={},h)["default","isCustomAuthTransactionMeta","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isTransactionMeta","AuthenticatorKey","IdxFeature","IdxStatus","isAuthenticator","isAccessToken","isIDToken","isRefreshToken","isToken","EVENT_ADDED","EVENT_ERROR","EVENT_EXPIRED","EVENT_REMOVED","EVENT_RENEWED","EVENT_SET_STORAGE"].indexOf(i)<0&&(o[i]=function(e){return h[e]}.bind(0,i));n.d(t,o);var d=n(7938)},146:function(e,t,n){function r(){return"undefined"!=typeof window?window.console:"undefined"!=typeof console?console:void 0}function o(){var e=r();return e&&e.log?e:{log:function(){},warn:function(){},group:function(){},groupEnd:function(){}}}function i(e){o().warn("[okta-auth-sdk] WARN: "+e)}function a(e){o().warn("[okta-auth-sdk] DEPRECATION: "+e)}function u(e,t){return function(){return a(e),t.apply(null,arguments)}}n.d(t,{sW:function(){return r},dr:function(){return o},ZK:function(){return i},Rn:function(){return a},VA:function(){return u}})},305:function(e,t,n){n.d(t,{Rn:function(){return r.Rn},VA:function(){return r.VA},dr:function(){return r.dr},sW:function(){return r.sW},ZK:function(){return r.ZK},gw:function(){return o.gw},uh:function(){return o.uh},ng:function(){return o.ng},YQ:function(){return o.YQ},ak:function(){return i.ak},d9:function(){return i.d9},l7:function(){return i.l7},sE:function(){return i.sE},Rg:function(){return i.Rg},CE:function(){return i.CE},YY:function(){return i.YY},mf:function(){return a.mf},hj:function(){return a.hj},Kn:function(){return a.Kn},tI:function(){return a.tI},HD:function(){return a.HD},sD:function(){return u.sD},Qj:function(){return u.Qj},BY:function(){return u.BY},UK:function(){return u.UK},QN:function(){return u.QN},f5:function(){return s.f}});var r=n(146),o=n(8750),i=n(3193),a=n(4771),u=n(6718),s=n(1524)},8750:function(e,t,n){function r(n){n=n.match(/\d+/g),n=Date.UTC(n[0],n[1]-1,n[2],n[3],n[4],n[5]);return new Date(n).toUTCString()}function o(e){for(var t="abcdefghijklnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0,o=t.length;r<e;++r)n+=t[Math.floor(Math.random()*o)];return n}function i(e){return new Promise(function(t){setTimeout(t,e)})}function a(n,t){n=n.split(t);return[n[0],n.splice(1,n.length).join(t)]}n.d(t,{ng:function(){return r},uh:function(){return o},gw:function(){return i},YQ:function(){return a}})},3193:function(e,t,n){function r(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments),r=n.concat(r);return e.apply(t,r)}}function o(){var e=arguments[0];return[].slice.call(arguments,1).forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&void 0!==t[n]&&(e[n]=t[n])}),e}function i(e){var n,r,t={};for(n in e)!Object.prototype.hasOwnProperty.call(e,n)||null!=(r=e[n])&&(t[n]=r);return t}function a(e){if(e){var t=JSON.stringify(e);if(t)return JSON.parse(t)}return e}function u(e){for(var i,t={},n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1==r.indexOf(i)&&(t[i]=e[i]);return a(t)}function s(e,t){for(var n=e.length;n--;){var i,r=e[n],o=!0;for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&r[i]!==t[i]){o=!1;break}if(o)return r}}function c(e,r,n){if(e&&e._links){r=a(e._links[r]);return!(r&&r.name&&n)||r.name===n?r:void 0}}n.d(t,{ak:function(){return r},l7:function(){return o},YY:function(){return i},d9:function(){return a},CE:function(){return u},sE:function(){return s},Rg:function(){return c}})},1524:function(e,t,n){function r(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}n.d(t,{f:function(){return r}})},4771:function(e,t,n){function r(e){return"[object String]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){return"[object Number]"===Object.prototype.toString.call(e)}function a(e){return!!e&&"[object Function]"==={}.toString.call(e)}function u(e){return e&&e.finally&&"function"==typeof e.finally}n.d(t,{HD:function(){return r},Kn:function(){return o},hj:function(){return i},mf:function(){return a},tI:function(){return u}})},6718:function(e,t,n){function r(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)}function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length?arguments[1]:void 0;return r(e)?e:(t=u(t),("/"===e[0]?"".concat(t):"".concat(t,"/")).concat(e))}function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length?arguments[1]:void 0;return"/"===(e=r(e)?e.substring(t.length):e)[0]?e:"/".concat(e)}function a(e){var t=[];if(null!==e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&null!==e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.length?"?"+t.join("&"):""}function u(e){if(e)return e.replace(/^\s+|\s+$/gm,"").replace(/\/+$/,"")}n.d(t,{sD:function(){return r},BY:function(){return o},QN:function(){return i},UK:function(){return a},Qj:function(){return u}})},3615:function(e,t,f){var r=f(4575),o=f(3913),i=f(2205),a=f(8585),u=f(9754);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){i(c,e);var t,n,s=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var o,e=u(t);return e=n?(o=u(this).constructor,Reflect.construct(e,arguments,o)):e.apply(this,arguments),a(this,e)});function c(t){return r(this,c),(t=s.call(this,t||"Promise was canceled")).name="CancelError",t}return o(c,[{key:"isCanceled",get:function(){return!0}}]),c}(f(5957)(Error)),f=function(){function e(t){var n=this;r(this,e),this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise(function(e,r){n._reject=r;function o(e){if(!n._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");n._cancelHandlers.push(e)}return Object.defineProperties(o,{shouldReject:{get:function(){return n._rejectOnCancel},set:function(e){n._rejectOnCancel=e}}}),t(function(t){n._isCanceled&&o.shouldReject||(n._isPending=!1,e(t))},function(e){n._isPending=!1,r(e)},o)})}return o(e,[{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this._promise.catch(e)}},{key:"finally",value:function(e){return this._promise.finally(e)}},{key:"cancel",value:function(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,0<this._cancelHandlers.length)try{var t,n=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this._cancelHandlers);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(e){n.e(e)}finally{n.f()}}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new c(e))}}},{key:"isCanceled",get:function(){return this._isCanceled}}],[{key:"fn",value:function(t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return new e(function(e,n,o){r.push(o),t.apply(void 0,r).then(e,n)})}}}]),e}();Object.setPrototypeOf(f.prototype,Promise.prototype),e.exports=f,e.exports.CancelError=c},4098:function(e,t){var n="undefined"!=typeof self?self:this,o=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var u,s,n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return e="string"!=typeof e?String(e):e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function v(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&e&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}a&&(u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&-1<u.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=c(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),l(e)},p.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},p.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),l(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(r,t){var n,o=(t=t||{}).body;if(r instanceof b){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,t.headers||(this.headers=new p(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,o||null==r._bodyInit||(o=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),-1<m.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function k(e){var t=new FormData;return e.trim().split("&").forEach(function(r){var o;r&&(r=(o=r.split("=")).shift().replace(/\+/g," "),o=o.join("=").replace(/\+/g," "),t.append(decodeURIComponent(r),decodeURIComponent(o)))}),t}function w(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];w.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(n,t){this.message=n,this.name=t;n=Error(n);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,n){return new Promise(function(r,i){var a=new b(e,n);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function s(){u.abort()}u.onload=function(){var t,n={status:u.status,statusText:u.statusText,headers:(o=u.getAllResponseHeaders()||"",t=new p,o.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(r){var o=r.split(":"),r=o.shift().trim();r&&(o=o.join(":").trim(),t.append(r,o))}),t)};n.url="responseURL"in u?u.responseURL:n.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;r(new w(o,n))},u.onerror=function(){i(new TypeError("Network request failed"))},u.ontimeout=function(){i(new TypeError("Network request failed"))},u.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},u.open(a.method,a.url,!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&o&&(u.responseType="blob"),a.headers.forEach(function(e,t){u.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",s),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",s)}),u.send(void 0===a._bodyInit?null:a._bodyInit)})}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=p,e.Request=b,e.Response=w),t.Headers=p,t.Request=b,t.Response=w,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},5643:function(e){e.exports=!1},5666:function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},i=w.iterator||"@@iterator",a=w.asyncIterator||"@@asyncIterator",u=w.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,i,n,a){i=i&&i.prototype instanceof y?i:y,i=Object.create(i.prototype),a=new P(a||[]);return i._invoke=function(e,t,n){var r=l;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;s=f(e,t,n);if("normal"===s.type){if(r=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=d,n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",p="suspendedYield",h="executing",d="completed",v={};function y(){}function g(){}function m(){}var b={};b[i]=function(){return this};w=Object.getPrototypeOf,w=w&&w(w(R([])));w&&w!==n&&r.call(w,i)&&(b=w);var O=m.prototype=y.prototype=Object.create(b);function E(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){function n(s,l,a,u){s=f(e[s],e,l);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,a,u)},function(e){n("throw",e,a,u)}):t.resolve(l).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,u)})}u(s.arg)}var o;this._invoke=function(e,r){function i(){return new t(function(t,o){n(e,r,t,o)})}return o=o?o.then(i,i):i()}}function S(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}i=f(i,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;i=i.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function R(e){if(e){var a=e[i];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return((g.prototype=O.constructor=m).constructor=g).displayName=s(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},E(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(O),s(O,u,"Generator"),O[i]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var n,t=[];for(n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var a=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o,r=n.completion;return"throw"===r.type&&(o=r.arg,A(n)),o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},4279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=t},199:function(){},907:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){function r(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return n(e),0}u.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)})}}n.d(t,{Z:function(){return o}})},5671:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return o}})},4942:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(9611);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},4925:function(e,t,n){function r(e,t){if(null==e)return{};var n,o=function(e,t){if(null==e)return{};for(var n,o={},i=Object.keys(e),r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n]);return o}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(1002),o=n(7326);function i(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}},9611:function(e,t,n){function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},885:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(181);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(907),o=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(907);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{OktaAuth:function(){return t.Z},ACCESS_TOKEN_STORAGE_KEY:function(){return o.ACCESS_TOKEN_STORAGE_KEY},CACHE_STORAGE_NAME:function(){return o.CACHE_STORAGE_NAME},DEFAULT_CACHE_DURATION:function(){return o.DEFAULT_CACHE_DURATION},DEFAULT_CODE_CHALLENGE_METHOD:function(){return o.DEFAULT_CODE_CHALLENGE_METHOD},DEFAULT_MAX_CLOCK_SKEW:function(){return o.DEFAULT_MAX_CLOCK_SKEW},DEFAULT_POLLING_DELAY:function(){return o.DEFAULT_POLLING_DELAY},IDX_API_VERSION:function(){return o.IDX_API_VERSION},IDX_RESPONSE_STORAGE_NAME:function(){return o.IDX_RESPONSE_STORAGE_NAME},ID_TOKEN_STORAGE_KEY:function(){return o.ID_TOKEN_STORAGE_KEY},MAX_VERIFIER_LENGTH:function(){return o.MAX_VERIFIER_LENGTH},MIN_VERIFIER_LENGTH:function(){return o.MIN_VERIFIER_LENGTH},ORIGINAL_URI_STORAGE_NAME:function(){return o.ORIGINAL_URI_STORAGE_NAME},PKCE_STORAGE_NAME:function(){return o.PKCE_STORAGE_NAME},REDIRECT_NONCE_COOKIE_NAME:function(){return o.REDIRECT_NONCE_COOKIE_NAME},REDIRECT_OAUTH_PARAMS_NAME:function(){return o.REDIRECT_OAUTH_PARAMS_NAME},REDIRECT_STATE_COOKIE_NAME:function(){return o.REDIRECT_STATE_COOKIE_NAME},REFERRER_PATH_STORAGE_KEY:function(){return o.REFERRER_PATH_STORAGE_KEY},REFRESH_TOKEN_STORAGE_KEY:function(){return o.REFRESH_TOKEN_STORAGE_KEY},SHARED_TRANSACTION_STORAGE_NAME:function(){return o.SHARED_TRANSACTION_STORAGE_NAME},STATE_TOKEN_KEY_NAME:function(){return o.STATE_TOKEN_KEY_NAME},TOKEN_STORAGE_NAME:function(){return o.TOKEN_STORAGE_NAME},TRANSACTION_STORAGE_NAME:function(){return o.TRANSACTION_STORAGE_NAME},authenticate:function(){return i.YR},canProceed:function(){return i.Ch},cancel:function(){return i.al},clearTransactionMeta:function(){return i.Jm},createTransactionMeta:function(){return i.Xc},getSavedTransactionMeta:function(){return i.uN},getTransactionMeta:function(){return i.Co},handleEmailVerifyCallback:function(){return i.Jn},handleInteractionCodeRedirect:function(){return i.Xx},hasSavedInteractionHandle:function(){return i.$0},interact:function(){return i.EW},introspect:function(){return i.L8},isEmailVerifyCallback:function(){return i.GA},isEmailVerifyCallbackError:function(){return i.gc},isTransactionMetaValid:function(){return i.Wf},isTransactionMetaValidForFlow:function(){return i.bl},isTransactionMetaValidForOptions:function(){return i.UC},parseEmailVerifyCallback:function(){return i.mo},poll:function(){return i.$l},proceed:function(){return i.xc},recoverPassword:function(){return i.M4},register:function(){return i.z2},saveTransactionMeta:function(){return i.r0},startTransaction:function(){return i.Yr},unlockAccount:function(){return i.le},AuthApiError:function(){return f.Ws},AuthPollStopError:function(){return f.j2},AuthSdkError:function(){return f.R},OAuthError:function(){return f.BK},isAuthApiError:function(){return f.Tw},isOAuthError:function(){return f.eo},addListener:function(){return l.NH},addPostMessageListener:function(){return l.iC},assertPKCESupport:function(){return l.vz},buildAuthorizeParams:function(){return l.R0},convertTokenParamsToOAuthParams:function(){return l._6},createOAuthMeta:function(){return l.H},decodeToken:function(){return l.TD},exchangeCodeForTokens:function(){return l.rz},generateNonce:function(){return l.PY},generateState:function(){return l.aV},getDefaultTokenParams:function(){return l.Dx},getHashOrSearch:function(){return l.O2},getKey:function(){return l.km},getOAuthBaseUrl:function(){return l.zf},getOAuthDomain:function(){return l.Xp},getOAuthUrls:function(){return l.Fc},getToken:function(){return l.LP},getUserInfo:function(){return l.bG},getWellKnown:function(){return l.ES},getWithPopup:function(){return l.dh},getWithRedirect:function(){return l.Hq},getWithoutPrompt:function(){return l.y6},handleOAuthResponse:function(){return l.sw},hasAuthorizationCode:function(){return l.ZP},hasErrorInUrl:function(){return l.hg},hasInteractionCode:function(){return l.d_},hasTokensInHash:function(){return l.kU},isAuthorizationCodeError:function(){return l.tC},isCodeFlow:function(){return l.Ik},isInteractionRequired:function(){return l.wc},isInteractionRequiredError:function(){return l.Cf},isLoginRedirect:function(){return l.gM},isRedirectUri:function(){return l.Qs},isRefreshTokenError:function(){return l.Yo},isRefreshTokenInvalidError:function(){return l.$E},isSameRefreshToken:function(){return l.q0},loadFrame:function(){return l.Rl},loadPopup:function(){return l.pU},parseFromUrl:function(){return l.ko},pkce:function(){return l.U5},postRefreshToken:function(){return l.Dp},postToTokenEndpoint:function(){return l.ti},preparePKCE:function(){return l.mi},prepareTokenParams:function(){return l.wu},removeListener:function(){return l.ys},renewToken:function(){return l.$m},renewTokens:function(){return l.IK},renewTokensWithRefresh:function(){return l.Rm},revokeToken:function(){return l.PX},urlParamsToObject:function(){return l.vL},validateClaims:function(){return l.pj},validateCodeChallengeMethod:function(){return l.br},validateToken:function(){return l.Rp},verifyToken:function(){return l.WX},StorageManager:function(){return p.A},TokenManager:function(){return h.M},AuthStateManager:function(){return d.E},INITIAL_AUTH_STATE:function(){return d.a},bind:function(){return v.ak},clone:function(){return v.d9},delay:function(){return v.gw},deprecate:function(){return v.Rn},deprecateWrap:function(){return v.VA},extend:function(){return v.l7},find:function(){return v.sE},genRandomString:function(){return v.uh},getConsole:function(){return v.dr},getLink:function(){return v.Rg},getNativeConsole:function(){return v.sW},isAbsoluteUrl:function(){return v.sD},isFunction:function(){return v.mf},isLocalStorageAvailable:function(){return v.f5},isNumber:function(){return v.hj},isObject:function(){return v.Kn},isPromise:function(){return v.tI},isString:function(){return v.HD},isoToUTCString:function(){return v.ng},omit:function(){return v.CE},removeNils:function(){return v.YY},removeTrailingSlash:function(){return v.Qj},split2:function(){return v.YQ},toAbsoluteUrl:function(){return v.BY},toQueryString:function(){return v.UK},toRelativeUrl:function(){return v.QN},warn:function(){return v.ZK},crypto:function(){return e}});var e=n(9326),t=n(3415),o=n(1971),i=n(4516),a=n(2852),u={};for(s in a)["default","OktaAuth","crypto","ACCESS_TOKEN_STORAGE_KEY","CACHE_STORAGE_NAME","DEFAULT_CACHE_DURATION","DEFAULT_CODE_CHALLENGE_METHOD","DEFAULT_MAX_CLOCK_SKEW","DEFAULT_POLLING_DELAY","IDX_API_VERSION","IDX_RESPONSE_STORAGE_NAME","ID_TOKEN_STORAGE_KEY","MAX_VERIFIER_LENGTH","MIN_VERIFIER_LENGTH","ORIGINAL_URI_STORAGE_NAME","PKCE_STORAGE_NAME","REDIRECT_NONCE_COOKIE_NAME","REDIRECT_OAUTH_PARAMS_NAME","REDIRECT_STATE_COOKIE_NAME","REFERRER_PATH_STORAGE_KEY","REFRESH_TOKEN_STORAGE_KEY","SHARED_TRANSACTION_STORAGE_NAME","STATE_TOKEN_KEY_NAME","TOKEN_STORAGE_NAME","TRANSACTION_STORAGE_NAME","authenticate","canProceed","cancel","clearTransactionMeta","createTransactionMeta","getSavedTransactionMeta","getTransactionMeta","handleEmailVerifyCallback","handleInteractionCodeRedirect","hasSavedInteractionHandle","interact","introspect","isEmailVerifyCallback","isEmailVerifyCallbackError","isTransactionMetaValid","isTransactionMetaValidForFlow","isTransactionMetaValidForOptions","parseEmailVerifyCallback","poll","proceed","recoverPassword","register","saveTransactionMeta","startTransaction","unlockAccount"].indexOf(s)<0&&(u[s]=function(e){return a[e]}.bind(0,s));n.d(r,u);var s,c=n(2375),u={};for(s in c)["default","OktaAuth","crypto","ACCESS_TOKEN_STORAGE_KEY","CACHE_STORAGE_NAME","DEFAULT_CACHE_DURATION","DEFAULT_CODE_CHALLENGE_METHOD","DEFAULT_MAX_CLOCK_SKEW","DEFAULT_POLLING_DELAY","IDX_API_VERSION","IDX_RESPONSE_STORAGE_NAME","ID_TOKEN_STORAGE_KEY","MAX_VERIFIER_LENGTH","MIN_VERIFIER_LENGTH","ORIGINAL_URI_STORAGE_NAME","PKCE_STORAGE_NAME","REDIRECT_NONCE_COOKIE_NAME","REDIRECT_OAUTH_PARAMS_NAME","REDIRECT_STATE_COOKIE_NAME","REFERRER_PATH_STORAGE_KEY","REFRESH_TOKEN_STORAGE_KEY","SHARED_TRANSACTION_STORAGE_NAME","STATE_TOKEN_KEY_NAME","TOKEN_STORAGE_NAME","TRANSACTION_STORAGE_NAME","authenticate","canProceed","cancel","clearTransactionMeta","createTransactionMeta","getSavedTransactionMeta","getTransactionMeta","handleEmailVerifyCallback","handleInteractionCodeRedirect","hasSavedInteractionHandle","interact","introspect","isEmailVerifyCallback","isEmailVerifyCallbackError","isTransactionMetaValid","isTransactionMetaValidForFlow","isTransactionMetaValidForOptions","parseEmailVerifyCallback","poll","proceed","recoverPassword","register","saveTransactionMeta","startTransaction","unlockAccount","AuthenticatorKey","BaseTransaction","EVENT_ADDED","EVENT_ERROR","EVENT_EXPIRED","EVENT_REMOVED","EVENT_RENEWED","EVENT_SET_STORAGE","EmailChallengeTransaction","EmailRole","EmailStatusTransaction","EmailTransaction","IdxFeature","IdxStatus","PhoneTransaction","ProfileSchemaTransaction","ProfileTransaction","Status","addEmail","addPhone","deleteEmail","deletePhone","getEmail","getEmailChallenge","getEmails","getPhone","getPhones","getProfile","getProfileSchema","isAccessToken","isAuthenticator","isCustomAuthTransactionMeta","isIDToken","isIdxTransactionMeta","isOAuthTransactionMeta","isPKCETransactionMeta","isRefreshToken","isToken","isTransactionMeta","sendEmailChallenge","sendPhoneChallenge","updateProfile","verifyEmailChallenge","verifyPhoneChallenge"].indexOf(s)<0&&(u[s]=function(e){return c[e]}.bind(0,s));n.d(r,u);var f=n(7301),l=n(1279),p=n(6311),h=(n(6529),n(8092)),d=n(7913),v=n(305)}(),r}()}(module={exports:{}}),module.exports);(x=oktaAuthJs_umd)&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")&&x.default;var oktaAuthJs_umd_1=oktaAuthJs_umd.toRelativeUrl,oktaAuthJs_umd_4=(oktaAuthJs_umd.isAbsoluteUrl,oktaAuthJs_umd.toAbsoluteUrl,oktaAuthJs_umd.AuthSdkError),oktaAuthJs_umd_5=oktaAuthJs_umd.OktaAuth;function compareVersions(v1,r){const n1=validateAndParse(v1),n2=validateAndParse(r),p1=n1.pop(),p2=n2.pop();r=compareSegments(n1,n2);return 0!==r?r:p1&&p2?compareSegments(p1.split("."),p2.split(".")):p1||p2?p1?-1:1:0}const compare$1=(v1,res,operator)=>{assertValidOperator(operator);res=compareVersions(v1,res);return operatorResMap[operator].includes(res)};compareVersions.validate=v=>"string"==typeof v&&/^[v\d]/.test(v)&&semver.test(v),compareVersions.compare=compare$1,compareVersions.sastisfies=(r2,r3)=>{var r1=r3.match(/^([<>=~^]+)/),op=r1?r1[1]:"=";if("^"!==op&&"~"!==op)return compare$1(r2,r3,op);var[v1,v2,v3]=validateAndParse(r2),[r1,r2,r3]=validateAndParse(r3);return 0===compareStrings(v1,r1)&&("^"===op?0<=compareSegments([v2,v3],[r2,r3]):0===compareStrings(v2,r2)&&0<=compareStrings(v3,r3))};const semver=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,validateAndParse=v=>{if("string"!=typeof v)throw new TypeError("Invalid argument expected string");const match=v.match(semver);if(!match)throw new Error(`Invalid argument not valid semver ('${v}' received)`);return match.shift(),match},isWildcard=s=>"*"===s||"x"===s||"X"===s,tryParse=v=>{var n=parseInt(v,10);return isNaN(n)?v:n},compareStrings=(ap,bp)=>{if(isWildcard(ap)||isWildcard(bp))return 0;var[ap,bp]=((a,b)=>typeof a!=typeof b?[String(a),String(b)]:[a,b])(tryParse(ap),tryParse(bp));return bp<ap?1:ap<bp?-1:0},compareSegments=(a,b)=>{for(let i=0;i<Math.max(a.length,b.length);i++){var r=compareStrings(a[i]||0,b[i]||0);if(0!==r)return r}return 0},operatorResMap={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]},allowedOperators=Object.keys(operatorResMap),assertValidOperator=op=>{if("string"!=typeof op)throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);if(-1===allowedOperators.indexOf(op))throw new Error(`Invalid operator, expected one of ${allowedOperators.join("|")}`)};var OKTA_CONFIG=new core.InjectionToken("okta.config.angular"),OKTA_AUTH=new core.InjectionToken("okta.auth"),OktaCallbackComponent=function(){function OktaCallbackComponent(config,oktaAuth,injector){this.config=config,this.oktaAuth=oktaAuth,this.injector=injector}return OktaCallbackComponent.prototype.ngOnInit=function(){return __awaiter(this,void 0,void 0,function(){var e_1,onAuthResume,callbackFn;return __generator(this,function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.oktaAuth.handleLoginRedirect()];case 1:return _b.sent(),[3,3];case 2:return(e_1=_b.sent(),(this.oktaAuth.isInteractionRequiredError||this.oktaAuth.idx.isInteractionRequiredError)(e_1)&&this.injector&&(callbackFn=this.config,onAuthResume=callbackFn.onAuthResume,callbackFn=callbackFn.onAuthRequired,callbackFn=onAuthResume||callbackFn))?(callbackFn(this.oktaAuth,this.injector),[2]):(this.error=e_1.toString(),[3,3]);case 3:return[2]}})})},__decorate([core.Component({template:"<div>{{error}}</div>"}),__param(0,core.Inject(OKTA_CONFIG)),__param(1,core.Inject(OKTA_AUTH)),__param(2,core.Optional()),__metadata("design:paramtypes",[Object,oktaAuthJs_umd_5,core.Injector])],OktaCallbackComponent)}(),OktaAuthGuard=function(){function OktaAuthGuard(config,oktaAuth,injector){var _this=this;this.config=config,this.oktaAuth=oktaAuth,this.injector=injector,this.updateAuthStateListener=function(authState){authState.isAuthenticated||_this.handleLogin(_this.state.url)},this.onAuthRequired=this.config.onAuthRequired,injector.get(Router).events.pipe(operators.filter(function(e){return e instanceof NavigationStart&&_this.state&&_this.state.url!==e.url})).subscribe(function(){_this.oktaAuth.authStateManager.unsubscribe(_this.updateAuthStateListener)})}return OktaAuthGuard.prototype.canLoad=function(route){return __awaiter(this,void 0,void 0,function(){var originalUri;return __generator(this,function(_a){switch(_a.label){case 0:return this.onAuthRequired=route.data&&route.data.onAuthRequired||this.onAuthRequired,[4,this.oktaAuth.isAuthenticated()];case 1:return _a.sent()?[2,!0]:(originalUri=this.injector.get(Router),originalUri=originalUri.getCurrentNavigation(),originalUri=originalUri?originalUri.extractedUrl.toString():void 0,[4,this.handleLogin(originalUri)]);case 2:return _a.sent(),[2,!1]}})})},OktaAuthGuard.prototype.canActivate=function(route,state){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.state=state,this.onAuthRequired=route.data&&route.data.onAuthRequired||this.onAuthRequired,this.oktaAuth.authStateManager.subscribe(this.updateAuthStateListener),[4,this.oktaAuth.isAuthenticated()];case 1:return _a.sent()?[2,!0]:[4,this.handleLogin(state.url)];case 2:return _a.sent(),[2,!1]}})})},OktaAuthGuard.prototype.canActivateChild=function(route,state){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.canActivate(route,state)]})})},OktaAuthGuard.prototype.handleLogin=function(originalUri){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return this.oktaAuth.setOriginalUri(originalUri),this.onAuthRequired?this.onAuthRequired(this.oktaAuth,this.injector):this.oktaAuth.signInWithRedirect(),[2]})})},__decorate([core.Injectable(),__param(0,core.Inject(OKTA_CONFIG)),__param(1,core.Inject(OKTA_AUTH)),__metadata("design:paramtypes",[Object,oktaAuthJs_umd_5,core.Injector])],OktaAuthGuard)}(),defaultAuthState={isAuthenticated:!1},OktaAuthStateService=function(){function OktaAuthStateService(initialAuthState){this.oktaAuth=initialAuthState,this._authState=new rxjs.BehaviorSubject(defaultAuthState),this.authState$=this._authState.asObservable(),this.updateAuthState=this.updateAuthState.bind(this);initialAuthState=this.oktaAuth.authStateManager.getAuthState()||defaultAuthState;this._authState.next(initialAuthState),this.oktaAuth.authStateManager.subscribe(this.updateAuthState)}return OktaAuthStateService.prototype.ngOnDestroy=function(){this.oktaAuth.authStateManager.unsubscribe(this.updateAuthState)},OktaAuthStateService.prototype.hasAnyGroups=function(groups){var _this=this;return this.authState$.pipe(operators.mergeMap(function(_a){var isAuthenticated=_a.isAuthenticated,idToken=_a.idToken;return __awaiter(_this,void 0,void 0,function(){var key,value,userInfo;return __generator(this,function(_b){switch(_b.label){case 0:return isAuthenticated&&idToken?("string"==typeof groups&&(groups={groups:[groups]}),Array.isArray(groups)&&(groups={groups:groups}),key=Object.keys(groups)[0],value=groups[key],idToken.claims[key]?[2,value.some(function(authority){return idToken.claims[key].includes(authority)})]:[4,this.oktaAuth.getUser()]):[2,!1];case 1:return(userInfo=_b.sent())[key]?[2,value.some(function(authority){return userInfo[key].includes(authority)})]:[2,!1]}})})}))},OktaAuthStateService.prototype.updateAuthState=function(authState){this._authState.next(authState)},__decorate([core.Injectable(),__param(0,core.Inject(OKTA_AUTH)),__metadata("design:paramtypes",[oktaAuthJs_umd_5])],OktaAuthStateService)}(),OktaHasAnyGroupDirective=function(){function OktaHasAnyGroupDirective(templateRef,viewContainer,authStateService){this.templateRef=templateRef,this.viewContainer=viewContainer,this.authStateService=authStateService}return Object.defineProperty(OktaHasAnyGroupDirective.prototype,"oktaHasAnyGroup",{set:function(groups){var _this=this;this.authStateService.hasAnyGroups(groups).subscribe(function(isAuthorized){isAuthorized!==_this.previousIsAuthorized&&(_this.previousIsAuthorized=isAuthorized,_this.viewContainer.clear(),isAuthorized&&_this.viewContainer.createEmbeddedView(_this.templateRef))})},enumerable:!0,configurable:!0}),__decorate([core.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],OktaHasAnyGroupDirective.prototype,"oktaHasAnyGroup",null),__decorate([core.Directive({selector:"[oktaHasAnyGroup]"}),__metadata("design:paramtypes",[core.TemplateRef,core.ViewContainerRef,OktaAuthStateService])],OktaHasAnyGroupDirective)}(),packageInfo_name="@okta/okta-angular",packageInfo_version="5.3.0",packageInfo_authJSMinSupportedVersion="5.3.1";function oktaAuthFactory(config){return config.oktaAuth}OktaAuthModule=function(){function OktaAuthModule(oktaAuth,location,router){var _this=this,oktaAuth=oktaAuth.oktaAuth;if(!(oktaAuth._oktaUserAgent&&compare$1(oktaAuth._oktaUserAgent.getVersion(),packageInfo_authJSMinSupportedVersion,">=")))throw new oktaAuthJs_umd_4("Passed in oktaAuth is not compatible with the SDK, minimum supported okta-auth-js version is "+packageInfo_authJSMinSupportedVersion+".");oktaAuth._oktaUserAgent.addEnvironment(packageInfo_name+"/"+packageInfo_version),oktaAuth._oktaUserAgent.addEnvironment("Angular/"+core.VERSION.full),!oktaAuth.options.restoreOriginalUri&&router&&location&&(oktaAuth.options.restoreOriginalUri=function(_,originalUri){return __awaiter(_this,void 0,void 0,function(){var routePath;return __generator(this,function(_a){return routePath=window.location.origin+location.prepareExternalUrl(""),routePath=oktaAuthJs_umd_1(originalUri||"/",routePath),router.navigateByUrl(routePath),[2]})})}),oktaAuth.start()}return __decorate([core.NgModule({declarations:[OktaCallbackComponent,OktaHasAnyGroupDirective],exports:[OktaCallbackComponent,OktaHasAnyGroupDirective],providers:[OktaAuthGuard,OktaAuthStateService,{provide:OKTA_AUTH,useFactory:oktaAuthFactory,deps:[OKTA_CONFIG]}]}),__param(0,core.Inject(OKTA_CONFIG)),__param(1,core.Optional()),__param(2,core.Optional()),__metadata("design:paramtypes",[Object,common.Location,Router])],OktaAuthModule)}();exports.OKTA_AUTH=OKTA_AUTH,exports.OKTA_CONFIG=OKTA_CONFIG,exports.OktaAuthGuard=OktaAuthGuard,exports.OktaAuthModule=OktaAuthModule,exports.OktaAuthStateService=OktaAuthStateService,exports.OktaCallbackComponent=OktaCallbackComponent,exports.OktaHasAnyGroupDirective=OktaHasAnyGroupDirective,exports.ɵa=oktaAuthFactory,Object.defineProperty(exports,"__esModule",{value:!0})});