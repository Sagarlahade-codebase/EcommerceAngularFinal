import { __decorate, __metadata } from "tslib";
import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';
import { OktaAuthStateService } from './services/auth-state.service';
var OktaHasAnyGroupDirective = /** @class */ (function () {
    function OktaHasAnyGroupDirective(
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    templateRef, viewContainer, authStateService) {
        this.templateRef = templateRef;
        this.viewContainer = viewContainer;
        this.authStateService = authStateService;
    }
    Object.defineProperty(OktaHasAnyGroupDirective.prototype, "oktaHasAnyGroup", {
        set: function (groups) {
            var _this = this;
            this.authStateService.hasAnyGroups(groups)
                .subscribe(function (isAuthorized) {
                // don't update UI if no state change
                if (isAuthorized === _this.previousIsAuthorized) {
                    return;
                }
                _this.previousIsAuthorized = isAuthorized;
                _this.viewContainer.clear();
                if (isAuthorized) {
                    _this.viewContainer.createEmbeddedView(_this.templateRef);
                }
            });
        },
        enumerable: true,
        configurable: true
    });
    __decorate([
        Input(),
        __metadata("design:type", Object),
        __metadata("design:paramtypes", [Object])
    ], OktaHasAnyGroupDirective.prototype, "oktaHasAnyGroup", null);
    OktaHasAnyGroupDirective = __decorate([
        Directive({ selector: '[oktaHasAnyGroup]' }),
        __metadata("design:paramtypes", [TemplateRef,
            ViewContainerRef,
            OktaAuthStateService])
    ], OktaHasAnyGroupDirective);
    return OktaHasAnyGroupDirective;
}());
export { OktaHasAnyGroupDirective };
//# sourceMappingURL=has-any-group.directive.js.map