{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthSdkError from './errors/AuthSdkError.js';\nimport { isLocalStorageAvailable } from './util/storage.js';\nclass SavedObject {\n  constructor(storage, storageName) {\n    if (!storage) {\n      throw new AuthSdkError('\"storage\" is required');\n    }\n    if (typeof storageName !== 'string' || !storageName.length) {\n      throw new AuthSdkError('\"storageName\" is required');\n    }\n    this.storageName = storageName;\n    this.storageProvider = storage;\n  }\n  getItem(key) {\n    return this.getStorage()[key];\n  }\n  setItem(key, value) {\n    return this.updateStorage(key, value);\n  }\n  removeItem(key) {\n    return this.clearStorage(key);\n  }\n  isSharedStorage() {\n    var _a, _b;\n    return isLocalStorageAvailable() && this.storageProvider === localStorage || !!((_b = (_a = this.storageProvider).isSharedStorage) === null || _b === void 0 ? void 0 : _b.call(_a));\n  }\n  getStorage() {\n    var storageString = this.storageProvider.getItem(this.storageName);\n    storageString = storageString || '{}';\n    try {\n      return JSON.parse(storageString);\n    } catch (e) {\n      throw new AuthSdkError('Unable to parse storage string: ' + this.storageName);\n    }\n  }\n  setStorage(obj) {\n    try {\n      var storageString = obj ? JSON.stringify(obj) : '{}';\n      this.storageProvider.setItem(this.storageName, storageString);\n    } catch (e) {\n      throw new AuthSdkError('Unable to set storage: ' + this.storageName);\n    }\n  }\n  clearStorage(key) {\n    if (!key) {\n      if (this.storageProvider.removeItem) {\n        this.storageProvider.removeItem(this.storageName);\n      } else {\n        this.setStorage();\n      }\n      return;\n    }\n    var obj = this.getStorage();\n    delete obj[key];\n    this.setStorage(obj);\n  }\n  updateStorage(key, value) {\n    var obj = this.getStorage();\n    obj[key] = value;\n    this.setStorage(obj);\n  }\n}\nexport { SavedObject as default };","map":{"version":3,"names":["AuthSdkError","isLocalStorageAvailable","SavedObject","constructor","storage","storageName","length","storageProvider","getItem","key","getStorage","setItem","value","updateStorage","removeItem","clearStorage","isSharedStorage","_a","_b","localStorage","call","storageString","JSON","parse","e","setStorage","obj","stringify","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-auth-js/esm/browser/SavedObject.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthSdkError from './errors/AuthSdkError.js';\nimport { isLocalStorageAvailable } from './util/storage.js';\n\nclass SavedObject {\n    constructor(storage, storageName) {\n        if (!storage) {\n            throw new AuthSdkError('\"storage\" is required');\n        }\n        if (typeof storageName !== 'string' || !storageName.length) {\n            throw new AuthSdkError('\"storageName\" is required');\n        }\n        this.storageName = storageName;\n        this.storageProvider = storage;\n    }\n    getItem(key) {\n        return this.getStorage()[key];\n    }\n    setItem(key, value) {\n        return this.updateStorage(key, value);\n    }\n    removeItem(key) {\n        return this.clearStorage(key);\n    }\n    isSharedStorage() {\n        var _a, _b;\n        return isLocalStorageAvailable() && this.storageProvider === localStorage\n            || !!((_b = (_a = this.storageProvider).isSharedStorage) === null || _b === void 0 ? void 0 : _b.call(_a));\n    }\n    getStorage() {\n        var storageString = this.storageProvider.getItem(this.storageName);\n        storageString = storageString || '{}';\n        try {\n            return JSON.parse(storageString);\n        }\n        catch (e) {\n            throw new AuthSdkError('Unable to parse storage string: ' + this.storageName);\n        }\n    }\n    setStorage(obj) {\n        try {\n            var storageString = obj ? JSON.stringify(obj) : '{}';\n            this.storageProvider.setItem(this.storageName, storageString);\n        }\n        catch (e) {\n            throw new AuthSdkError('Unable to set storage: ' + this.storageName);\n        }\n    }\n    clearStorage(key) {\n        if (!key) {\n            if (this.storageProvider.removeItem) {\n                this.storageProvider.removeItem(this.storageName);\n            }\n            else {\n                this.setStorage();\n            }\n            return;\n        }\n        var obj = this.getStorage();\n        delete obj[key];\n        this.setStorage(obj);\n    }\n    updateStorage(key, value) {\n        var obj = this.getStorage();\n        obj[key] = value;\n        this.setStorage(obj);\n    }\n}\n\nexport { SavedObject as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}