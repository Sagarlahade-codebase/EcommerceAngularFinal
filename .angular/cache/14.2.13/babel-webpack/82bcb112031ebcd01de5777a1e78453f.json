{"ast":null,"code":"import { loc, createCallout } from '../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport '../internals/BaseHeader.js';\nimport BaseFooter from '../internals/BaseFooter.js';\nimport BaseForm from '../internals/BaseForm.js';\nimport '../internals/BaseFormWithPolling.js';\nimport '../internals/BaseOktaVerifyChallengeView.js';\nimport BaseView from '../internals/BaseView.js';\nimport '../components/AuthenticatorEnrollOptions.js';\nimport '../components/AuthenticatorVerifyOptions.js';\nimport '../../../util/FactorUtil.js';\nimport '../../../v1/views/admin-consent/ScopeList.js';\nimport '../../../v1/views/consent/ScopeList.js';\nimport './captcha/CaptchaView.js';\nimport { getSkipSetupLink, getReloadPageButtonLink, getBackToSignInLink } from '../utils/LinksUtil.js';\nimport EmailAuthenticatorHeader from '../components/EmailAuthenticatorHeader.js';\nimport { OTPInformationTerminalView } from './consent/EmailMagicLinkOTPTerminalView.js';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage.js';\nconst RETURN_LINK_EXPIRED_KEY = 'idx.return.link.expired';\nconst IDX_RETURN_LINK_OTP_ONLY = 'idx.enter.otp.in.original.tab';\nconst SAFE_MODE_KEY_PREFIX = 'idx.error.server.safe.mode';\nconst UNLOCK_ACCOUNT_TERMINAL_KEY = 'oie.selfservice.unlock_user.success.message';\nconst UNLOCK_ACCOUNT_FAILED_PERMISSIONS = 'oie.selfservice.unlock_user.challenge.failed.permissions';\nconst RESET_PASSWORD_NOT_ALLOWED = 'oie.selfservice.reset.password.not.allowed';\nconst RETURN_TO_ORIGINAL_TAB_KEY = 'idx.return.to.original.tab';\nconst OPERATION_CANCELED_ON_OTHER_DEVICE_KEY = 'idx.operation.cancelled.on.other.device';\nconst OPERATION_CANCELED_BY_USER_KEY = 'idx.operation.cancelled.by.user';\nconst DEVICE_ACTIVATED = 'idx.device.activated';\nconst DEVICE_NOT_ACTIVATED_CONSENT_DENIED = 'idx.device.not.activated.consent.denied';\nconst DEVICE_NOT_ACTIVATED_INTERNAL_ERROR = 'idx.device.not.activated.internal.error';\nconst FLOW_CONTINUE_IN_NEW_TAB = 'idx.transferred.to.new.tab';\nconst EMAIL_LINK_OUT_OF_DATE = 'idx.return.stale';\nconst EMAIL_LINK_CANT_BE_PROCESSED = 'idx.return.error';\nconst EMAIL_VERIFICATION_REQUIRED = 'idx.email.verification.required';\nconst EMAIL_ACTIVATION_EMAIL_EXPIRE = 'idx.expired.activation.token';\nconst EMAIL_ACTIVATION_EMAIL_INVALID = 'idx.missing.activation.token';\nconst EMAIL_ACTIVATION_EMAIL_SUBMITTED = 'idx.request.activation.email';\nconst EMAIL_ACTIVATION_EMAIL_SUSPENDED = 'idx.activating.inactive.user';\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\nconst REGISTRATION_NOT_ENABLED = 'oie.registration.is.not.enabled';\nconst FORGOT_PASSWORD_NOT_ENABLED = 'oie.forgot.password.is.not.enabled';\nconst EMAIL_AUTHENTICATOR_TERMINAL_KEYS = [FLOW_CONTINUE_IN_NEW_TAB, EMAIL_LINK_OUT_OF_DATE, EMAIL_LINK_CANT_BE_PROCESSED, EMAIL_VERIFICATION_REQUIRED, RETURN_TO_ORIGINAL_TAB_KEY, RETURN_LINK_EXPIRED_KEY, OPERATION_CANCELED_ON_OTHER_DEVICE_KEY, OPERATION_CANCELED_BY_USER_KEY, IDX_RETURN_LINK_OTP_ONLY];\nconst DEVICE_CODE_ERROR_KEYS = [DEVICE_NOT_ACTIVATED_CONSENT_DENIED, DEVICE_NOT_ACTIVATED_INTERNAL_ERROR];\nconst DEVICE_CODE_FLOW_TERMINAL_KEYS = [DEVICE_ACTIVATED, ...DEVICE_CODE_ERROR_KEYS]; // These terminal views build their own links, basically they have cancel remediation in error response\n// Or doesn't require a Back to Sign in link because the flow didn't start from login screen\n\nconst NO_BACKTOSIGNIN_LINK_VIEWS = [UNLOCK_ACCOUNT_TERMINAL_KEY, RETURN_TO_ORIGINAL_TAB_KEY, FLOW_CONTINUE_IN_NEW_TAB, OPERATION_CANCELED_ON_OTHER_DEVICE_KEY, ...DEVICE_CODE_FLOW_TERMINAL_KEYS, UNLOCK_ACCOUNT_FAILED_PERMISSIONS, RESET_PASSWORD_NOT_ALLOWED, IDX_RETURN_LINK_OTP_ONLY]; // Key map to transform terminal view titles {ApiKey : WidgetKey}  \n\nconst terminalViewTitles = {\n  [RETURN_LINK_EXPIRED_KEY]: 'oie.email.return.link.expired.title',\n  [UNLOCK_ACCOUNT_TERMINAL_KEY]: 'account.unlock.unlocked.title',\n  [DEVICE_ACTIVATED]: 'device.code.activated.success.title',\n  [REGISTRATION_NOT_ENABLED]: 'oie.registration.form.title',\n  [FORGOT_PASSWORD_NOT_ENABLED]: 'password.reset.title.generic',\n  [EMAIL_ACTIVATION_EMAIL_EXPIRE]: 'oie.activation.request.email.title.expire',\n  [EMAIL_ACTIVATION_EMAIL_SUBMITTED]: 'oie.activation.request.email.title.submitted',\n  [EMAIL_ACTIVATION_EMAIL_SUSPENDED]: 'oie.activation.request.email.title.suspended',\n  [EMAIL_ACTIVATION_EMAIL_INVALID]: 'oie.activation.request.email.title.invalid',\n  [DEVICE_NOT_ACTIVATED_CONSENT_DENIED]: 'device.code.activated.error.title',\n  [DEVICE_NOT_ACTIVATED_INTERNAL_ERROR]: 'device.code.activated.error.title',\n  [RETURN_TO_ORIGINAL_TAB_KEY]: 'oie.consent.enduser.email.allow.title',\n  [IDX_RETURN_LINK_OTP_ONLY]: 'idx.return.link.otponly.your.verification.code'\n};\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n  postRender: function () {\n    BaseForm.prototype.postRender.apply(this, arguments);\n    this.$el.addClass('terminal-state'); // show device code terminal icons\n\n    if (this.options.appState.containsMessageWithI18nKey(DEVICE_CODE_FLOW_TERMINAL_KEYS)) {\n      const iconClass = this.options.appState.containsMessageWithI18nKey(DEVICE_ACTIVATED) ? 'success-24-green' : 'error-24-red';\n      this.$('.o-form-head').before('<div class=\"device-code-terminal--icon-container\">' + '<span class=\"device-code-terminal--icon ' + iconClass + '\"></span>' + '</div>');\n    }\n  },\n  title: function () {\n    return this.getTerminalViewTitle();\n  },\n  getTerminalViewTitle: function () {\n    if (this.options.appState.containsMessageStartingWithI18nKey(SAFE_MODE_KEY_PREFIX)) {\n      return loc('oie.safe.mode.title', 'login');\n    }\n    const apiKeys = Object.keys(terminalViewTitles);\n    const key = apiKeys.find(key => this.options.appState.containsMessageWithI18nKey(key));\n    if (key) {\n      return loc(terminalViewTitles[key], 'login');\n    }\n  },\n  showMessages: function () {\n    const messagesObjs = this.options.appState.get('messages');\n    let hasCustomView = false;\n    let description;\n    if (this.options.appState.containsMessageWithI18nKey(OPERATION_CANCELED_ON_OTHER_DEVICE_KEY)) {\n      description = loc('idx.operation.cancelled.on.other.device', 'login');\n      messagesObjs.value.push({\n        message: loc('oie.consent.enduser.deny.description', 'login')\n      });\n    } else if (this.options.appState.containsMessageWithI18nKey(RETURN_TO_ORIGINAL_TAB_KEY)) {\n      description = loc('oie.consent.enduser.email.allow.description', 'login');\n      messagesObjs.value.push({\n        message: loc('oie.return.to.original.tab', 'login')\n      });\n    } else if (this.options.appState.containsMessageWithI18nKey('tooManyRequests')) {\n      description = loc('oie.tooManyRequests', 'login');\n    } else if (this.options.appState.containsMessageWithI18nKey(RETURN_LINK_EXPIRED_KEY)) {\n      messagesObjs.value[0].class = 'ERROR';\n    } else if (this.options.appState.containsMessageWithI18nKey(IDX_RETURN_LINK_OTP_ONLY)) {\n      this.add(OTPInformationTerminalView);\n      hasCustomView = true;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({\n          message: messagesObjs.value[0].message,\n          links: messagesObjs.value[0].links\n        })\n      }));\n      hasCustomView = true;\n    }\n    if (description && Array.isArray(messagesObjs === null || messagesObjs === void 0 ? void 0 : messagesObjs.value)) {\n      messagesObjs.value[0].message = description;\n    }\n    this.options.appState.set('messages', messagesObjs);\n    if (!hasCustomView) {\n      BaseForm.prototype.showMessages.call(this);\n    }\n  }\n});\nconst Footer = BaseFooter.extend({\n  // All terminal views should have Back to sign in link either widget configured or server configured.\n  links: function () {\n    if (this.options.appState.containsMessageStartingWithI18nKey(SAFE_MODE_KEY_PREFIX)) {\n      return getSkipSetupLink(this.options.appState);\n    }\n    if (this.options.appState.containsMessageWithI18nKey(DEVICE_CODE_ERROR_KEYS)) {\n      return getReloadPageButtonLink();\n    } // If cancel object exists idx response then view would take care of rendering back to sign in link\n\n    if (!this.options.appState.hasActionObject('cancel') && !this.options.appState.containsMessageWithI18nKey(NO_BACKTOSIGNIN_LINK_VIEWS)) {\n      // TODO OKTA-432869 \"back to sign in\" links to org baseUrl, does not work correctly with embedded widget\n      return getBackToSignInLink(this.options);\n    }\n  }\n});\nvar TerminalView = BaseView.extend({\n  initialize: function () {\n    BaseView.prototype.initialize.apply(this, arguments);\n    if (this.options.appState.containsMessageWithI18nKey(EMAIL_AUTHENTICATOR_TERMINAL_KEYS)) {\n      this.Header = EmailAuthenticatorHeader;\n    }\n  },\n  Body: Body,\n  Footer: Footer\n});\nexport { FORGOT_PASSWORD_NOT_ENABLED, REGISTRATION_NOT_ENABLED, TerminalView as default };","map":{"version":3,"names":["loc","createCallout","BaseFooter","BaseForm","BaseView","getSkipSetupLink","getReloadPageButtonLink","getBackToSignInLink","EmailAuthenticatorHeader","OTPInformationTerminalView","CustomAccessDeniedErrorMessage","RETURN_LINK_EXPIRED_KEY","IDX_RETURN_LINK_OTP_ONLY","SAFE_MODE_KEY_PREFIX","UNLOCK_ACCOUNT_TERMINAL_KEY","UNLOCK_ACCOUNT_FAILED_PERMISSIONS","RESET_PASSWORD_NOT_ALLOWED","RETURN_TO_ORIGINAL_TAB_KEY","OPERATION_CANCELED_ON_OTHER_DEVICE_KEY","OPERATION_CANCELED_BY_USER_KEY","DEVICE_ACTIVATED","DEVICE_NOT_ACTIVATED_CONSENT_DENIED","DEVICE_NOT_ACTIVATED_INTERNAL_ERROR","FLOW_CONTINUE_IN_NEW_TAB","EMAIL_LINK_OUT_OF_DATE","EMAIL_LINK_CANT_BE_PROCESSED","EMAIL_VERIFICATION_REQUIRED","EMAIL_ACTIVATION_EMAIL_EXPIRE","EMAIL_ACTIVATION_EMAIL_INVALID","EMAIL_ACTIVATION_EMAIL_SUBMITTED","EMAIL_ACTIVATION_EMAIL_SUSPENDED","CUSTOM_ACCESS_DENIED_KEY","REGISTRATION_NOT_ENABLED","FORGOT_PASSWORD_NOT_ENABLED","EMAIL_AUTHENTICATOR_TERMINAL_KEYS","DEVICE_CODE_ERROR_KEYS","DEVICE_CODE_FLOW_TERMINAL_KEYS","NO_BACKTOSIGNIN_LINK_VIEWS","terminalViewTitles","Body","extend","noButtonBar","postRender","prototype","apply","arguments","$el","addClass","options","appState","containsMessageWithI18nKey","iconClass","$","before","title","getTerminalViewTitle","containsMessageStartingWithI18nKey","apiKeys","Object","keys","key","find","showMessages","messagesObjs","get","hasCustomView","description","value","push","message","class","add","type","content","links","Array","isArray","set","call","Footer","hasActionObject","TerminalView","initialize","Header","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v2/view-builder/views/TerminalView.js"],"sourcesContent":["import { loc, createCallout } from '../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport '../internals/BaseHeader.js';\nimport BaseFooter from '../internals/BaseFooter.js';\nimport BaseForm from '../internals/BaseForm.js';\nimport '../internals/BaseFormWithPolling.js';\nimport '../internals/BaseOktaVerifyChallengeView.js';\nimport BaseView from '../internals/BaseView.js';\nimport '../components/AuthenticatorEnrollOptions.js';\nimport '../components/AuthenticatorVerifyOptions.js';\nimport '../../../util/FactorUtil.js';\nimport '../../../v1/views/admin-consent/ScopeList.js';\nimport '../../../v1/views/consent/ScopeList.js';\nimport './captcha/CaptchaView.js';\nimport { getSkipSetupLink, getReloadPageButtonLink, getBackToSignInLink } from '../utils/LinksUtil.js';\nimport EmailAuthenticatorHeader from '../components/EmailAuthenticatorHeader.js';\nimport { OTPInformationTerminalView } from './consent/EmailMagicLinkOTPTerminalView.js';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage.js';\n\nconst RETURN_LINK_EXPIRED_KEY = 'idx.return.link.expired';\nconst IDX_RETURN_LINK_OTP_ONLY = 'idx.enter.otp.in.original.tab';\nconst SAFE_MODE_KEY_PREFIX = 'idx.error.server.safe.mode';\nconst UNLOCK_ACCOUNT_TERMINAL_KEY = 'oie.selfservice.unlock_user.success.message';\nconst UNLOCK_ACCOUNT_FAILED_PERMISSIONS = 'oie.selfservice.unlock_user.challenge.failed.permissions';\nconst RESET_PASSWORD_NOT_ALLOWED = 'oie.selfservice.reset.password.not.allowed';\nconst RETURN_TO_ORIGINAL_TAB_KEY = 'idx.return.to.original.tab';\nconst OPERATION_CANCELED_ON_OTHER_DEVICE_KEY = 'idx.operation.cancelled.on.other.device';\nconst OPERATION_CANCELED_BY_USER_KEY = 'idx.operation.cancelled.by.user';\nconst DEVICE_ACTIVATED = 'idx.device.activated';\nconst DEVICE_NOT_ACTIVATED_CONSENT_DENIED = 'idx.device.not.activated.consent.denied';\nconst DEVICE_NOT_ACTIVATED_INTERNAL_ERROR = 'idx.device.not.activated.internal.error';\nconst FLOW_CONTINUE_IN_NEW_TAB = 'idx.transferred.to.new.tab';\nconst EMAIL_LINK_OUT_OF_DATE = 'idx.return.stale';\nconst EMAIL_LINK_CANT_BE_PROCESSED = 'idx.return.error';\nconst EMAIL_VERIFICATION_REQUIRED = 'idx.email.verification.required';\nconst EMAIL_ACTIVATION_EMAIL_EXPIRE = 'idx.expired.activation.token';\nconst EMAIL_ACTIVATION_EMAIL_INVALID = 'idx.missing.activation.token';\nconst EMAIL_ACTIVATION_EMAIL_SUBMITTED = 'idx.request.activation.email';\nconst EMAIL_ACTIVATION_EMAIL_SUSPENDED = 'idx.activating.inactive.user';\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\nconst REGISTRATION_NOT_ENABLED = 'oie.registration.is.not.enabled';\nconst FORGOT_PASSWORD_NOT_ENABLED = 'oie.forgot.password.is.not.enabled';\nconst EMAIL_AUTHENTICATOR_TERMINAL_KEYS = [FLOW_CONTINUE_IN_NEW_TAB, EMAIL_LINK_OUT_OF_DATE, EMAIL_LINK_CANT_BE_PROCESSED, EMAIL_VERIFICATION_REQUIRED, RETURN_TO_ORIGINAL_TAB_KEY, RETURN_LINK_EXPIRED_KEY, OPERATION_CANCELED_ON_OTHER_DEVICE_KEY, OPERATION_CANCELED_BY_USER_KEY, IDX_RETURN_LINK_OTP_ONLY];\nconst DEVICE_CODE_ERROR_KEYS = [DEVICE_NOT_ACTIVATED_CONSENT_DENIED, DEVICE_NOT_ACTIVATED_INTERNAL_ERROR];\nconst DEVICE_CODE_FLOW_TERMINAL_KEYS = [DEVICE_ACTIVATED, ...DEVICE_CODE_ERROR_KEYS]; // These terminal views build their own links, basically they have cancel remediation in error response\n// Or doesn't require a Back to Sign in link because the flow didn't start from login screen\n\nconst NO_BACKTOSIGNIN_LINK_VIEWS = [UNLOCK_ACCOUNT_TERMINAL_KEY, RETURN_TO_ORIGINAL_TAB_KEY, FLOW_CONTINUE_IN_NEW_TAB, OPERATION_CANCELED_ON_OTHER_DEVICE_KEY, ...DEVICE_CODE_FLOW_TERMINAL_KEYS, UNLOCK_ACCOUNT_FAILED_PERMISSIONS, RESET_PASSWORD_NOT_ALLOWED, IDX_RETURN_LINK_OTP_ONLY]; // Key map to transform terminal view titles {ApiKey : WidgetKey}  \n\nconst terminalViewTitles = {\n  [RETURN_LINK_EXPIRED_KEY]: 'oie.email.return.link.expired.title',\n  [UNLOCK_ACCOUNT_TERMINAL_KEY]: 'account.unlock.unlocked.title',\n  [DEVICE_ACTIVATED]: 'device.code.activated.success.title',\n  [REGISTRATION_NOT_ENABLED]: 'oie.registration.form.title',\n  [FORGOT_PASSWORD_NOT_ENABLED]: 'password.reset.title.generic',\n  [EMAIL_ACTIVATION_EMAIL_EXPIRE]: 'oie.activation.request.email.title.expire',\n  [EMAIL_ACTIVATION_EMAIL_SUBMITTED]: 'oie.activation.request.email.title.submitted',\n  [EMAIL_ACTIVATION_EMAIL_SUSPENDED]: 'oie.activation.request.email.title.suspended',\n  [EMAIL_ACTIVATION_EMAIL_INVALID]: 'oie.activation.request.email.title.invalid',\n  [DEVICE_NOT_ACTIVATED_CONSENT_DENIED]: 'device.code.activated.error.title',\n  [DEVICE_NOT_ACTIVATED_INTERNAL_ERROR]: 'device.code.activated.error.title',\n  [RETURN_TO_ORIGINAL_TAB_KEY]: 'oie.consent.enduser.email.allow.title',\n  [IDX_RETURN_LINK_OTP_ONLY]: 'idx.return.link.otponly.your.verification.code'\n};\nconst Body = BaseForm.extend({\n  noButtonBar: true,\n  postRender: function () {\n    BaseForm.prototype.postRender.apply(this, arguments);\n    this.$el.addClass('terminal-state'); // show device code terminal icons\n\n    if (this.options.appState.containsMessageWithI18nKey(DEVICE_CODE_FLOW_TERMINAL_KEYS)) {\n      const iconClass = this.options.appState.containsMessageWithI18nKey(DEVICE_ACTIVATED) ? 'success-24-green' : 'error-24-red';\n      this.$('.o-form-head').before('<div class=\"device-code-terminal--icon-container\">' + '<span class=\"device-code-terminal--icon ' + iconClass + '\"></span>' + '</div>');\n    }\n  },\n  title: function () {\n    return this.getTerminalViewTitle();\n  },\n  getTerminalViewTitle: function () {\n    if (this.options.appState.containsMessageStartingWithI18nKey(SAFE_MODE_KEY_PREFIX)) {\n      return loc('oie.safe.mode.title', 'login');\n    }\n\n    const apiKeys = Object.keys(terminalViewTitles);\n    const key = apiKeys.find(key => this.options.appState.containsMessageWithI18nKey(key));\n\n    if (key) {\n      return loc(terminalViewTitles[key], 'login');\n    }\n  },\n  showMessages: function () {\n    const messagesObjs = this.options.appState.get('messages');\n    let hasCustomView = false;\n    let description;\n\n    if (this.options.appState.containsMessageWithI18nKey(OPERATION_CANCELED_ON_OTHER_DEVICE_KEY)) {\n      description = loc('idx.operation.cancelled.on.other.device', 'login');\n      messagesObjs.value.push({\n        message: loc('oie.consent.enduser.deny.description', 'login')\n      });\n    } else if (this.options.appState.containsMessageWithI18nKey(RETURN_TO_ORIGINAL_TAB_KEY)) {\n      description = loc('oie.consent.enduser.email.allow.description', 'login');\n      messagesObjs.value.push({\n        message: loc('oie.return.to.original.tab', 'login')\n      });\n    } else if (this.options.appState.containsMessageWithI18nKey('tooManyRequests')) {\n      description = loc('oie.tooManyRequests', 'login');\n    } else if (this.options.appState.containsMessageWithI18nKey(RETURN_LINK_EXPIRED_KEY)) {\n      messagesObjs.value[0].class = 'ERROR';\n    } else if (this.options.appState.containsMessageWithI18nKey(IDX_RETURN_LINK_OTP_ONLY)) {\n      this.add(OTPInformationTerminalView);\n      hasCustomView = true;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({\n          message: messagesObjs.value[0].message,\n          links: messagesObjs.value[0].links\n        })\n      }));\n      hasCustomView = true;\n    }\n\n    if (description && Array.isArray(messagesObjs === null || messagesObjs === void 0 ? void 0 : messagesObjs.value)) {\n      messagesObjs.value[0].message = description;\n    }\n\n    this.options.appState.set('messages', messagesObjs);\n\n    if (!hasCustomView) {\n      BaseForm.prototype.showMessages.call(this);\n    }\n  }\n});\nconst Footer = BaseFooter.extend({\n  // All terminal views should have Back to sign in link either widget configured or server configured.\n  links: function () {\n    if (this.options.appState.containsMessageStartingWithI18nKey(SAFE_MODE_KEY_PREFIX)) {\n      return getSkipSetupLink(this.options.appState);\n    }\n\n    if (this.options.appState.containsMessageWithI18nKey(DEVICE_CODE_ERROR_KEYS)) {\n      return getReloadPageButtonLink();\n    } // If cancel object exists idx response then view would take care of rendering back to sign in link\n\n\n    if (!this.options.appState.hasActionObject('cancel') && !this.options.appState.containsMessageWithI18nKey(NO_BACKTOSIGNIN_LINK_VIEWS)) {\n      // TODO OKTA-432869 \"back to sign in\" links to org baseUrl, does not work correctly with embedded widget\n      return getBackToSignInLink(this.options);\n    }\n  }\n});\nvar TerminalView = BaseView.extend({\n  initialize: function () {\n    BaseView.prototype.initialize.apply(this, arguments);\n\n    if (this.options.appState.containsMessageWithI18nKey(EMAIL_AUTHENTICATOR_TERMINAL_KEYS)) {\n      this.Header = EmailAuthenticatorHeader;\n    }\n  },\n  Body: Body,\n  Footer: Footer\n});\n\nexport { FORGOT_PASSWORD_NOT_ENABLED, REGISTRATION_NOT_ENABLED, TerminalView as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}