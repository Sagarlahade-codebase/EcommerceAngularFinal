{"ast":null,"code":"import { loc } from '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport BaseLoginModel from './BaseLoginModel.js';\n\n/*!\n * Copyright (c) 2019, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the 'License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar EnrollUser = BaseLoginModel.extend({\n  initialize: function (options) {\n    this.options = options || {};\n    this.appState = this.options.appState;\n  },\n  constructPostData: function (profileAttributes) {\n    const postData = {\n      registration: {\n        profile: profileAttributes\n      }\n    }; // send createNewAccount flag for new user creation\n\n    if (this.appState.get('policy').registration.createNewAccount) {\n      postData.registration['createNewAccount'] = true;\n    }\n    return postData;\n  },\n  getEnrollFormData: function () {\n    return this.manageTransaction(function (transaction, setTransaction) {\n      return transaction.enroll().then(function (trans) {\n        setTransaction(trans);\n      });\n    });\n  },\n  save: function () {\n    let data = BaseLoginModel.prototype.toJSON.apply(this, arguments);\n    data = oktaUnderscore.omit(data, ['appState', 'settings', 'createNewAccount']);\n    if (oktaUnderscore.isEmpty(data)) {\n      const error = {\n        errorSummary: loc('oform.errorbanner.title', 'login')\n      };\n      this.trigger('error', this, {\n        responseJSON: error\n      });\n    } else {\n      return this.manageTransaction(function (transaction, setTransaction) {\n        transaction.enroll(this.constructPostData(data)).then(function (trans) {\n          setTransaction(trans);\n        });\n      });\n    }\n  }\n});\nexport { EnrollUser as default };","map":{"version":3,"names":["loc","oktaUnderscore","BaseLoginModel","EnrollUser","extend","initialize","options","appState","constructPostData","profileAttributes","postData","registration","profile","get","createNewAccount","getEnrollFormData","manageTransaction","transaction","setTransaction","enroll","then","trans","save","data","prototype","toJSON","apply","arguments","omit","isEmpty","error","errorSummary","trigger","responseJSON","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v1/models/EnrollUser.js"],"sourcesContent":["import { loc } from '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport BaseLoginModel from './BaseLoginModel.js';\n\n/*!\n * Copyright (c) 2019, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the 'License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nvar EnrollUser = BaseLoginModel.extend({\n  initialize: function (options) {\n    this.options = options || {};\n    this.appState = this.options.appState;\n  },\n  constructPostData: function (profileAttributes) {\n    const postData = {\n      registration: {\n        profile: profileAttributes\n      }\n    }; // send createNewAccount flag for new user creation\n\n    if (this.appState.get('policy').registration.createNewAccount) {\n      postData.registration['createNewAccount'] = true;\n    }\n\n    return postData;\n  },\n  getEnrollFormData: function () {\n    return this.manageTransaction(function (transaction, setTransaction) {\n      return transaction.enroll().then(function (trans) {\n        setTransaction(trans);\n      });\n    });\n  },\n  save: function () {\n    let data = BaseLoginModel.prototype.toJSON.apply(this, arguments);\n    data = oktaUnderscore.omit(data, ['appState', 'settings', 'createNewAccount']);\n\n    if (oktaUnderscore.isEmpty(data)) {\n      const error = {\n        errorSummary: loc('oform.errorbanner.title', 'login')\n      };\n      this.trigger('error', this, {\n        responseJSON: error\n      });\n    } else {\n      return this.manageTransaction(function (transaction, setTransaction) {\n        transaction.enroll(this.constructPostData(data)).then(function (trans) {\n          setTransaction(trans);\n        });\n      });\n    }\n  }\n});\n\nexport { EnrollUser as default };\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,wEAAwE;AAC5F,OAAO,wFAAwF;AAC/F,OAAO,oFAAoF;AAC3F,OAAO,uFAAuF;AAC9F,OAAO,qFAAqF;AAC5F,OAAO,oFAAoF;AAC3F,OAAO,yFAAyF;AAChG,OAAO,+FAA+F;AACtG,OAAO,yEAAyE;AAChF,OAAO,6EAA6E;AACpF,OAAO,6EAA6E;AACpF,OAAOC,cAAc,MAAM,iFAAiF;AAC5G,OAAO,sEAAsE;AAC7E,OAAO,0EAA0E;AACjF,OAAO,wEAAwE;AAC/E,OAAO,iFAAiF;AACxF,OAAOC,cAAc,MAAM,qBAAqB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,UAAU,GAAGD,cAAc,CAACE,MAAM,CAAC;EACrCC,UAAU,EAAE,SAAAA,CAAUC,OAAO,EAAE;IAC7B,IAAI,CAACA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IAC5B,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACD,OAAO,CAACC,QAAQ;EACvC,CAAC;EACDC,iBAAiB,EAAE,SAAAA,CAAUC,iBAAiB,EAAE;IAC9C,MAAMC,QAAQ,GAAG;MACfC,YAAY,EAAE;QACZC,OAAO,EAAEH;MACX;IACF,CAAC,CAAC,CAAC;;IAEH,IAAI,IAAI,CAACF,QAAQ,CAACM,GAAG,CAAC,QAAQ,CAAC,CAACF,YAAY,CAACG,gBAAgB,EAAE;MAC7DJ,QAAQ,CAACC,YAAY,CAAC,kBAAkB,CAAC,GAAG,IAAI;IAClD;IAEA,OAAOD,QAAQ;EACjB,CAAC;EACDK,iBAAiB,EAAE,SAAAA,CAAA,EAAY;IAC7B,OAAO,IAAI,CAACC,iBAAiB,CAAC,UAAUC,WAAW,EAAEC,cAAc,EAAE;MACnE,OAAOD,WAAW,CAACE,MAAM,CAAC,CAAC,CAACC,IAAI,CAAC,UAAUC,KAAK,EAAE;QAChDH,cAAc,CAACG,KAAK,CAAC;MACvB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EACDC,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAIC,IAAI,GAAGrB,cAAc,CAACsB,SAAS,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;IACjEJ,IAAI,GAAGtB,cAAc,CAAC2B,IAAI,CAACL,IAAI,EAAE,CAAC,UAAU,EAAE,UAAU,EAAE,kBAAkB,CAAC,CAAC;IAE9E,IAAItB,cAAc,CAAC4B,OAAO,CAACN,IAAI,CAAC,EAAE;MAChC,MAAMO,KAAK,GAAG;QACZC,YAAY,EAAE/B,GAAG,CAAC,yBAAyB,EAAE,OAAO;MACtD,CAAC;MACD,IAAI,CAACgC,OAAO,CAAC,OAAO,EAAE,IAAI,EAAE;QAC1BC,YAAY,EAAEH;MAChB,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,OAAO,IAAI,CAACd,iBAAiB,CAAC,UAAUC,WAAW,EAAEC,cAAc,EAAE;QACnED,WAAW,CAACE,MAAM,CAAC,IAAI,CAACX,iBAAiB,CAACe,IAAI,CAAC,CAAC,CAACH,IAAI,CAAC,UAAUC,KAAK,EAAE;UACrEH,cAAc,CAACG,KAAK,CAAC;QACvB,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF;AACF,CAAC,CAAC;AAEF,SAASlB,UAAU,IAAI+B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}