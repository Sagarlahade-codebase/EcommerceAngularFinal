{"ast":null,"code":"import _Handlebars2 from '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport { loc } from '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport fn$1 from '../../util/BrowserFeatures.js';\nimport Enums from '../../util/Enums.js';\nimport ErrorCodes from '../../util/ErrorCodes.js';\nimport { UnsupportedBrowserError, ConfigError } from '../../util/Errors.js';\nimport util from '../../util/OAuth2Util.js';\nimport Util from '../../util/Util.js';\nconst fn = {};\nconst verifyUrlTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      alias1 = depth0 != null ? depth0 : container.nullContext || {},\n      alias2 = container.hooks.helperMissing,\n      alias3 = \"function\",\n      alias4 = container.escapeExpression,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"signin/verify/\" + alias4((helper = (helper = lookupProperty(helpers, \"provider\") || (depth0 != null ? lookupProperty(depth0, \"provider\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"provider\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 14\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 26\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 27\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 41\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\nconst verifyUrlMultipleTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      alias1 = depth0 != null ? depth0 : container.nullContext || {},\n      alias2 = container.hooks.helperMissing,\n      alias3 = \"function\",\n      alias4 = container.escapeExpression,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"signin/verify/\" + alias4((helper = (helper = lookupProperty(helpers, \"provider\") || (depth0 != null ? lookupProperty(depth0, \"provider\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"provider\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 14\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 26\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 27\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 41\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorIndex\") || (depth0 != null ? lookupProperty(depth0, \"factorIndex\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorIndex\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 42\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 57\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\nconst verifyUrlNoProviderTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"signin/verify/\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 14\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 28\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\nconst enrollFactorUrlTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      alias1 = depth0 != null ? depth0 : container.nullContext || {},\n      alias2 = container.hooks.helperMissing,\n      alias3 = \"function\",\n      alias4 = container.escapeExpression,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"signin/enroll/\" + alias4((helper = (helper = lookupProperty(helpers, \"provider\") || (depth0 != null ? lookupProperty(depth0, \"provider\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"provider\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 14\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 26\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 27\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 41\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\nconst activateFactorUrlTpl = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"/\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"step\") || (depth0 != null ? lookupProperty(depth0, \"step\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"step\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 63\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 71\n        }\n      }\n    }) : helper));\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n      helper,\n      alias1 = depth0 != null ? depth0 : container.nullContext || {},\n      alias2 = container.hooks.helperMissing,\n      alias3 = \"function\",\n      alias4 = container.escapeExpression,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"signin/enroll-activate/\" + alias4((helper = (helper = lookupProperty(helpers, \"provider\") || (depth0 != null ? lookupProperty(depth0, \"provider\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"provider\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 23\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 35\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 36\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 50\n        }\n      }\n    }) : helper)) + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"step\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 50\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 78\n        }\n      }\n    })) != null ? stack1 : \"\");\n  },\n  \"useData\": true\n});\nconst recoveryUrlTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"signin/recovery/\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"recoveryToken\") || (depth0 != null ? lookupProperty(depth0, \"recoveryToken\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"recoveryToken\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 16\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\nconst refreshUrlTpl = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"/\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"token\") || (depth0 != null ? lookupProperty(depth0, \"token\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"token\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 39\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 48\n        }\n      }\n    }) : helper));\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"signin/refresh-auth-state\" + ((stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"token\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 25\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 55\n        }\n      }\n    })) != null ? stack1 : \"\");\n  },\n  \"useData\": true\n});\nconst sessionCookieRedirectTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n      helper,\n      alias1 = depth0 != null ? depth0 : container.nullContext || {},\n      alias2 = container.hooks.helperMissing,\n      alias3 = \"function\",\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"baseUrl\") || (depth0 != null ? lookupProperty(depth0, \"baseUrl\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"baseUrl\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 11\n        }\n      }\n    }) : helper)) + \"/login/sessionCookieRedirect?checkAccountSetupComplete=true&token=\" + ((stack1 = (helper = (helper = lookupProperty(helpers, \"token\") || (depth0 != null ? lookupProperty(depth0, \"token\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"token\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 77\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 88\n        }\n      }\n    }) : helper)) != null ? stack1 : \"\") + \"&redirectUrl=\" + ((stack1 = (helper = (helper = lookupProperty(helpers, \"redirectUrl\") || (depth0 != null ? lookupProperty(depth0, \"redirectUrl\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"redirectUrl\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 101\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 118\n        }\n      }\n    }) : helper)) != null ? stack1 : \"\");\n  },\n  \"useData\": true\n});\nconst deviceActivationStatuses = ['DEVICE_ACTIVATED', 'DEVICE_NOT_ACTIVATED_CONSENT_DENIED', 'DEVICE_NOT_ACTIVATED'];\nfn.isHostBackgroundChromeTab = function () {\n  // Checks if the SIW is loaded in a chrome webview and\n  // it is in an app that is in background.\n  if (navigator.userAgent.match(/Android/) && navigator.userAgent.match(/Chrome/) && document.hidden) {\n    return true;\n  } else {\n    return false;\n  }\n};\nfn.isDocumentVisible = function () {\n  return document.visibilityState === 'visible';\n};\nfn.createVerifyUrl = function (provider, factorType, factorIndex) {\n  if (provider && factorIndex) {\n    return verifyUrlMultipleTpl({\n      provider: encodeURIComponent(provider.toLowerCase()),\n      factorType: encodeURIComponent(factorType),\n      factorIndex: encodeURIComponent(factorIndex)\n    });\n  } else if (provider) {\n    return verifyUrlTpl({\n      provider: encodeURIComponent(provider.toLowerCase()),\n      factorType: encodeURIComponent(factorType)\n    });\n  } else {\n    return verifyUrlNoProviderTpl({\n      factorType: encodeURIComponent(factorType)\n    });\n  }\n};\nfn.createEnrollFactorUrl = function (provider, factorType) {\n  return enrollFactorUrlTpl({\n    provider: encodeURIComponent(provider.toLowerCase()),\n    factorType: encodeURIComponent(factorType)\n  });\n};\nfn.createActivateFactorUrl = function (provider, factorType, step) {\n  return activateFactorUrlTpl({\n    provider: encodeURIComponent(provider.toLowerCase()),\n    factorType: encodeURIComponent(factorType),\n    step: step ? encodeURIComponent(step) : false\n  });\n};\nfn.createRecoveryUrl = function (recoveryToken) {\n  return recoveryUrlTpl({\n    recoveryToken: encodeURIComponent(recoveryToken)\n  });\n};\nfn.createRefreshUrl = function (stateToken) {\n  const token = stateToken ? encodeURIComponent(stateToken) : null;\n  return refreshUrlTpl({\n    token: token\n  });\n};\nfn.routeAfterAuthStatusChangeError = function (router, err) {\n  if (!err) {\n    return;\n  } // Global error handling for CORS enabled errors\n\n  if (err.xhr && fn$1.corsIsNotEnabled(err.xhr)) {\n    router.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n    return;\n  } // Token has expired - no longer valid. Navigate back to primary auth.\n\n  if (err.errorCode === ErrorCodes.INVALID_TOKEN_EXCEPTION) {\n    router.appState.set('flashError', err);\n    router.controller.state.set('navigateDir', Enums.DIRECTION_BACK);\n    if (router.settings.get('features.mfaOnlyFlow')) {\n      router.navigate('signin/error', {\n        trigger: true\n      });\n    } else {\n      router.navigate('', {\n        trigger: true\n      });\n    }\n    return;\n  }\n  Util.triggerAfterError(router.controller, err);\n};\nfn.routeAfterAuthStatusChange = function (router, res) {\n  // Other errors are handled by the function making the authClient request\n  if (!res || !res.status) {\n    router.appState.clearLastAuthResponse();\n    return;\n  }\n  router.appState.setAuthResponse(res);\n  if (router.controller && router.controller.trapAuthResponse(res)) {\n    return;\n  }\n  fn.handleResponseStatus(router, res);\n};\nfn.handleResponseStatus = function (router, res) {\n  switch (res.status) {\n    case 'SUCCESS':\n      {\n        handleSuccessResponseStatus(router, res);\n        return;\n      }\n    case 'ADMIN_CONSENT_REQUIRED':\n      router.navigate('signin/admin-consent', {\n        trigger: true\n      });\n      return;\n    case 'CONSENT_REQUIRED':\n      router.navigate('signin/consent', {\n        trigger: true\n      });\n      return;\n    case 'DEVICE_ACTIVATE':\n      router.navigate('signin/device-activate', {\n        trigger: true\n      });\n      return;\n    // We want the same view for FACTOR_REQUIRED & FACTOR_CHALLENGE\n    // In the new idx pipeline FACTOR_CHALLENGE API response does not contain a prev link\n\n    case 'FACTOR_REQUIRED':\n    case 'FACTOR_CHALLENGE':\n    case 'MFA_REQUIRED':\n      {\n        const lastFailedChallengeFactorData = router.appState.get('lastFailedChallengeFactorData'); // When the widget is bootstrapped with an error in MFA_CHALLENGE state, we pass the\n        // lastFailedChallengeFactorData to MFA_REQUIRED, in order to show the error message\n        // on the correct factor view\n\n        if (lastFailedChallengeFactorData && lastFailedChallengeFactorData.factor) {\n          router.appState.get('factors').lastUsedFactor = lastFailedChallengeFactorData.factor;\n        }\n        const factor = router.appState.get('factors').getDefaultFactor();\n        const url = fn.createVerifyUrl(factor.get('provider'), factor.get('factorType'));\n        router.navigate(url, {\n          trigger: true\n        });\n        router.appState.clearLastFailedChallengeFactorData();\n        return;\n      }\n    case 'POLL':\n      {\n        const pollUrl = 'signin/poll';\n        router.navigate(pollUrl, {\n          trigger: true\n        });\n        return;\n      }\n    case 'MFA_CHALLENGE':\n      // Since we normally trap MFA_CHALLENGE, this will only get called on a\n      // page refresh or when an error is returned on verification with an IdP.\n      // We need to return to MFA_REQUIRED to initialize the\n      // page correctly (i.e. factors dropdown, etc)\n      if (router.appState.get('isFactorResultFailed')) {\n        router.appState.setLastFailedChallengeFactorData();\n      }\n      router.appState.get('transaction').prev().then(function (trans) {\n        router.appState.set('transaction', trans);\n      }); // TODO: catch/handle error here?\n\n      return;\n    case 'MFA_ENROLL':\n    case 'FACTOR_ENROLL':\n      router.navigate('signin/enroll', {\n        trigger: true\n      });\n      return;\n    case 'MFA_ENROLL_ACTIVATE':\n    case 'FACTOR_ENROLL_ACTIVATE':\n      {\n        const activateUrl = fn.createActivateFactorUrl(router.appState.get('activatedFactorProvider'), router.appState.get('activatedFactorType'));\n        router.navigate(activateUrl, {\n          trigger: true\n        });\n        return;\n      }\n    case 'PASSWORD_WARN':\n    case 'PASSWORD_EXPIRED':\n      if (router.settings.get('features.customExpiredPassword') && !router.appState.get('isPwdManagedByOkta')) {\n        router.navigate('signin/custom-password-expired', {\n          trigger: true\n        });\n      } else {\n        router.navigate('signin/password-expired', {\n          trigger: true\n        });\n      }\n      return;\n    case 'RECOVERY_CHALLENGE':\n      {\n        const fromEmail = res.factorType.toLowerCase() === Enums.RECOVERY_FACTOR_TYPE_EMAIL.toLowerCase();\n        const isForgotPassword = res.recoveryType === Enums.RECOVERY_TYPE_PASSWORD;\n        const isUnlock = res.recoveryType === Enums.RECOVERY_TYPE_UNLOCK; // Will use this workaround (lowercasing response) until OKTA-69083 is resolved\n\n        if (isForgotPassword && fromEmail) {\n          router.navigate('signin/recovery-emailed', {\n            trigger: true\n          });\n        } else if (isUnlock && fromEmail) {\n          router.navigate('signin/unlock-emailed', {\n            trigger: true\n          });\n        } else {\n          router.navigate('signin/recovery-challenge', {\n            trigger: true\n          });\n        }\n        return;\n      }\n    case 'RECOVERY':\n      router.navigate('signin/recovery-question', {\n        trigger: true\n      });\n      return;\n    case 'PASSWORD_RESET':\n      router.navigate('signin/password-reset', {\n        trigger: true\n      });\n      return;\n    case 'LOCKED_OUT':\n      {\n        if (router.settings.get('features.selfServiceUnlock')) {\n          router.navigate('signin/unlock', {\n            trigger: true\n          });\n        } else {\n          const errorMessage = loc('error.auth.lockedOut', 'login');\n          const resError = {\n            responseJSON: {\n              errorCauses: [],\n              errorSummary: errorMessage,\n              errorCode: 'E0000119'\n            }\n          };\n          const err = {\n            name: 'AuthApiError',\n            message: errorMessage,\n            xhr: resError\n          };\n          router.controller.model.appState.trigger('removeLoading');\n          router.controller.model.trigger('error', router.controller.model, resError);\n          Util.triggerAfterError(router.controller, err);\n        }\n        return;\n      }\n    case 'PROFILE_REQUIRED':\n      router.navigate('signin/enroll-user', {\n        trigger: true\n      });\n      return;\n    case 'UNAUTHENTICATED':\n      // Either we have factors and we are in passwordlessAuth mode\n      if (router.appState.get('promptForFactorInUnauthenticated')) {\n        const defaultFactor = router.appState.get('factors').getDefaultFactor();\n        const factorURL = fn.createVerifyUrl(defaultFactor.get('provider'), defaultFactor.get('factorType'));\n        router.navigate(factorURL, {\n          trigger: true\n        });\n        return;\n      } // Or we're in device flow and we need to force idp discovery check\n\n      if (router.appState.get('usingDeviceFlow')) {\n        router.navigate('signin/idp-discovery-check', {\n          trigger: true\n        });\n        return;\n      } // Or we don't have anything and we need to show the login page\n\n      router.navigate('', {\n        trigger: true\n      });\n      return;\n    default:\n      throw new Error('Unknown status: ' + res.status);\n  }\n};\nfunction handleSuccessResponseStatus(router, res) {\n  var _res$_embedded, _res$_links, _res$_links$original, _res$_links2, _res$_links2$next;\n  if (res.recoveryType === Enums.RECOVERY_TYPE_UNLOCK) {\n    router.navigate('signin/account-unlocked', {\n      trigger: true\n    });\n    return;\n  }\n  if (oktaUnderscore.contains(deviceActivationStatuses, (_res$_embedded = res._embedded) === null || _res$_embedded === void 0 ? void 0 : _res$_embedded.deviceActivationStatus)) {\n    router.navigate('signin/device-activate-complete', {\n      trigger: true\n    });\n    return;\n  } // If the desired end result object needs to have idToken (and not sessionToken),\n  // get the id token from session token before calling the global success function.\n\n  if (router.settings.get('oauth2Enabled')) {\n    util.getTokens(router.settings, {\n      sessionToken: res.sessionToken\n    }, router.controller);\n    return;\n  }\n  const successData = {\n    user: res._embedded.user,\n    type: res.type || Enums.SESSION_SSO\n  };\n  if (res.relayState) {\n    successData.relayState = res.relayState;\n  }\n  const redirectFn = router.settings.get('redirectUtilFn');\n  const nextUrl = (res === null || res === void 0 ? void 0 : (_res$_links = res._links) === null || _res$_links === void 0 ? void 0 : (_res$_links$original = _res$_links.original) === null || _res$_links$original === void 0 ? void 0 : _res$_links$original.href) || (res === null || res === void 0 ? void 0 : (_res$_links2 = res._links) === null || _res$_links2 === void 0 ? void 0 : (_res$_links2$next = _res$_links2.next) === null || _res$_links2$next === void 0 ? void 0 : _res$_links2$next.href);\n  if (res.type === Enums.SESSION_STEP_UP) {\n    var _res$_links3, _res$_links3$next;\n    const targetUrl = res === null || res === void 0 ? void 0 : (_res$_links3 = res._links) === null || _res$_links3 === void 0 ? void 0 : (_res$_links3$next = _res$_links3.next) === null || _res$_links3$next === void 0 ? void 0 : _res$_links3$next.href;\n    successData.stepUp = {\n      url: targetUrl,\n      finish: function () {\n        redirectFn(targetUrl);\n      }\n    };\n  } else {\n    if (nextUrl) {\n      successData.next = function () {\n        redirectFn(nextUrl);\n      };\n    } else {\n      // Add the type for now until the API returns it.\n      successData.type = Enums.SESSION_SSO;\n    }\n    if (res.sessionToken) {\n      successData.session = {\n        token: res.sessionToken,\n        setCookieAndRedirect: function (redirectUri) {\n          if (redirectUri) {\n            Util.debugMessage(`\n              Passing a \"redirectUri\" to \"setCookieAndRedirect\" is strongly discouraged.\n              It is recommended to set a \"redirectUri\" option in the config object passed to the widget constructor.\n            `);\n          }\n          redirectUri = redirectUri || router.settings.get('redirectUri');\n          if (!redirectUri) {\n            throw new ConfigError('\"redirectUri\" is required');\n          }\n          redirectFn(sessionCookieRedirectTpl({\n            baseUrl: router.settings.get('baseUrl'),\n            token: encodeURIComponent(res.sessionToken),\n            redirectUrl: encodeURIComponent(redirectUri)\n          }));\n        }\n      };\n    }\n  } // Check if we need to wait for redirect based on host.\n\n  if (fn.isHostBackgroundChromeTab()) {\n    document.addEventListener('visibilitychange', function checkVisibilityAndCallSuccess() {\n      if (fn.isDocumentVisible()) {\n        document.removeEventListener('visibilitychange', checkVisibilityAndCallSuccess);\n        router.settings.callGlobalSuccess(Enums.SUCCESS, successData);\n      }\n    });\n  } else {\n    router.settings.callGlobalSuccess(Enums.SUCCESS, successData);\n  }\n}\nexport { fn as default };","map":{"version":3,"names":["_Handlebars2","loc","oktaUnderscore","fn$1","Enums","ErrorCodes","UnsupportedBrowserError","ConfigError","util","Util","fn","verifyUrlTpl","template","main","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","verifyUrlMultipleTpl","verifyUrlNoProviderTpl","enrollFactorUrlTpl","activateFactorUrlTpl","1","stack1","program","noop","recoveryUrlTpl","refreshUrlTpl","sessionCookieRedirectTpl","deviceActivationStatuses","isHostBackgroundChromeTab","navigator","userAgent","match","document","hidden","isDocumentVisible","visibilityState","createVerifyUrl","provider","factorType","factorIndex","encodeURIComponent","toLowerCase","createEnrollFactorUrl","createActivateFactorUrl","step","createRecoveryUrl","recoveryToken","createRefreshUrl","stateToken","token","routeAfterAuthStatusChangeError","router","err","xhr","corsIsNotEnabled","settings","callGlobalError","errorCode","INVALID_TOKEN_EXCEPTION","appState","set","controller","state","DIRECTION_BACK","get","navigate","trigger","triggerAfterError","routeAfterAuthStatusChange","res","status","clearLastAuthResponse","setAuthResponse","trapAuthResponse","handleResponseStatus","handleSuccessResponseStatus","lastFailedChallengeFactorData","factor","lastUsedFactor","getDefaultFactor","url","clearLastFailedChallengeFactorData","pollUrl","setLastFailedChallengeFactorData","prev","then","trans","activateUrl","fromEmail","RECOVERY_FACTOR_TYPE_EMAIL","isForgotPassword","recoveryType","RECOVERY_TYPE_PASSWORD","isUnlock","RECOVERY_TYPE_UNLOCK","errorMessage","resError","responseJSON","errorCauses","errorSummary","name","message","model","defaultFactor","factorURL","Error","_res$_embedded","_res$_links","_res$_links$original","_res$_links2","_res$_links2$next","contains","_embedded","deviceActivationStatus","getTokens","sessionToken","successData","user","type","SESSION_SSO","relayState","redirectFn","nextUrl","_links","original","href","next","SESSION_STEP_UP","_res$_links3","_res$_links3$next","targetUrl","stepUp","finish","session","setCookieAndRedirect","redirectUri","debugMessage","baseUrl","redirectUrl","addEventListener","checkVisibilityAndCallSuccess","removeEventListener","callGlobalSuccess","SUCCESS","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v1/util/RouterUtil.js"],"sourcesContent":["import _Handlebars2 from '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport { loc } from '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport fn$1 from '../../util/BrowserFeatures.js';\nimport Enums from '../../util/Enums.js';\nimport ErrorCodes from '../../util/ErrorCodes.js';\nimport { UnsupportedBrowserError, ConfigError } from '../../util/Errors.js';\nimport util from '../../util/OAuth2Util.js';\nimport Util from '../../util/Util.js';\n\nconst fn = {};\n\nconst verifyUrlTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"signin/verify/\" + alias4((helper = (helper = lookupProperty(helpers, \"provider\") || (depth0 != null ? lookupProperty(depth0, \"provider\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"provider\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 14\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 26\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 27\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 41\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\n\nconst verifyUrlMultipleTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"signin/verify/\" + alias4((helper = (helper = lookupProperty(helpers, \"provider\") || (depth0 != null ? lookupProperty(depth0, \"provider\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"provider\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 14\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 26\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 27\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 41\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorIndex\") || (depth0 != null ? lookupProperty(depth0, \"factorIndex\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorIndex\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 42\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 57\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\n\nconst verifyUrlNoProviderTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"signin/verify/\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 14\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 28\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\n\nconst enrollFactorUrlTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"signin/enroll/\" + alias4((helper = (helper = lookupProperty(helpers, \"provider\") || (depth0 != null ? lookupProperty(depth0, \"provider\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"provider\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 14\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 26\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 27\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 41\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\n\nconst activateFactorUrlTpl = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"/\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"step\") || (depth0 != null ? lookupProperty(depth0, \"step\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"step\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 63\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 71\n        }\n      }\n    }) : helper));\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        alias4 = container.escapeExpression,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"signin/enroll-activate/\" + alias4((helper = (helper = lookupProperty(helpers, \"provider\") || (depth0 != null ? lookupProperty(depth0, \"provider\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"provider\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 23\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 35\n        }\n      }\n    }) : helper)) + \"/\" + alias4((helper = (helper = lookupProperty(helpers, \"factorType\") || (depth0 != null ? lookupProperty(depth0, \"factorType\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"factorType\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 36\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 50\n        }\n      }\n    }) : helper)) + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"step\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 50\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 78\n        }\n      }\n    })) != null ? stack1 : \"\");\n  },\n  \"useData\": true\n});\n\nconst recoveryUrlTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"signin/recovery/\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"recoveryToken\") || (depth0 != null ? lookupProperty(depth0, \"recoveryToken\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"recoveryToken\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 16\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\n\nconst refreshUrlTpl = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"/\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"token\") || (depth0 != null ? lookupProperty(depth0, \"token\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"token\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 39\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 48\n        }\n      }\n    }) : helper));\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"signin/refresh-auth-state\" + ((stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"token\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 25\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 55\n        }\n      }\n    })) != null ? stack1 : \"\");\n  },\n  \"useData\": true\n});\n\nconst sessionCookieRedirectTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        alias2 = container.hooks.helperMissing,\n        alias3 = \"function\",\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return container.escapeExpression((helper = (helper = lookupProperty(helpers, \"baseUrl\") || (depth0 != null ? lookupProperty(depth0, \"baseUrl\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"baseUrl\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 11\n        }\n      }\n    }) : helper)) + \"/login/sessionCookieRedirect?checkAccountSetupComplete=true&token=\" + ((stack1 = (helper = (helper = lookupProperty(helpers, \"token\") || (depth0 != null ? lookupProperty(depth0, \"token\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"token\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 77\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 88\n        }\n      }\n    }) : helper)) != null ? stack1 : \"\") + \"&redirectUrl=\" + ((stack1 = (helper = (helper = lookupProperty(helpers, \"redirectUrl\") || (depth0 != null ? lookupProperty(depth0, \"redirectUrl\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"redirectUrl\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 101\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 118\n        }\n      }\n    }) : helper)) != null ? stack1 : \"\");\n  },\n  \"useData\": true\n});\n\nconst deviceActivationStatuses = ['DEVICE_ACTIVATED', 'DEVICE_NOT_ACTIVATED_CONSENT_DENIED', 'DEVICE_NOT_ACTIVATED'];\n\nfn.isHostBackgroundChromeTab = function () {\n  // Checks if the SIW is loaded in a chrome webview and\n  // it is in an app that is in background.\n  if (navigator.userAgent.match(/Android/) && navigator.userAgent.match(/Chrome/) && document.hidden) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nfn.isDocumentVisible = function () {\n  return document.visibilityState === 'visible';\n};\n\nfn.createVerifyUrl = function (provider, factorType, factorIndex) {\n  if (provider && factorIndex) {\n    return verifyUrlMultipleTpl({\n      provider: encodeURIComponent(provider.toLowerCase()),\n      factorType: encodeURIComponent(factorType),\n      factorIndex: encodeURIComponent(factorIndex)\n    });\n  } else if (provider) {\n    return verifyUrlTpl({\n      provider: encodeURIComponent(provider.toLowerCase()),\n      factorType: encodeURIComponent(factorType)\n    });\n  } else {\n    return verifyUrlNoProviderTpl({\n      factorType: encodeURIComponent(factorType)\n    });\n  }\n};\n\nfn.createEnrollFactorUrl = function (provider, factorType) {\n  return enrollFactorUrlTpl({\n    provider: encodeURIComponent(provider.toLowerCase()),\n    factorType: encodeURIComponent(factorType)\n  });\n};\n\nfn.createActivateFactorUrl = function (provider, factorType, step) {\n  return activateFactorUrlTpl({\n    provider: encodeURIComponent(provider.toLowerCase()),\n    factorType: encodeURIComponent(factorType),\n    step: step ? encodeURIComponent(step) : false\n  });\n};\n\nfn.createRecoveryUrl = function (recoveryToken) {\n  return recoveryUrlTpl({\n    recoveryToken: encodeURIComponent(recoveryToken)\n  });\n};\n\nfn.createRefreshUrl = function (stateToken) {\n  const token = stateToken ? encodeURIComponent(stateToken) : null;\n  return refreshUrlTpl({\n    token: token\n  });\n};\n\nfn.routeAfterAuthStatusChangeError = function (router, err) {\n  if (!err) {\n    return;\n  } // Global error handling for CORS enabled errors\n\n\n  if (err.xhr && fn$1.corsIsNotEnabled(err.xhr)) {\n    router.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n    return;\n  } // Token has expired - no longer valid. Navigate back to primary auth.\n\n\n  if (err.errorCode === ErrorCodes.INVALID_TOKEN_EXCEPTION) {\n    router.appState.set('flashError', err);\n    router.controller.state.set('navigateDir', Enums.DIRECTION_BACK);\n\n    if (router.settings.get('features.mfaOnlyFlow')) {\n      router.navigate('signin/error', {\n        trigger: true\n      });\n    } else {\n      router.navigate('', {\n        trigger: true\n      });\n    }\n\n    return;\n  }\n\n  Util.triggerAfterError(router.controller, err);\n};\n\nfn.routeAfterAuthStatusChange = function (router, res) {\n  // Other errors are handled by the function making the authClient request\n  if (!res || !res.status) {\n    router.appState.clearLastAuthResponse();\n    return;\n  }\n\n  router.appState.setAuthResponse(res);\n\n  if (router.controller && router.controller.trapAuthResponse(res)) {\n    return;\n  }\n\n  fn.handleResponseStatus(router, res);\n};\n\nfn.handleResponseStatus = function (router, res) {\n  switch (res.status) {\n    case 'SUCCESS':\n      {\n        handleSuccessResponseStatus(router, res);\n        return;\n      }\n\n    case 'ADMIN_CONSENT_REQUIRED':\n      router.navigate('signin/admin-consent', {\n        trigger: true\n      });\n      return;\n\n    case 'CONSENT_REQUIRED':\n      router.navigate('signin/consent', {\n        trigger: true\n      });\n      return;\n\n    case 'DEVICE_ACTIVATE':\n      router.navigate('signin/device-activate', {\n        trigger: true\n      });\n      return;\n    // We want the same view for FACTOR_REQUIRED & FACTOR_CHALLENGE\n    // In the new idx pipeline FACTOR_CHALLENGE API response does not contain a prev link\n\n    case 'FACTOR_REQUIRED':\n    case 'FACTOR_CHALLENGE':\n    case 'MFA_REQUIRED':\n      {\n        const lastFailedChallengeFactorData = router.appState.get('lastFailedChallengeFactorData'); // When the widget is bootstrapped with an error in MFA_CHALLENGE state, we pass the\n        // lastFailedChallengeFactorData to MFA_REQUIRED, in order to show the error message\n        // on the correct factor view\n\n        if (lastFailedChallengeFactorData && lastFailedChallengeFactorData.factor) {\n          router.appState.get('factors').lastUsedFactor = lastFailedChallengeFactorData.factor;\n        }\n\n        const factor = router.appState.get('factors').getDefaultFactor();\n        const url = fn.createVerifyUrl(factor.get('provider'), factor.get('factorType'));\n        router.navigate(url, {\n          trigger: true\n        });\n        router.appState.clearLastFailedChallengeFactorData();\n        return;\n      }\n\n    case 'POLL':\n      {\n        const pollUrl = 'signin/poll';\n        router.navigate(pollUrl, {\n          trigger: true\n        });\n        return;\n      }\n\n    case 'MFA_CHALLENGE':\n      // Since we normally trap MFA_CHALLENGE, this will only get called on a\n      // page refresh or when an error is returned on verification with an IdP.\n      // We need to return to MFA_REQUIRED to initialize the\n      // page correctly (i.e. factors dropdown, etc)\n      if (router.appState.get('isFactorResultFailed')) {\n        router.appState.setLastFailedChallengeFactorData();\n      }\n\n      router.appState.get('transaction').prev().then(function (trans) {\n        router.appState.set('transaction', trans);\n      }); // TODO: catch/handle error here?\n\n      return;\n\n    case 'MFA_ENROLL':\n    case 'FACTOR_ENROLL':\n      router.navigate('signin/enroll', {\n        trigger: true\n      });\n      return;\n\n    case 'MFA_ENROLL_ACTIVATE':\n    case 'FACTOR_ENROLL_ACTIVATE':\n      {\n        const activateUrl = fn.createActivateFactorUrl(router.appState.get('activatedFactorProvider'), router.appState.get('activatedFactorType'));\n        router.navigate(activateUrl, {\n          trigger: true\n        });\n        return;\n      }\n\n    case 'PASSWORD_WARN':\n    case 'PASSWORD_EXPIRED':\n      if (router.settings.get('features.customExpiredPassword') && !router.appState.get('isPwdManagedByOkta')) {\n        router.navigate('signin/custom-password-expired', {\n          trigger: true\n        });\n      } else {\n        router.navigate('signin/password-expired', {\n          trigger: true\n        });\n      }\n\n      return;\n\n    case 'RECOVERY_CHALLENGE':\n      {\n        const fromEmail = res.factorType.toLowerCase() === Enums.RECOVERY_FACTOR_TYPE_EMAIL.toLowerCase();\n        const isForgotPassword = res.recoveryType === Enums.RECOVERY_TYPE_PASSWORD;\n        const isUnlock = res.recoveryType === Enums.RECOVERY_TYPE_UNLOCK; // Will use this workaround (lowercasing response) until OKTA-69083 is resolved\n\n        if (isForgotPassword && fromEmail) {\n          router.navigate('signin/recovery-emailed', {\n            trigger: true\n          });\n        } else if (isUnlock && fromEmail) {\n          router.navigate('signin/unlock-emailed', {\n            trigger: true\n          });\n        } else {\n          router.navigate('signin/recovery-challenge', {\n            trigger: true\n          });\n        }\n\n        return;\n      }\n\n    case 'RECOVERY':\n      router.navigate('signin/recovery-question', {\n        trigger: true\n      });\n      return;\n\n    case 'PASSWORD_RESET':\n      router.navigate('signin/password-reset', {\n        trigger: true\n      });\n      return;\n\n    case 'LOCKED_OUT':\n      {\n        if (router.settings.get('features.selfServiceUnlock')) {\n          router.navigate('signin/unlock', {\n            trigger: true\n          });\n        } else {\n          const errorMessage = loc('error.auth.lockedOut', 'login');\n          const resError = {\n            responseJSON: {\n              errorCauses: [],\n              errorSummary: errorMessage,\n              errorCode: 'E0000119'\n            }\n          };\n          const err = {\n            name: 'AuthApiError',\n            message: errorMessage,\n            xhr: resError\n          };\n          router.controller.model.appState.trigger('removeLoading');\n          router.controller.model.trigger('error', router.controller.model, resError);\n          Util.triggerAfterError(router.controller, err);\n        }\n\n        return;\n      }\n\n    case 'PROFILE_REQUIRED':\n      router.navigate('signin/enroll-user', {\n        trigger: true\n      });\n      return;\n\n    case 'UNAUTHENTICATED':\n      // Either we have factors and we are in passwordlessAuth mode\n      if (router.appState.get('promptForFactorInUnauthenticated')) {\n        const defaultFactor = router.appState.get('factors').getDefaultFactor();\n        const factorURL = fn.createVerifyUrl(defaultFactor.get('provider'), defaultFactor.get('factorType'));\n        router.navigate(factorURL, {\n          trigger: true\n        });\n        return;\n      } // Or we're in device flow and we need to force idp discovery check\n\n\n      if (router.appState.get('usingDeviceFlow')) {\n        router.navigate('signin/idp-discovery-check', {\n          trigger: true\n        });\n        return;\n      } // Or we don't have anything and we need to show the login page\n\n\n      router.navigate('', {\n        trigger: true\n      });\n      return;\n\n    default:\n      throw new Error('Unknown status: ' + res.status);\n  }\n};\n\nfunction handleSuccessResponseStatus(router, res) {\n  var _res$_embedded, _res$_links, _res$_links$original, _res$_links2, _res$_links2$next;\n\n  if (res.recoveryType === Enums.RECOVERY_TYPE_UNLOCK) {\n    router.navigate('signin/account-unlocked', {\n      trigger: true\n    });\n    return;\n  }\n\n  if (oktaUnderscore.contains(deviceActivationStatuses, (_res$_embedded = res._embedded) === null || _res$_embedded === void 0 ? void 0 : _res$_embedded.deviceActivationStatus)) {\n    router.navigate('signin/device-activate-complete', {\n      trigger: true\n    });\n    return;\n  } // If the desired end result object needs to have idToken (and not sessionToken),\n  // get the id token from session token before calling the global success function.\n\n\n  if (router.settings.get('oauth2Enabled')) {\n    util.getTokens(router.settings, {\n      sessionToken: res.sessionToken\n    }, router.controller);\n    return;\n  }\n\n  const successData = {\n    user: res._embedded.user,\n    type: res.type || Enums.SESSION_SSO\n  };\n\n  if (res.relayState) {\n    successData.relayState = res.relayState;\n  }\n\n  const redirectFn = router.settings.get('redirectUtilFn');\n  const nextUrl = (res === null || res === void 0 ? void 0 : (_res$_links = res._links) === null || _res$_links === void 0 ? void 0 : (_res$_links$original = _res$_links.original) === null || _res$_links$original === void 0 ? void 0 : _res$_links$original.href) || (res === null || res === void 0 ? void 0 : (_res$_links2 = res._links) === null || _res$_links2 === void 0 ? void 0 : (_res$_links2$next = _res$_links2.next) === null || _res$_links2$next === void 0 ? void 0 : _res$_links2$next.href);\n\n  if (res.type === Enums.SESSION_STEP_UP) {\n    var _res$_links3, _res$_links3$next;\n\n    const targetUrl = res === null || res === void 0 ? void 0 : (_res$_links3 = res._links) === null || _res$_links3 === void 0 ? void 0 : (_res$_links3$next = _res$_links3.next) === null || _res$_links3$next === void 0 ? void 0 : _res$_links3$next.href;\n    successData.stepUp = {\n      url: targetUrl,\n      finish: function () {\n        redirectFn(targetUrl);\n      }\n    };\n  } else {\n    if (nextUrl) {\n      successData.next = function () {\n        redirectFn(nextUrl);\n      };\n    } else {\n      // Add the type for now until the API returns it.\n      successData.type = Enums.SESSION_SSO;\n    }\n\n    if (res.sessionToken) {\n      successData.session = {\n        token: res.sessionToken,\n        setCookieAndRedirect: function (redirectUri) {\n          if (redirectUri) {\n            Util.debugMessage(`\n              Passing a \"redirectUri\" to \"setCookieAndRedirect\" is strongly discouraged.\n              It is recommended to set a \"redirectUri\" option in the config object passed to the widget constructor.\n            `);\n          }\n\n          redirectUri = redirectUri || router.settings.get('redirectUri');\n\n          if (!redirectUri) {\n            throw new ConfigError('\"redirectUri\" is required');\n          }\n\n          redirectFn(sessionCookieRedirectTpl({\n            baseUrl: router.settings.get('baseUrl'),\n            token: encodeURIComponent(res.sessionToken),\n            redirectUrl: encodeURIComponent(redirectUri)\n          }));\n        }\n      };\n    }\n  } // Check if we need to wait for redirect based on host.\n\n\n  if (fn.isHostBackgroundChromeTab()) {\n    document.addEventListener('visibilitychange', function checkVisibilityAndCallSuccess() {\n      if (fn.isDocumentVisible()) {\n        document.removeEventListener('visibilitychange', checkVisibilityAndCallSuccess);\n        router.settings.callGlobalSuccess(Enums.SUCCESS, successData);\n      }\n    });\n  } else {\n    router.settings.callGlobalSuccess(Enums.SUCCESS, successData);\n  }\n}\n\nexport { fn as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}