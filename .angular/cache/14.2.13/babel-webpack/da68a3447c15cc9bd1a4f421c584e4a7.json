{"ast":null,"code":"import { loc } from '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\n\n/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction isInvalidRecoveryTokenError(error) {\n  // special case: error from interact when passing an (invalid) recovery token\n  return (error === null || error === void 0 ? void 0 : error.error) === 'invalid_request' && error.error_description === 'The recovery token is invalid';\n}\nfunction formatInvalidRecoveryTokenError(error) {\n  // This error comes from `oauth2/interact` so is not an IDX error.\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const {\n    details: details\n  } = idxError;\n  const messages = {\n    type: 'array',\n    value: [{\n      message: error.error_description,\n      i18n: {\n        key: 'oie.invalid.recovery.token'\n      },\n      class: 'ERROR'\n    }]\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return idxError;\n}\nfunction isOIENotEnabledError(error) {\n  // special case: error from interact. `useInteractionCodeFlow` is true but the Org does not have OIE enabled\n  // The response is not in IDX format. See playground/mocks/data/oauth2/error-feature-not-enabled.json\n  return (error === null || error === void 0 ? void 0 : error.error) === 'access_denied' && error.error_description;\n}\nfunction formatOIENotEnabledError(error) {\n  // This error comes from `oauth2/interact` so the error is in OAuth format\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const {\n    details: details\n  } = idxError;\n  const messages = {\n    type: 'array',\n    value: [{\n      message: error.error_description,\n      i18n: {\n        key: 'oie.feature.disabled'\n      },\n      class: 'ERROR'\n    }]\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return error;\n}\nfunction isOIEConfigurationError(error) {\n  return (error === null || error === void 0 ? void 0 : error.error) && error.error_description;\n}\nfunction formatOIEConfigurationError(error) {\n  // This error comes from `oauth2/interact` so the error is in OAuth format\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const {\n    details: details\n  } = idxError;\n  const messages = {\n    type: 'array',\n    value: [{\n      message: loc('oie.configuration.error', 'login'),\n      class: 'ERROR',\n      i18n: undefined\n    }]\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return error;\n}\nfunction formatIDXError(error) {\n  // Make the error object resemble an IDX response\n  const idxError = error;\n  idxError.details = idxError.details || {};\n  const {\n    details: details\n  } = idxError;\n  details.rawIdxState = details.rawIdxState || {};\n  details.context = details.context || {};\n  details.neededToProceed = details.neededToProceed || []; // Populate generic error message if there isn't any.\n\n  if (!details.rawIdxState.messages) {\n    const idxMessage = {\n      type: 'array',\n      value: [{\n        message: loc('oform.error.unexpected', 'login'),\n        class: 'ERROR',\n        i18n: undefined\n      }]\n    };\n    details.rawIdxState.messages = idxMessage;\n    details.context.messages = idxMessage;\n  }\n  return idxError;\n}\nfunction formatError(error) {\n  // If the error is a string, wrap it in an Error object\n  if (typeof error === 'string') {\n    error = new Error(error);\n  } // special case error handling\n  // invalid reccovery token\n\n  if (isInvalidRecoveryTokenError(error)) {\n    return formatInvalidRecoveryTokenError(error);\n  } // OIE is not enabled\n\n  if (isOIENotEnabledError(error)) {\n    return formatOIENotEnabledError(error);\n  } // Other errors from /interact in OAuth format\n\n  if (isOIEConfigurationError(error)) {\n    return formatOIEConfigurationError(error);\n  }\n  error = formatIDXError(error);\n  return error;\n}\nexport { formatError, formatIDXError, formatInvalidRecoveryTokenError, formatOIEConfigurationError, formatOIENotEnabledError, isInvalidRecoveryTokenError, isOIEConfigurationError, isOIENotEnabledError };","map":{"version":3,"names":["loc","isInvalidRecoveryTokenError","error","error_description","formatInvalidRecoveryTokenError","idxError","formatIDXError","details","messages","type","value","message","i18n","key","class","rawIdxState","context","isOIENotEnabledError","formatOIENotEnabledError","isOIEConfigurationError","formatOIEConfigurationError","undefined","neededToProceed","idxMessage","formatError","Error"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v2/client/formatError.js"],"sourcesContent":["import { loc } from '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\n\n/*!\n * Copyright (c) 2021-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nfunction isInvalidRecoveryTokenError(error) {\n  // special case: error from interact when passing an (invalid) recovery token\n  return (error === null || error === void 0 ? void 0 : error.error) === 'invalid_request' && error.error_description === 'The recovery token is invalid';\n}\nfunction formatInvalidRecoveryTokenError(error) {\n  // This error comes from `oauth2/interact` so is not an IDX error.\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const {\n    details: details\n  } = idxError;\n  const messages = {\n    type: 'array',\n    value: [{\n      message: error.error_description,\n      i18n: {\n        key: 'oie.invalid.recovery.token'\n      },\n      class: 'ERROR'\n    }]\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return idxError;\n}\nfunction isOIENotEnabledError(error) {\n  // special case: error from interact. `useInteractionCodeFlow` is true but the Org does not have OIE enabled\n  // The response is not in IDX format. See playground/mocks/data/oauth2/error-feature-not-enabled.json\n  return (error === null || error === void 0 ? void 0 : error.error) === 'access_denied' && error.error_description;\n}\nfunction formatOIENotEnabledError(error) {\n  // This error comes from `oauth2/interact` so the error is in OAuth format\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const {\n    details: details\n  } = idxError;\n  const messages = {\n    type: 'array',\n    value: [{\n      message: error.error_description,\n      i18n: {\n        key: 'oie.feature.disabled'\n      },\n      class: 'ERROR'\n    }]\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return error;\n}\nfunction isOIEConfigurationError(error) {\n  return (error === null || error === void 0 ? void 0 : error.error) && error.error_description;\n}\nfunction formatOIEConfigurationError(error) {\n  // This error comes from `oauth2/interact` so the error is in OAuth format\n  // simulate an IDX-JS error response\n  const idxError = formatIDXError(error);\n  const {\n    details: details\n  } = idxError;\n  const messages = {\n    type: 'array',\n    value: [{\n      message: loc('oie.configuration.error', 'login'),\n      class: 'ERROR',\n      i18n: undefined\n    }]\n  };\n  details.rawIdxState.messages = messages;\n  details.context.messages = messages;\n  return error;\n}\nfunction formatIDXError(error) {\n  // Make the error object resemble an IDX response\n  const idxError = error;\n  idxError.details = idxError.details || {};\n  const {\n    details: details\n  } = idxError;\n  details.rawIdxState = details.rawIdxState || {};\n  details.context = details.context || {};\n  details.neededToProceed = details.neededToProceed || []; // Populate generic error message if there isn't any.\n\n  if (!details.rawIdxState.messages) {\n    const idxMessage = {\n      type: 'array',\n      value: [{\n        message: loc('oform.error.unexpected', 'login'),\n        class: 'ERROR',\n        i18n: undefined\n      }]\n    };\n    details.rawIdxState.messages = idxMessage;\n    details.context.messages = idxMessage;\n  }\n\n  return idxError;\n}\nfunction formatError(error) {\n  // If the error is a string, wrap it in an Error object\n  if (typeof error === 'string') {\n    error = new Error(error);\n  } // special case error handling\n  // invalid reccovery token\n\n\n  if (isInvalidRecoveryTokenError(error)) {\n    return formatInvalidRecoveryTokenError(error);\n  } // OIE is not enabled\n\n\n  if (isOIENotEnabledError(error)) {\n    return formatOIENotEnabledError(error);\n  } // Other errors from /interact in OAuth format\n\n\n  if (isOIEConfigurationError(error)) {\n    return formatOIEConfigurationError(error);\n  }\n\n  error = formatIDXError(error);\n  return error;\n}\n\nexport { formatError, formatIDXError, formatInvalidRecoveryTokenError, formatOIEConfigurationError, formatOIENotEnabledError, isInvalidRecoveryTokenError, isOIEConfigurationError, isOIENotEnabledError };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}