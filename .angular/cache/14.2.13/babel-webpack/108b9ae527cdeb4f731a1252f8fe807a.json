{"ast":null,"code":"import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../underscore-wrapper.js';\nimport Logger from '../Logger.js';\nimport StringUtil from '../StringUtil.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\n\nconst hbsEscape = _Handlebars2.Utils.escapeExpression;\nfunction trim(str) {\n  return str && str.replace(/^\\s+|\\s+$/g, '');\n}\nfunction replaceTagsWithPlaceholders(source, tag, tagValue) {\n  const escapedBeginningTag = hbsEscape(`<${tag}>`);\n  const escapedEndTag = hbsEscape(`</${tag}>`);\n  const [beginningTag, endTag] = tagValue.split(tag);\n  if (!source.includes(escapedBeginningTag) && !source.includes(escapedEndTag)) {\n    throw Error(`Parsed tag \"${tag}\" is not present in \"${source}\"`);\n  } else if (!tagValue.includes(tag)) {\n    throw Error(`Parsed tag \"${tag}\" is not present in \"${tagValue}\"`);\n  } else if (!beginningTag || !endTag) {\n    throw Error(`Template value \"${tagValue}\" must contain beginning and closing tags`);\n  }\n  return source.replace(escapedBeginningTag, beginningTag).replace(escapedEndTag, endTag);\n}\n/* eslint max-statements: [2, 18] */\n\n_Handlebars2.registerHelper('i18n', function i18n(options) {\n  let params;\n  const key = trim(options.hash.code);\n  const bundle = trim(options.hash.bundle);\n  const args = trim(options.hash.arguments);\n  const tags = Object.keys(options.hash).filter(prop => prop.match(/^\\$\\d+/)).map(prop => ({\n    tag: prop,\n    value: options.hash[prop]\n  }));\n  if (args) {\n    params = oktaUnderscore.map(trim(args).split(';'), function mapParam(param) {\n      param = trim(param);\n      let val;\n      /*\n       * the context(data) may be a deep object, ex {user: {name: 'John', gender: 'M'}}\n       * arguments may be 'user.name'\n       * return data['user']['name']\n       */\n\n      oktaUnderscore.each(param.split('.'), p => {\n        val = val ? val[p] : this[p];\n      });\n      return val;\n    }, this);\n  }\n  const localizedValue = StringUtil.localize(key, bundle, params);\n  if (tags.length < 1) {\n    // No HTML tags provided - return the localized and escaped string\n    return localizedValue;\n  }\n  let escapedString = hbsEscape(localizedValue);\n  try {\n    tags.forEach(tag => {\n      escapedString = replaceTagsWithPlaceholders(escapedString, tag.tag, tag.value);\n    });\n    return new _Handlebars2.SafeString(escapedString);\n  } catch (err) {\n    Logger.error(err.toString());\n    return localizedValue;\n  }\n});","map":{"version":3,"names":["_Handlebars2","default","oktaUnderscore","Logger","StringUtil","hbsEscape","Utils","escapeExpression","trim","str","replace","replaceTagsWithPlaceholders","source","tag","tagValue","escapedBeginningTag","escapedEndTag","beginningTag","endTag","split","includes","Error","registerHelper","i18n","options","params","key","hash","code","bundle","args","arguments","tags","Object","keys","filter","prop","match","map","value","mapParam","param","val","each","p","localizedValue","localize","length","escapedString","forEach","SafeString","err","error","toString"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js"],"sourcesContent":["import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../underscore-wrapper.js';\nimport Logger from '../Logger.js';\nimport StringUtil from '../StringUtil.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\n\nconst hbsEscape = _Handlebars2.Utils.escapeExpression;\n\nfunction trim(str) {\n  return str && str.replace(/^\\s+|\\s+$/g, '');\n}\n\nfunction replaceTagsWithPlaceholders(source, tag, tagValue) {\n  const escapedBeginningTag = hbsEscape(`<${tag}>`);\n  const escapedEndTag = hbsEscape(`</${tag}>`);\n  const [beginningTag, endTag] = tagValue.split(tag);\n\n  if (!source.includes(escapedBeginningTag) && !source.includes(escapedEndTag)) {\n    throw Error(`Parsed tag \"${tag}\" is not present in \"${source}\"`);\n  } else if (!tagValue.includes(tag)) {\n    throw Error(`Parsed tag \"${tag}\" is not present in \"${tagValue}\"`);\n  } else if (!beginningTag || !endTag) {\n    throw Error(`Template value \"${tagValue}\" must contain beginning and closing tags`);\n  }\n\n  return source.replace(escapedBeginningTag, beginningTag).replace(escapedEndTag, endTag);\n}\n/* eslint max-statements: [2, 18] */\n\n\n_Handlebars2.registerHelper('i18n', function i18n(options) {\n  let params;\n  const key = trim(options.hash.code);\n  const bundle = trim(options.hash.bundle);\n  const args = trim(options.hash.arguments);\n  const tags = Object.keys(options.hash).filter(prop => prop.match(/^\\$\\d+/)).map(prop => ({\n    tag: prop,\n    value: options.hash[prop]\n  }));\n\n  if (args) {\n    params = oktaUnderscore.map(trim(args).split(';'), function mapParam(param) {\n      param = trim(param);\n      let val;\n      /*\n       * the context(data) may be a deep object, ex {user: {name: 'John', gender: 'M'}}\n       * arguments may be 'user.name'\n       * return data['user']['name']\n       */\n\n      oktaUnderscore.each(param.split('.'), p => {\n        val = val ? val[p] : this[p];\n      });\n      return val;\n    }, this);\n  }\n\n  const localizedValue = StringUtil.localize(key, bundle, params);\n\n  if (tags.length < 1) {\n    // No HTML tags provided - return the localized and escaped string\n    return localizedValue;\n  }\n\n  let escapedString = hbsEscape(localizedValue);\n\n  try {\n    tags.forEach(tag => {\n      escapedString = replaceTagsWithPlaceholders(escapedString, tag.tag, tag.value);\n    });\n    return new _Handlebars2.SafeString(escapedString);\n  } catch (err) {\n    Logger.error(err.toString());\n    return localizedValue;\n  }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}