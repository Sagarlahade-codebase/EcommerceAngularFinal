{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthSdkError from '../../errors/AuthSdkError.js';\nfunction addListener(eventTarget, name, fn) {\n  if (eventTarget.addEventListener) {\n    eventTarget.addEventListener(name, fn);\n  } else {\n    eventTarget.attachEvent('on' + name, fn);\n  }\n}\nfunction removeListener(eventTarget, name, fn) {\n  if (eventTarget.removeEventListener) {\n    eventTarget.removeEventListener(name, fn);\n  } else {\n    eventTarget.detachEvent('on' + name, fn);\n  }\n}\nfunction loadFrame(src) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.src = src;\n  return document.body.appendChild(iframe);\n}\nfunction loadPopup(src, options) {\n  var title = options.popupTitle || 'External Identity Provider User Authentication';\n  var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' + 'top=100, left=500, width=600, height=600';\n  return window.open(src, title, appearance);\n}\nfunction addPostMessageListener(sdk, timeout, state) {\n  var responseHandler;\n  var timeoutId;\n  var msgReceivedOrTimeout = new Promise(function (resolve, reject) {\n    responseHandler = function responseHandler(e) {\n      if (!e.data || e.data.state !== state) {\n        return;\n      }\n      if (e.origin !== sdk.getIssuerOrigin()) {\n        return reject(new AuthSdkError('The request does not match client configuration'));\n      }\n      resolve(e.data);\n    };\n    addListener(window, 'message', responseHandler);\n    timeoutId = setTimeout(function () {\n      reject(new AuthSdkError('OAuth flow timed out'));\n    }, timeout || 120000);\n  });\n  return msgReceivedOrTimeout.finally(function () {\n    clearTimeout(timeoutId);\n    removeListener(window, 'message', responseHandler);\n  });\n}\nexport { addListener, addPostMessageListener, loadFrame, loadPopup, removeListener };","map":{"version":3,"names":["AuthSdkError","addListener","eventTarget","name","fn","addEventListener","attachEvent","removeListener","removeEventListener","detachEvent","loadFrame","src","iframe","document","createElement","style","display","body","appendChild","loadPopup","options","title","popupTitle","appearance","window","open","addPostMessageListener","sdk","timeout","state","responseHandler","timeoutId","msgReceivedOrTimeout","Promise","resolve","reject","e","data","origin","getIssuerOrigin","setTimeout","finally","clearTimeout"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-auth-js/esm/browser/oidc/util/browser.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthSdkError from '../../errors/AuthSdkError.js';\n\nfunction addListener(eventTarget, name, fn) {\n    if (eventTarget.addEventListener) {\n        eventTarget.addEventListener(name, fn);\n    }\n    else {\n        eventTarget.attachEvent('on' + name, fn);\n    }\n}\nfunction removeListener(eventTarget, name, fn) {\n    if (eventTarget.removeEventListener) {\n        eventTarget.removeEventListener(name, fn);\n    }\n    else {\n        eventTarget.detachEvent('on' + name, fn);\n    }\n}\nfunction loadFrame(src) {\n    var iframe = document.createElement('iframe');\n    iframe.style.display = 'none';\n    iframe.src = src;\n    return document.body.appendChild(iframe);\n}\nfunction loadPopup(src, options) {\n    var title = options.popupTitle || 'External Identity Provider User Authentication';\n    var appearance = 'toolbar=no, scrollbars=yes, resizable=yes, ' +\n        'top=100, left=500, width=600, height=600';\n    return window.open(src, title, appearance);\n}\nfunction addPostMessageListener(sdk, timeout, state) {\n    var responseHandler;\n    var timeoutId;\n    var msgReceivedOrTimeout = new Promise(function (resolve, reject) {\n        responseHandler = function responseHandler(e) {\n            if (!e.data || e.data.state !== state) {\n                return;\n            }\n            if (e.origin !== sdk.getIssuerOrigin()) {\n                return reject(new AuthSdkError('The request does not match client configuration'));\n            }\n            resolve(e.data);\n        };\n        addListener(window, 'message', responseHandler);\n        timeoutId = setTimeout(function () {\n            reject(new AuthSdkError('OAuth flow timed out'));\n        }, timeout || 120000);\n    });\n    return msgReceivedOrTimeout\n        .finally(function () {\n        clearTimeout(timeoutId);\n        removeListener(window, 'message', responseHandler);\n    });\n}\n\nexport { addListener, addPostMessageListener, loadFrame, loadPopup, removeListener };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,YAAY,MAAM,8BAA8B;AAEvD,SAASC,WAAWA,CAACC,WAAW,EAAEC,IAAI,EAAEC,EAAE,EAAE;EACxC,IAAIF,WAAW,CAACG,gBAAgB,EAAE;IAC9BH,WAAW,CAACG,gBAAgB,CAACF,IAAI,EAAEC,EAAE,CAAC;EAC1C,CAAC,MACI;IACDF,WAAW,CAACI,WAAW,CAAC,IAAI,GAAGH,IAAI,EAAEC,EAAE,CAAC;EAC5C;AACJ;AACA,SAASG,cAAcA,CAACL,WAAW,EAAEC,IAAI,EAAEC,EAAE,EAAE;EAC3C,IAAIF,WAAW,CAACM,mBAAmB,EAAE;IACjCN,WAAW,CAACM,mBAAmB,CAACL,IAAI,EAAEC,EAAE,CAAC;EAC7C,CAAC,MACI;IACDF,WAAW,CAACO,WAAW,CAAC,IAAI,GAAGN,IAAI,EAAEC,EAAE,CAAC;EAC5C;AACJ;AACA,SAASM,SAASA,CAACC,GAAG,EAAE;EACpB,IAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAC7CF,MAAM,CAACG,KAAK,CAACC,OAAO,GAAG,MAAM;EAC7BJ,MAAM,CAACD,GAAG,GAAGA,GAAG;EAChB,OAAOE,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,MAAM,CAAC;AAC5C;AACA,SAASO,SAASA,CAACR,GAAG,EAAES,OAAO,EAAE;EAC7B,IAAIC,KAAK,GAAGD,OAAO,CAACE,UAAU,IAAI,gDAAgD;EAClF,IAAIC,UAAU,GAAG,6CAA6C,GAC1D,0CAA0C;EAC9C,OAAOC,MAAM,CAACC,IAAI,CAACd,GAAG,EAAEU,KAAK,EAAEE,UAAU,CAAC;AAC9C;AACA,SAASG,sBAAsBA,CAACC,GAAG,EAAEC,OAAO,EAAEC,KAAK,EAAE;EACjD,IAAIC,eAAe;EACnB,IAAIC,SAAS;EACb,IAAIC,oBAAoB,GAAG,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;IAC9DL,eAAe,GAAG,SAASA,eAAeA,CAACM,CAAC,EAAE;MAC1C,IAAI,CAACA,CAAC,CAACC,IAAI,IAAID,CAAC,CAACC,IAAI,CAACR,KAAK,KAAKA,KAAK,EAAE;QACnC;MACJ;MACA,IAAIO,CAAC,CAACE,MAAM,KAAKX,GAAG,CAACY,eAAe,CAAC,CAAC,EAAE;QACpC,OAAOJ,MAAM,CAAC,IAAInC,YAAY,CAAC,iDAAiD,CAAC,CAAC;MACtF;MACAkC,OAAO,CAACE,CAAC,CAACC,IAAI,CAAC;IACnB,CAAC;IACDpC,WAAW,CAACuB,MAAM,EAAE,SAAS,EAAEM,eAAe,CAAC;IAC/CC,SAAS,GAAGS,UAAU,CAAC,YAAY;MAC/BL,MAAM,CAAC,IAAInC,YAAY,CAAC,sBAAsB,CAAC,CAAC;IACpD,CAAC,EAAE4B,OAAO,IAAI,MAAM,CAAC;EACzB,CAAC,CAAC;EACF,OAAOI,oBAAoB,CACtBS,OAAO,CAAC,YAAY;IACrBC,YAAY,CAACX,SAAS,CAAC;IACvBxB,cAAc,CAACiB,MAAM,EAAE,SAAS,EAAEM,eAAe,CAAC;EACtD,CAAC,CAAC;AACN;AAEA,SAAS7B,WAAW,EAAEyB,sBAAsB,EAAEhB,SAAS,EAAES,SAAS,EAAEZ,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}