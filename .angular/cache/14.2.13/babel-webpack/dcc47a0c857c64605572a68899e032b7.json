{"ast":null,"code":"import { Router, loc } from '../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport Backbone from '../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport oktaJQueryStatic from '../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport AppState from './models/AppState.js';\nimport Settings from '../models/Settings.js';\nimport Bundles from '../util/Bundles.js';\nimport Logger from '../util/Logger.js';\nimport AuthContainer from './views/shared/AuthContainer.js';\nimport Header from './views/shared/Header.js';\nimport SecurityBeacon from './views/shared/SecurityBeacon.js';\nimport fn$2 from '../util/Animations.js';\nimport fn$3 from '../util/BrowserFeatures.js';\nimport fn$1 from '../util/ColorsUtil.js';\nimport Enums from '../util/Enums.js';\nimport { ConfigError } from '../util/Errors.js';\nimport fn from './util/RouterUtil.js';\nimport Util from '../util/Util.js';\nimport LanguageUtil from '../util/LanguageUtil.js';\n\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction isStateLessRouteHandler(router, fn) {\n  return oktaUnderscore.find(router.stateLessRouteHandlers, function (routeName) {\n    return fn === router[routeName];\n  });\n}\nfunction beaconIsAvailable(Beacon, settings) {\n  if (!Beacon) {\n    return false;\n  }\n  if (Beacon === SecurityBeacon) {\n    return settings.get('features.securityImage');\n  }\n  return true;\n}\nvar BaseLoginRouter = Router.extend({\n  Events: Backbone.Events,\n  initialize: function (options) {\n    // Create a default success and/or error handler if\n    // one is not provided.\n    if (!options.globalSuccessFn) {\n      options.globalSuccessFn = function () {};\n    }\n    if (!options.globalErrorFn) {\n      options.globalErrorFn = function (err) {\n        Logger.error(err);\n      };\n    }\n    this.settings = new Settings(oktaUnderscore.omit(options, 'el', 'authClient'), {\n      parse: true\n    });\n    this.settings.setAuthClient(options.authClient);\n    if (!options.el) {\n      this.settings.callGlobalError(new ConfigError(loc('error.required.el')));\n    }\n    oktaJQueryStatic('body > div').on('click', function () {// OKTA-69769 Tooltip wont close on iPhone/iPad\n      // Registering a click handler on the first div\n      // allows a tap that falls outside the tooltip\n      // to be registered as a tap by iOS\n      // and then the open tooltip will lose focus and close.\n    });\n    this.appState = new AppState({\n      baseUrl: this.settings.get('baseUrl'),\n      settings: this.settings\n    }, {\n      parse: true\n    });\n    const wrapper = new AuthContainer({\n      appState: this.appState\n    });\n    oktaJQueryStatic(options.el).append(wrapper.render().$el);\n    this.el = `#${Enums.WIDGET_CONTAINER_ID}`;\n    this.header = new Header({\n      el: this.el,\n      appState: this.appState,\n      settings: this.settings\n    }); // Hide until unitial render\n\n    this.hide();\n    this.listenTo(this.appState, 'change:transactionError', function (appState, err) {\n      fn.routeAfterAuthStatusChangeError(this, err);\n    });\n    this.listenTo(this.appState, 'change:transaction', function (appState, trans) {\n      fn.routeAfterAuthStatusChange(this, trans.data);\n    });\n    this.listenTo(this.appState, 'navigate', function (url) {\n      this.navigate(url, {\n        trigger: true\n      });\n    });\n  },\n  execute: function (cb, args) {\n    const recoveryToken = this.settings.get('recoveryToken'); // Recovery flow with a token passed through widget settings\n\n    if (recoveryToken) {\n      this.settings.unset('recoveryToken');\n      this.navigate(fn.createRecoveryUrl(recoveryToken), {\n        trigger: true\n      });\n      return;\n    } // Refresh flow with a stateToken passed through widget settings\n\n    const stateToken = this.settings.get('stateToken');\n    if (stateToken) {\n      this.settings.unset('stateToken');\n      this.navigate(fn.createRefreshUrl(stateToken), {\n        trigger: true\n      });\n      return;\n    } // Normal flow - we've either navigated to a stateless page, or are\n    // in the middle of an auth flow\n\n    const trans = this.appState.get('transaction');\n    if (trans && trans.data || isStateLessRouteHandler(this, cb)) {\n      cb.apply(this, args);\n      return;\n    } // StateToken cookie exists on page load, and we are on a stateful url\n\n    if (this.settings.getAuthClient().tx.exists()) {\n      this.navigate(fn.createRefreshUrl(), {\n        trigger: true\n      });\n      return;\n    } // We've hit a page that requires state, but have no stateToken - redirect\n    // back to primary auth\n\n    this.navigate('', {\n      trigger: true\n    });\n  },\n  // Overriding the default navigate method to allow the widget consumer\n  // to \"turn off\" routing - if features.router is false, the browser\n  // location bar will not update when the router navigates\n  navigate: function (fragment, options) {\n    if (this.settings.get('features.router')) {\n      return Router.prototype.navigate.apply(this, arguments);\n    }\n    if (options && options.trigger) {\n      return Backbone.history.loadUrl(fragment);\n    }\n  },\n  render: function (Controller, options) {\n    options || (options = {});\n    let Beacon = options.Beacon;\n    const controllerOptions = oktaUnderscore.extend({\n      settings: this.settings,\n      appState: this.appState\n    }, oktaUnderscore.omit(options, 'Beacon')); // Since we have a wrapper view, render our wrapper and use its content\n    // element as our new el.\n    // Note: Render it here because we know dom is ready at this point\n\n    if (!this.header.rendered()) {\n      this.el = this.header.render().getContentEl();\n    } // If we need to load a language (or apply custom i18n overrides), do\n    // this now and re-run render after it's finished.\n\n    if (!Bundles.isLoaded(this.appState.get('languageCode'))) {\n      return LanguageUtil.loadLanguage(this.appState, this.settings).then(oktaUnderscore.bind(this.render, this, Controller, options));\n    } // Load the custom colors only on the first render\n\n    if (this.settings.get('colors.brand') && !fn$1.isLoaded()) {\n      const colors = {\n        brand: this.settings.get('colors.brand')\n      };\n      fn$1.addStyle(colors);\n    }\n    const oldController = this.controller;\n    this.controller = new Controller(controllerOptions); // Bubble up all controller events\n\n    this.listenTo(this.controller, 'all', this.trigger); // First run fetchInitialData, in case the next controller needs data\n    // before it's initial render. This will leave the current page in a\n    // loading state.\n\n    return this.controller.fetchInitialData().then(() => {\n      // Beacon transition occurs in parallel to page swap\n      if (!beaconIsAvailable(Beacon, this.settings)) {\n        Beacon = null;\n      }\n      this.header.setBeacon(Beacon, controllerOptions); // Show before initial render\n\n      this.show();\n      this.controller.render();\n      if (!oldController) {\n        this.el.append(this.controller.el);\n        this.controller.postRenderAnimation();\n        return;\n      }\n      return fn$2.swapPages({\n        $parent: this.el,\n        $oldRoot: oldController.$el,\n        $newRoot: this.controller.$el,\n        dir: oldController.state.get('navigateDir'),\n        ctx: this,\n        success: function () {\n          const flashError = this.appState.get('flashError');\n          const model = this.controller.model;\n          oldController.remove();\n          oldController.$el.remove();\n          this.controller.postRenderAnimation();\n          if (flashError) {\n            let errorSummary;\n            const isTerminalError = flashError.is && flashError.is('terminal');\n            if (isTerminalError) {\n              errorSummary = flashError.errorDetails.errorSummary;\n            } else {\n              errorSummary = loc(this.settings.get('features.mfaOnlyFlow') ? 'error.mfa.only.expired.session' : 'error.expired.session');\n            }\n            model.trigger('error', model, {\n              responseJSON: {\n                errorSummary: errorSummary\n              }\n            });\n            this.appState.unset('flashError');\n            Util.triggerAfterError(this.controller, flashError);\n          }\n        }\n      });\n    }).catch(function () {\n      // OKTA-69665 - if an error occurs in fetchInitialData, we're left in\n      // a state with two active controllers. Therefore, we clean up the\n      // old one. Note: This explicitly handles the invalid token case -\n      // if we get some other type of error which doesn't force a redirect,\n      // we will probably be left in a bad state. I.e. old controller is\n      // dropped and new controller is not rendered.\n      if (oldController) {\n        oldController.remove();\n        oldController.$el.remove();\n      }\n    });\n  },\n  start: function () {\n    let pushState = false; // Support for browser's back button.\n\n    if (window.addEventListener && this.settings.get('features.router')) {\n      window.addEventListener('popstate', e => {\n        if (this.controller.back) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n          this.controller.back();\n        }\n      });\n      pushState = fn$3.supportsPushState();\n    }\n    Router.prototype.start.call(this, {\n      pushState: pushState\n    });\n  },\n  hide: function () {\n    this.header.$el.hide();\n  },\n  show: function () {\n    this.header.$el.show();\n  },\n  remove: function () {\n    if (this.controller) {\n      this.controller.remove();\n    }\n    this.header.$el.remove();\n    Bundles.remove();\n    Backbone.history.stop();\n  }\n});\nexport { BaseLoginRouter as default };","map":{"version":3,"names":["Router","loc","Backbone","oktaJQueryStatic","oktaUnderscore","AppState","Settings","Bundles","Logger","AuthContainer","Header","SecurityBeacon","fn$2","fn$3","fn$1","Enums","ConfigError","fn","Util","LanguageUtil","isStateLessRouteHandler","router","find","stateLessRouteHandlers","routeName","beaconIsAvailable","Beacon","settings","get","BaseLoginRouter","extend","Events","initialize","options","globalSuccessFn","globalErrorFn","err","error","omit","parse","setAuthClient","authClient","el","callGlobalError","on","appState","baseUrl","wrapper","append","render","$el","WIDGET_CONTAINER_ID","header","hide","listenTo","routeAfterAuthStatusChangeError","trans","routeAfterAuthStatusChange","data","url","navigate","trigger","execute","cb","args","recoveryToken","unset","createRecoveryUrl","stateToken","createRefreshUrl","apply","getAuthClient","tx","exists","fragment","prototype","arguments","history","loadUrl","Controller","controllerOptions","rendered","getContentEl","isLoaded","loadLanguage","then","bind","colors","brand","addStyle","oldController","controller","fetchInitialData","setBeacon","show","postRenderAnimation","swapPages","$parent","$oldRoot","$newRoot","dir","state","ctx","success","flashError","model","remove","errorSummary","isTerminalError","is","errorDetails","responseJSON","triggerAfterError","catch","start","pushState","window","addEventListener","e","back","preventDefault","stopImmediatePropagation","supportsPushState","call","stop","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v1/BaseLoginRouter.js"],"sourcesContent":["import { Router, loc } from '../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport Backbone from '../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport oktaJQueryStatic from '../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport AppState from './models/AppState.js';\nimport Settings from '../models/Settings.js';\nimport Bundles from '../util/Bundles.js';\nimport Logger from '../util/Logger.js';\nimport AuthContainer from './views/shared/AuthContainer.js';\nimport Header from './views/shared/Header.js';\nimport SecurityBeacon from './views/shared/SecurityBeacon.js';\nimport fn$2 from '../util/Animations.js';\nimport fn$3 from '../util/BrowserFeatures.js';\nimport fn$1 from '../util/ColorsUtil.js';\nimport Enums from '../util/Enums.js';\nimport { ConfigError } from '../util/Errors.js';\nimport fn from './util/RouterUtil.js';\nimport Util from '../util/Util.js';\nimport LanguageUtil from '../util/LanguageUtil.js';\n\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction isStateLessRouteHandler(router, fn) {\n  return oktaUnderscore.find(router.stateLessRouteHandlers, function (routeName) {\n    return fn === router[routeName];\n  });\n}\n\nfunction beaconIsAvailable(Beacon, settings) {\n  if (!Beacon) {\n    return false;\n  }\n\n  if (Beacon === SecurityBeacon) {\n    return settings.get('features.securityImage');\n  }\n\n  return true;\n}\n\nvar BaseLoginRouter = Router.extend({\n  Events: Backbone.Events,\n  initialize: function (options) {\n    // Create a default success and/or error handler if\n    // one is not provided.\n    if (!options.globalSuccessFn) {\n      options.globalSuccessFn = function () {};\n    }\n\n    if (!options.globalErrorFn) {\n      options.globalErrorFn = function (err) {\n        Logger.error(err);\n      };\n    }\n\n    this.settings = new Settings(oktaUnderscore.omit(options, 'el', 'authClient'), {\n      parse: true\n    });\n    this.settings.setAuthClient(options.authClient);\n\n    if (!options.el) {\n      this.settings.callGlobalError(new ConfigError(loc('error.required.el')));\n    }\n\n    oktaJQueryStatic('body > div').on('click', function () {// OKTA-69769 Tooltip wont close on iPhone/iPad\n      // Registering a click handler on the first div\n      // allows a tap that falls outside the tooltip\n      // to be registered as a tap by iOS\n      // and then the open tooltip will lose focus and close.\n    });\n    this.appState = new AppState({\n      baseUrl: this.settings.get('baseUrl'),\n      settings: this.settings\n    }, {\n      parse: true\n    });\n    const wrapper = new AuthContainer({\n      appState: this.appState\n    });\n    oktaJQueryStatic(options.el).append(wrapper.render().$el);\n    this.el = `#${Enums.WIDGET_CONTAINER_ID}`;\n    this.header = new Header({\n      el: this.el,\n      appState: this.appState,\n      settings: this.settings\n    }); // Hide until unitial render\n\n    this.hide();\n    this.listenTo(this.appState, 'change:transactionError', function (appState, err) {\n      fn.routeAfterAuthStatusChangeError(this, err);\n    });\n    this.listenTo(this.appState, 'change:transaction', function (appState, trans) {\n      fn.routeAfterAuthStatusChange(this, trans.data);\n    });\n    this.listenTo(this.appState, 'navigate', function (url) {\n      this.navigate(url, {\n        trigger: true\n      });\n    });\n  },\n  execute: function (cb, args) {\n    const recoveryToken = this.settings.get('recoveryToken'); // Recovery flow with a token passed through widget settings\n\n    if (recoveryToken) {\n      this.settings.unset('recoveryToken');\n      this.navigate(fn.createRecoveryUrl(recoveryToken), {\n        trigger: true\n      });\n      return;\n    } // Refresh flow with a stateToken passed through widget settings\n\n\n    const stateToken = this.settings.get('stateToken');\n\n    if (stateToken) {\n      this.settings.unset('stateToken');\n      this.navigate(fn.createRefreshUrl(stateToken), {\n        trigger: true\n      });\n      return;\n    } // Normal flow - we've either navigated to a stateless page, or are\n    // in the middle of an auth flow\n\n\n    const trans = this.appState.get('transaction');\n\n    if (trans && trans.data || isStateLessRouteHandler(this, cb)) {\n      cb.apply(this, args);\n      return;\n    } // StateToken cookie exists on page load, and we are on a stateful url\n\n\n    if (this.settings.getAuthClient().tx.exists()) {\n      this.navigate(fn.createRefreshUrl(), {\n        trigger: true\n      });\n      return;\n    } // We've hit a page that requires state, but have no stateToken - redirect\n    // back to primary auth\n\n\n    this.navigate('', {\n      trigger: true\n    });\n  },\n  // Overriding the default navigate method to allow the widget consumer\n  // to \"turn off\" routing - if features.router is false, the browser\n  // location bar will not update when the router navigates\n  navigate: function (fragment, options) {\n    if (this.settings.get('features.router')) {\n      return Router.prototype.navigate.apply(this, arguments);\n    }\n\n    if (options && options.trigger) {\n      return Backbone.history.loadUrl(fragment);\n    }\n  },\n  render: function (Controller, options) {\n    options || (options = {});\n    let Beacon = options.Beacon;\n\n    const controllerOptions = oktaUnderscore.extend({\n      settings: this.settings,\n      appState: this.appState\n    }, oktaUnderscore.omit(options, 'Beacon')); // Since we have a wrapper view, render our wrapper and use its content\n    // element as our new el.\n    // Note: Render it here because we know dom is ready at this point\n\n\n    if (!this.header.rendered()) {\n      this.el = this.header.render().getContentEl();\n    } // If we need to load a language (or apply custom i18n overrides), do\n    // this now and re-run render after it's finished.\n\n\n    if (!Bundles.isLoaded(this.appState.get('languageCode'))) {\n      return LanguageUtil.loadLanguage(this.appState, this.settings).then(oktaUnderscore.bind(this.render, this, Controller, options));\n    } // Load the custom colors only on the first render\n\n\n    if (this.settings.get('colors.brand') && !fn$1.isLoaded()) {\n      const colors = {\n        brand: this.settings.get('colors.brand')\n      };\n      fn$1.addStyle(colors);\n    }\n\n    const oldController = this.controller;\n    this.controller = new Controller(controllerOptions); // Bubble up all controller events\n\n    this.listenTo(this.controller, 'all', this.trigger); // First run fetchInitialData, in case the next controller needs data\n    // before it's initial render. This will leave the current page in a\n    // loading state.\n\n    return this.controller.fetchInitialData().then(() => {\n      // Beacon transition occurs in parallel to page swap\n      if (!beaconIsAvailable(Beacon, this.settings)) {\n        Beacon = null;\n      }\n\n      this.header.setBeacon(Beacon, controllerOptions); // Show before initial render\n\n      this.show();\n      this.controller.render();\n\n      if (!oldController) {\n        this.el.append(this.controller.el);\n        this.controller.postRenderAnimation();\n        return;\n      }\n\n      return fn$2.swapPages({\n        $parent: this.el,\n        $oldRoot: oldController.$el,\n        $newRoot: this.controller.$el,\n        dir: oldController.state.get('navigateDir'),\n        ctx: this,\n        success: function () {\n          const flashError = this.appState.get('flashError');\n          const model = this.controller.model;\n          oldController.remove();\n          oldController.$el.remove();\n          this.controller.postRenderAnimation();\n\n          if (flashError) {\n            let errorSummary;\n            const isTerminalError = flashError.is && flashError.is('terminal');\n\n            if (isTerminalError) {\n              errorSummary = flashError.errorDetails.errorSummary;\n            } else {\n              errorSummary = loc(this.settings.get('features.mfaOnlyFlow') ? 'error.mfa.only.expired.session' : 'error.expired.session');\n            }\n\n            model.trigger('error', model, {\n              responseJSON: {\n                errorSummary: errorSummary\n              }\n            });\n            this.appState.unset('flashError');\n            Util.triggerAfterError(this.controller, flashError);\n          }\n        }\n      });\n    }).catch(function () {\n      // OKTA-69665 - if an error occurs in fetchInitialData, we're left in\n      // a state with two active controllers. Therefore, we clean up the\n      // old one. Note: This explicitly handles the invalid token case -\n      // if we get some other type of error which doesn't force a redirect,\n      // we will probably be left in a bad state. I.e. old controller is\n      // dropped and new controller is not rendered.\n      if (oldController) {\n        oldController.remove();\n        oldController.$el.remove();\n      }\n    });\n  },\n  start: function () {\n    let pushState = false; // Support for browser's back button.\n\n    if (window.addEventListener && this.settings.get('features.router')) {\n      window.addEventListener('popstate', e => {\n        if (this.controller.back) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n          this.controller.back();\n        }\n      });\n      pushState = fn$3.supportsPushState();\n    }\n\n    Router.prototype.start.call(this, {\n      pushState: pushState\n    });\n  },\n  hide: function () {\n    this.header.$el.hide();\n  },\n  show: function () {\n    this.header.$el.show();\n  },\n  remove: function () {\n    if (this.controller) {\n      this.controller.remove();\n    }\n\n    this.header.$el.remove();\n    Bundles.remove();\n    Backbone.history.stop();\n  }\n});\n\nexport { BaseLoginRouter as default };\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,GAAG,QAAQ,qEAAqE;AACjG,OAAO,qFAAqF;AAC5F,OAAO,iFAAiF;AACxF,OAAO,oFAAoF;AAC3F,OAAO,kFAAkF;AACzF,OAAO,iFAAiF;AACxF,OAAO,sFAAsF;AAC7F,OAAO,4FAA4F;AACnG,OAAO,sEAAsE;AAC7E,OAAOC,QAAQ,MAAM,0EAA0E;AAC/F,OAAOC,gBAAgB,MAAM,0EAA0E;AACvG,OAAOC,cAAc,MAAM,8EAA8E;AACzG,OAAO,mEAAmE;AAC1E,OAAO,uEAAuE;AAC9E,OAAO,qEAAqE;AAC5E,OAAO,8EAA8E;AACrF,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,OAAO,MAAM,oBAAoB;AACxC,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,aAAa,MAAM,iCAAiC;AAC3D,OAAOC,MAAM,MAAM,0BAA0B;AAC7C,OAAOC,cAAc,MAAM,kCAAkC;AAC7D,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAOC,IAAI,MAAM,4BAA4B;AAC7C,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAOC,KAAK,MAAM,kBAAkB;AACpC,SAASC,WAAW,QAAQ,mBAAmB;AAC/C,OAAOC,EAAE,MAAM,sBAAsB;AACrC,OAAOC,IAAI,MAAM,iBAAiB;AAClC,OAAOC,YAAY,MAAM,yBAAyB;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,uBAAuBA,CAACC,MAAM,EAAEJ,EAAE,EAAE;EAC3C,OAAOb,cAAc,CAACkB,IAAI,CAACD,MAAM,CAACE,sBAAsB,EAAE,UAAUC,SAAS,EAAE;IAC7E,OAAOP,EAAE,KAAKI,MAAM,CAACG,SAAS,CAAC;EACjC,CAAC,CAAC;AACJ;AAEA,SAASC,iBAAiBA,CAACC,MAAM,EAAEC,QAAQ,EAAE;EAC3C,IAAI,CAACD,MAAM,EAAE;IACX,OAAO,KAAK;EACd;EAEA,IAAIA,MAAM,KAAKf,cAAc,EAAE;IAC7B,OAAOgB,QAAQ,CAACC,GAAG,CAAC,wBAAwB,CAAC;EAC/C;EAEA,OAAO,IAAI;AACb;AAEA,IAAIC,eAAe,GAAG7B,MAAM,CAAC8B,MAAM,CAAC;EAClCC,MAAM,EAAE7B,QAAQ,CAAC6B,MAAM;EACvBC,UAAU,EAAE,SAAAA,CAAUC,OAAO,EAAE;IAC7B;IACA;IACA,IAAI,CAACA,OAAO,CAACC,eAAe,EAAE;MAC5BD,OAAO,CAACC,eAAe,GAAG,YAAY,CAAC,CAAC;IAC1C;IAEA,IAAI,CAACD,OAAO,CAACE,aAAa,EAAE;MAC1BF,OAAO,CAACE,aAAa,GAAG,UAAUC,GAAG,EAAE;QACrC5B,MAAM,CAAC6B,KAAK,CAACD,GAAG,CAAC;MACnB,CAAC;IACH;IAEA,IAAI,CAACT,QAAQ,GAAG,IAAIrB,QAAQ,CAACF,cAAc,CAACkC,IAAI,CAACL,OAAO,EAAE,IAAI,EAAE,YAAY,CAAC,EAAE;MAC7EM,KAAK,EAAE;IACT,CAAC,CAAC;IACF,IAAI,CAACZ,QAAQ,CAACa,aAAa,CAACP,OAAO,CAACQ,UAAU,CAAC;IAE/C,IAAI,CAACR,OAAO,CAACS,EAAE,EAAE;MACf,IAAI,CAACf,QAAQ,CAACgB,eAAe,CAAC,IAAI3B,WAAW,CAACf,GAAG,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAC1E;IAEAE,gBAAgB,CAAC,YAAY,CAAC,CAACyC,EAAE,CAAC,OAAO,EAAE,YAAY,CAAC;MACtD;MACA;MACA;MACA;IAAA,CACD,CAAC;IACF,IAAI,CAACC,QAAQ,GAAG,IAAIxC,QAAQ,CAAC;MAC3ByC,OAAO,EAAE,IAAI,CAACnB,QAAQ,CAACC,GAAG,CAAC,SAAS,CAAC;MACrCD,QAAQ,EAAE,IAAI,CAACA;IACjB,CAAC,EAAE;MACDY,KAAK,EAAE;IACT,CAAC,CAAC;IACF,MAAMQ,OAAO,GAAG,IAAItC,aAAa,CAAC;MAChCoC,QAAQ,EAAE,IAAI,CAACA;IACjB,CAAC,CAAC;IACF1C,gBAAgB,CAAC8B,OAAO,CAACS,EAAE,CAAC,CAACM,MAAM,CAACD,OAAO,CAACE,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC;IACzD,IAAI,CAACR,EAAE,GAAG,IAAI3B,KAAK,CAACoC,mBAAmB,EAAE;IACzC,IAAI,CAACC,MAAM,GAAG,IAAI1C,MAAM,CAAC;MACvBgC,EAAE,EAAE,IAAI,CAACA,EAAE;MACXG,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBlB,QAAQ,EAAE,IAAI,CAACA;IACjB,CAAC,CAAC,CAAC,CAAC;;IAEJ,IAAI,CAAC0B,IAAI,CAAC,CAAC;IACX,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACT,QAAQ,EAAE,yBAAyB,EAAE,UAAUA,QAAQ,EAAET,GAAG,EAAE;MAC/EnB,EAAE,CAACsC,+BAA+B,CAAC,IAAI,EAAEnB,GAAG,CAAC;IAC/C,CAAC,CAAC;IACF,IAAI,CAACkB,QAAQ,CAAC,IAAI,CAACT,QAAQ,EAAE,oBAAoB,EAAE,UAAUA,QAAQ,EAAEW,KAAK,EAAE;MAC5EvC,EAAE,CAACwC,0BAA0B,CAAC,IAAI,EAAED,KAAK,CAACE,IAAI,CAAC;IACjD,CAAC,CAAC;IACF,IAAI,CAACJ,QAAQ,CAAC,IAAI,CAACT,QAAQ,EAAE,UAAU,EAAE,UAAUc,GAAG,EAAE;MACtD,IAAI,CAACC,QAAQ,CAACD,GAAG,EAAE;QACjBE,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EACDC,OAAO,EAAE,SAAAA,CAAUC,EAAE,EAAEC,IAAI,EAAE;IAC3B,MAAMC,aAAa,GAAG,IAAI,CAACtC,QAAQ,CAACC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC;;IAE1D,IAAIqC,aAAa,EAAE;MACjB,IAAI,CAACtC,QAAQ,CAACuC,KAAK,CAAC,eAAe,CAAC;MACpC,IAAI,CAACN,QAAQ,CAAC3C,EAAE,CAACkD,iBAAiB,CAACF,aAAa,CAAC,EAAE;QACjDJ,OAAO,EAAE;MACX,CAAC,CAAC;MACF;IACF,CAAC,CAAC;;IAGF,MAAMO,UAAU,GAAG,IAAI,CAACzC,QAAQ,CAACC,GAAG,CAAC,YAAY,CAAC;IAElD,IAAIwC,UAAU,EAAE;MACd,IAAI,CAACzC,QAAQ,CAACuC,KAAK,CAAC,YAAY,CAAC;MACjC,IAAI,CAACN,QAAQ,CAAC3C,EAAE,CAACoD,gBAAgB,CAACD,UAAU,CAAC,EAAE;QAC7CP,OAAO,EAAE;MACX,CAAC,CAAC;MACF;IACF,CAAC,CAAC;IACF;;IAGA,MAAML,KAAK,GAAG,IAAI,CAACX,QAAQ,CAACjB,GAAG,CAAC,aAAa,CAAC;IAE9C,IAAI4B,KAAK,IAAIA,KAAK,CAACE,IAAI,IAAItC,uBAAuB,CAAC,IAAI,EAAE2C,EAAE,CAAC,EAAE;MAC5DA,EAAE,CAACO,KAAK,CAAC,IAAI,EAAEN,IAAI,CAAC;MACpB;IACF,CAAC,CAAC;;IAGF,IAAI,IAAI,CAACrC,QAAQ,CAAC4C,aAAa,CAAC,CAAC,CAACC,EAAE,CAACC,MAAM,CAAC,CAAC,EAAE;MAC7C,IAAI,CAACb,QAAQ,CAAC3C,EAAE,CAACoD,gBAAgB,CAAC,CAAC,EAAE;QACnCR,OAAO,EAAE;MACX,CAAC,CAAC;MACF;IACF,CAAC,CAAC;IACF;;IAGA,IAAI,CAACD,QAAQ,CAAC,EAAE,EAAE;MAChBC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC;EACD;EACA;EACA;EACAD,QAAQ,EAAE,SAAAA,CAAUc,QAAQ,EAAEzC,OAAO,EAAE;IACrC,IAAI,IAAI,CAACN,QAAQ,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAE;MACxC,OAAO5B,MAAM,CAAC2E,SAAS,CAACf,QAAQ,CAACU,KAAK,CAAC,IAAI,EAAEM,SAAS,CAAC;IACzD;IAEA,IAAI3C,OAAO,IAAIA,OAAO,CAAC4B,OAAO,EAAE;MAC9B,OAAO3D,QAAQ,CAAC2E,OAAO,CAACC,OAAO,CAACJ,QAAQ,CAAC;IAC3C;EACF,CAAC;EACDzB,MAAM,EAAE,SAAAA,CAAU8B,UAAU,EAAE9C,OAAO,EAAE;IACrCA,OAAO,KAAKA,OAAO,GAAG,CAAC,CAAC,CAAC;IACzB,IAAIP,MAAM,GAAGO,OAAO,CAACP,MAAM;IAE3B,MAAMsD,iBAAiB,GAAG5E,cAAc,CAAC0B,MAAM,CAAC;MAC9CH,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBkB,QAAQ,EAAE,IAAI,CAACA;IACjB,CAAC,EAAEzC,cAAc,CAACkC,IAAI,CAACL,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC5C;IACA;;IAGA,IAAI,CAAC,IAAI,CAACmB,MAAM,CAAC6B,QAAQ,CAAC,CAAC,EAAE;MAC3B,IAAI,CAACvC,EAAE,GAAG,IAAI,CAACU,MAAM,CAACH,MAAM,CAAC,CAAC,CAACiC,YAAY,CAAC,CAAC;IAC/C,CAAC,CAAC;IACF;;IAGA,IAAI,CAAC3E,OAAO,CAAC4E,QAAQ,CAAC,IAAI,CAACtC,QAAQ,CAACjB,GAAG,CAAC,cAAc,CAAC,CAAC,EAAE;MACxD,OAAOT,YAAY,CAACiE,YAAY,CAAC,IAAI,CAACvC,QAAQ,EAAE,IAAI,CAAClB,QAAQ,CAAC,CAAC0D,IAAI,CAACjF,cAAc,CAACkF,IAAI,CAAC,IAAI,CAACrC,MAAM,EAAE,IAAI,EAAE8B,UAAU,EAAE9C,OAAO,CAAC,CAAC;IAClI,CAAC,CAAC;;IAGF,IAAI,IAAI,CAACN,QAAQ,CAACC,GAAG,CAAC,cAAc,CAAC,IAAI,CAACd,IAAI,CAACqE,QAAQ,CAAC,CAAC,EAAE;MACzD,MAAMI,MAAM,GAAG;QACbC,KAAK,EAAE,IAAI,CAAC7D,QAAQ,CAACC,GAAG,CAAC,cAAc;MACzC,CAAC;MACDd,IAAI,CAAC2E,QAAQ,CAACF,MAAM,CAAC;IACvB;IAEA,MAAMG,aAAa,GAAG,IAAI,CAACC,UAAU;IACrC,IAAI,CAACA,UAAU,GAAG,IAAIZ,UAAU,CAACC,iBAAiB,CAAC,CAAC,CAAC;;IAErD,IAAI,CAAC1B,QAAQ,CAAC,IAAI,CAACqC,UAAU,EAAE,KAAK,EAAE,IAAI,CAAC9B,OAAO,CAAC,CAAC,CAAC;IACrD;IACA;;IAEA,OAAO,IAAI,CAAC8B,UAAU,CAACC,gBAAgB,CAAC,CAAC,CAACP,IAAI,CAAC,MAAM;MACnD;MACA,IAAI,CAAC5D,iBAAiB,CAACC,MAAM,EAAE,IAAI,CAACC,QAAQ,CAAC,EAAE;QAC7CD,MAAM,GAAG,IAAI;MACf;MAEA,IAAI,CAAC0B,MAAM,CAACyC,SAAS,CAACnE,MAAM,EAAEsD,iBAAiB,CAAC,CAAC,CAAC;;MAElD,IAAI,CAACc,IAAI,CAAC,CAAC;MACX,IAAI,CAACH,UAAU,CAAC1C,MAAM,CAAC,CAAC;MAExB,IAAI,CAACyC,aAAa,EAAE;QAClB,IAAI,CAAChD,EAAE,CAACM,MAAM,CAAC,IAAI,CAAC2C,UAAU,CAACjD,EAAE,CAAC;QAClC,IAAI,CAACiD,UAAU,CAACI,mBAAmB,CAAC,CAAC;QACrC;MACF;MAEA,OAAOnF,IAAI,CAACoF,SAAS,CAAC;QACpBC,OAAO,EAAE,IAAI,CAACvD,EAAE;QAChBwD,QAAQ,EAAER,aAAa,CAACxC,GAAG;QAC3BiD,QAAQ,EAAE,IAAI,CAACR,UAAU,CAACzC,GAAG;QAC7BkD,GAAG,EAAEV,aAAa,CAACW,KAAK,CAACzE,GAAG,CAAC,aAAa,CAAC;QAC3C0E,GAAG,EAAE,IAAI;QACTC,OAAO,EAAE,SAAAA,CAAA,EAAY;UACnB,MAAMC,UAAU,GAAG,IAAI,CAAC3D,QAAQ,CAACjB,GAAG,CAAC,YAAY,CAAC;UAClD,MAAM6E,KAAK,GAAG,IAAI,CAACd,UAAU,CAACc,KAAK;UACnCf,aAAa,CAACgB,MAAM,CAAC,CAAC;UACtBhB,aAAa,CAACxC,GAAG,CAACwD,MAAM,CAAC,CAAC;UAC1B,IAAI,CAACf,UAAU,CAACI,mBAAmB,CAAC,CAAC;UAErC,IAAIS,UAAU,EAAE;YACd,IAAIG,YAAY;YAChB,MAAMC,eAAe,GAAGJ,UAAU,CAACK,EAAE,IAAIL,UAAU,CAACK,EAAE,CAAC,UAAU,CAAC;YAElE,IAAID,eAAe,EAAE;cACnBD,YAAY,GAAGH,UAAU,CAACM,YAAY,CAACH,YAAY;YACrD,CAAC,MAAM;cACLA,YAAY,GAAG1G,GAAG,CAAC,IAAI,CAAC0B,QAAQ,CAACC,GAAG,CAAC,sBAAsB,CAAC,GAAG,gCAAgC,GAAG,uBAAuB,CAAC;YAC5H;YAEA6E,KAAK,CAAC5C,OAAO,CAAC,OAAO,EAAE4C,KAAK,EAAE;cAC5BM,YAAY,EAAE;gBACZJ,YAAY,EAAEA;cAChB;YACF,CAAC,CAAC;YACF,IAAI,CAAC9D,QAAQ,CAACqB,KAAK,CAAC,YAAY,CAAC;YACjChD,IAAI,CAAC8F,iBAAiB,CAAC,IAAI,CAACrB,UAAU,EAAEa,UAAU,CAAC;UACrD;QACF;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,CAACS,KAAK,CAAC,YAAY;MACnB;MACA;MACA;MACA;MACA;MACA;MACA,IAAIvB,aAAa,EAAE;QACjBA,aAAa,CAACgB,MAAM,CAAC,CAAC;QACtBhB,aAAa,CAACxC,GAAG,CAACwD,MAAM,CAAC,CAAC;MAC5B;IACF,CAAC,CAAC;EACJ,CAAC;EACDQ,KAAK,EAAE,SAAAA,CAAA,EAAY;IACjB,IAAIC,SAAS,GAAG,KAAK,CAAC,CAAC;;IAEvB,IAAIC,MAAM,CAACC,gBAAgB,IAAI,IAAI,CAAC1F,QAAQ,CAACC,GAAG,CAAC,iBAAiB,CAAC,EAAE;MACnEwF,MAAM,CAACC,gBAAgB,CAAC,UAAU,EAAEC,CAAC,IAAI;QACvC,IAAI,IAAI,CAAC3B,UAAU,CAAC4B,IAAI,EAAE;UACxBD,CAAC,CAACE,cAAc,CAAC,CAAC;UAClBF,CAAC,CAACG,wBAAwB,CAAC,CAAC;UAC5B,IAAI,CAAC9B,UAAU,CAAC4B,IAAI,CAAC,CAAC;QACxB;MACF,CAAC,CAAC;MACFJ,SAAS,GAAGtG,IAAI,CAAC6G,iBAAiB,CAAC,CAAC;IACtC;IAEA1H,MAAM,CAAC2E,SAAS,CAACuC,KAAK,CAACS,IAAI,CAAC,IAAI,EAAE;MAChCR,SAAS,EAAEA;IACb,CAAC,CAAC;EACJ,CAAC;EACD9D,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAI,CAACD,MAAM,CAACF,GAAG,CAACG,IAAI,CAAC,CAAC;EACxB,CAAC;EACDyC,IAAI,EAAE,SAAAA,CAAA,EAAY;IAChB,IAAI,CAAC1C,MAAM,CAACF,GAAG,CAAC4C,IAAI,CAAC,CAAC;EACxB,CAAC;EACDY,MAAM,EAAE,SAAAA,CAAA,EAAY;IAClB,IAAI,IAAI,CAACf,UAAU,EAAE;MACnB,IAAI,CAACA,UAAU,CAACe,MAAM,CAAC,CAAC;IAC1B;IAEA,IAAI,CAACtD,MAAM,CAACF,GAAG,CAACwD,MAAM,CAAC,CAAC;IACxBnG,OAAO,CAACmG,MAAM,CAAC,CAAC;IAChBxG,QAAQ,CAAC2E,OAAO,CAAC+C,IAAI,CAAC,CAAC;EACzB;AACF,CAAC,CAAC;AAEF,SAAS/F,eAAe,IAAIgG,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}