{"ast":null,"code":"import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport StringUtil from '../../util/StringUtil.js';\nimport BaseView from '../BaseView.js';\nimport ReadModeBar from './components/ReadModeBar.js';\nimport Toolbar from './components/Toolbar.js';\nimport ErrorBanner from './helpers/ErrorBanner.js';\nimport ErrorParser from './helpers/ErrorParser.js';\nimport FormUtil from './helpers/FormUtil.js';\nimport InputContainer from './helpers/InputContainer.js';\nimport InputFactory from './helpers/InputFactory.js';\nimport InputLabel from './helpers/InputLabel.js';\nimport InputWrapper from './helpers/InputWrapper.js';\nimport SettingsModel from '../../util/SettingsModel.js';\nconst template = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"<h2 class=\\\"o-form-title-bar\\\" data-se=\\\"o-form-title-bar\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 75\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 84\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return (stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(4, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 192\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 288\n        }\n      }\n    })) != null ? stack1 : \"\";\n  },\n  \"4\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"<h2 data-se=\\\"o-form-head\\\" class=\\\"okta-form-title o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 267\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 276\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"6\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"<p class=\\\"okta-form-subtitle o-form-explain\\\" data-se=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 385\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 397\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n      helper,\n      alias1 = depth0 != null ? depth0 : container.nullContext || {},\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 96\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div data-se=\\\"o-form-content\\\" class=\\\"o-form-content \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"layout\") || (depth0 != null ? lookupProperty(depth0, \"layout\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(alias1, {\n      \"name\": \"layout\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 148\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 158\n        }\n      }\n    }) : helper)) + \" clearfix\\\">\" + ((stack1 = lookupProperty(helpers, \"unless\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"unless\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 169\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 299\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(6, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 299\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 408\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div class=\\\"o-form-error-container\\\" data-se=\\\"o-form-error-container\\\"></div><div class=\\\"o-form-fieldset-container\\\" data-se=\\\"o-form-fieldset-container\\\"></div></div>\";\n  },\n  \"useData\": true\n});\nconst sectionTitleTemplate = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return \"<h2 class=\\\"o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"useData\": true\n});\nconst pointerEventsSupported = oktaJQueryStatic('<div>').css({\n  'pointer-events': 'auto'\n})[0].style.pointerEvents === 'auto'; // polyfill for `pointer-events: none;` in IE < 11\n// Logic borrowed from https://github.com/kmewhort/pointer_events_polyfill (BSD)\n\nfunction pointerEventsPolyfill(e) {\n  if (!pointerEventsSupported && this.$el.hasClass('o-form-saving')) {\n    const $el = oktaJQueryStatic(e.currentTarget);\n    $el.css('display', 'none');\n    const underneathElem = document.elementFromPoint(e.clientX, e.clientY);\n    $el.css('display', 'block');\n    e.target = underneathElem;\n    oktaJQueryStatic(underneathElem).trigger(e);\n    return false;\n  }\n}\nconst events = {\n  submit: function (e) {\n    e.preventDefault();\n    this.__save();\n  }\n};\noktaUnderscore.each(['click', 'dblclick', 'mousedown', 'mouseup'], function (event) {\n  events[event + ' .o-form-input'] = pointerEventsPolyfill;\n});\nconst attributes = function (model) {\n  model || (model = {});\n  const collection = model && model.collection || {};\n  return {\n    method: 'POST',\n    action: oktaUnderscore.result(model, 'urlRoot') || oktaUnderscore.result(collection, 'url') || window.location.pathname,\n    'data-se': 'o-form',\n    slot: 'content'\n  };\n};\nconst convertSavingState = function (rawSavingStateEvent, defaultEvent) {\n  rawSavingStateEvent || (rawSavingStateEvent = '');\n  let savingStateEvent = [];\n  if (oktaUnderscore.isString(rawSavingStateEvent)) {\n    savingStateEvent = rawSavingStateEvent.split(' ');\n  }\n  savingStateEvent = oktaUnderscore.union(savingStateEvent, defaultEvent);\n  return savingStateEvent.join(' ');\n};\nconst getErrorSummary = function (responseJSON = {}) {\n  if (Array.isArray(responseJSON.errorCauses) && responseJSON.errorCauses.length > 0) {\n    //set errorSummary from first errorCause which is not field specific error\n    return responseJSON.errorCauses[0].errorSummary;\n  } else {\n    //set errorSummary from top level errorSummary\n    return responseJSON.errorSummary;\n  }\n};\n/**\n * A Form utility framework\n *\n * Okta.Form is a form that operates on one flat model\n * It exposes one main factory method, {@link module:Okta.Form#addInput|addInput}, which add inputs to the form,\n * and each input operates on one field in the model, identified by the `name` field.\n *\n * See:\n * [Basic O-Form Tutorial](https://github.com/okta/courage/wiki/Basic-O-Form)\n *\n * @class module:Okta.Form\n * @extends module:Okta.View\n * @param {Object} options options hash (See {@link module:Okta.View|View})\n * @param {Object} options.model the model this form operates on\n * @param {Boolean} [options.label-top=false] position label on top of inputs\n * @param {Boolean} [options.wide=false] Use a wide input layout for all input\n */\n\n/**\n * Fired when the \"Save\" button is clicked\n * @event module:Okta.Form#save\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired after the model is successfully saved - applies when {@link module:Okta.Form#autoSave|autoSave}\n * is set to true\n * @event module:Okta.Form#saved\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the model fires an invalid event or an error event;\n * @event module:Okta.Form#error\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the form layout is likely to be resized\n * @event module:Okta.Form#resize\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the \"Cancel\" button is clicked\n * @event module:Okta.Form#cancel\n */\n\nvar BaseForm = BaseView.extend( /** @lends module:Okta.Form.prototype */\n{\n  /**\n   * Specifies how to validate form:\n   * - In case \"local\" string provided as a value of the property,\n   * the form will validate only fields added as inputs to the form;\n   * - In case array is provided, the validation will be performed only for fields specified in array;\n   * - In case function is provided, provided function will be used as a validation function,\n   * it must return an error object with the format {fieldName: 'error text'} with as many fields as you need.\n   * @name validate\n   * @memberof module:Okta.Form\n   * @type {String|Array|Function}\n   * @instance\n   */\n  constructor: function (options) {\n    /* eslint max-statements: 0, complexity: 0 */\n    options || (options = {});\n    this.options = options;\n    if (options.settings) {\n      this.settings = options.settings;\n    } else {\n      this.settings = options.settings = new SettingsModel();\n    }\n    this.id = oktaUnderscore.uniqueId('form');\n    this.tagName = 'form';\n    oktaUnderscore.defaults(this.events, events);\n    oktaUnderscore.defaults(this.attributes, attributes(options.model));\n    this.__buttons = [];\n    this.__errorFields = {};\n    this.__saveModelState(options.model);\n    const step = oktaUnderscore.result(this, 'step');\n    if (step) {\n      // checking exists of `this.save` hence don't have to change to\n      // `_.result(this, 'save')` which will execute the function and\n      // is not the intent.\n      if (!this.save) {\n        const totalStep = oktaUnderscore.result(this, 'totalSteps');\n        this.save = !totalStep || step === totalStep ? StringUtil.localize('oform.button.finish', 'courage') : StringUtil.localize('oform.button.next', 'courage');\n      }\n      this.className = oktaUnderscore.result(this, 'className') + ' wizard';\n    }\n    this.className = oktaUnderscore.result(this, 'className') + ' o-form';\n    this.__toolbar = this.__createToolbar(options);\n    BaseView.call(this, options);\n    oktaUnderscore.each(oktaUnderscore.result(this, 'inputs') || [], function (input) {\n      // to ingore extra argumests from `each` iteratee function\n      // http://underscorejs.org/#each\n      this.__addLayoutItem(input);\n    }, this);\n    this.add(this.__toolbar, ''); // NOTES: this.model shall be initialized after calling\n    // super (BaseView.call(this, options)) above.\n    //\n\n    this.listenTo(this.model, 'change:__edit__', this.__applyMode);\n    this.listenTo(this.model, 'invalid error', oktaUnderscore.throttle(function (model, resp, showBanner) {\n      this.__showErrors(model, resp, showBanner !== false);\n    }, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:resize', function () {\n      this.trigger('resize');\n    });\n    this.listenTo(this.model, 'form:cancel', oktaUnderscore.throttle(this.__cancel, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:previous', oktaUnderscore.throttle(this.__previous, 100, {\n      trailing: false\n    }));\n    this.__save = oktaUnderscore.throttle(this.__save, 200, {\n      trailing: false\n    });\n    this.listenTo(this.model, 'form:save', function () {\n      this.$el.submit();\n    });\n    this.listenTo(this.model, 'sync', function () {\n      if (this.model.get('__edit__')) {\n        this.model.set('__edit__', false, {\n          silent: true\n        });\n      }\n      this.__saveModelState(this.model);\n      this.render();\n    });\n    let hasSavingState = this.getAttribute('hasSavingState');\n    if (this.getAttribute('autoSave')) {\n      this.listenTo(this, 'save', function (model) {\n        const xhr = model.save();\n        if (xhr && xhr.done) {\n          xhr.done(() => {\n            this.trigger('saved', model);\n          });\n        }\n      });\n      if (oktaUnderscore.isUndefined(hasSavingState)) {\n        hasSavingState = true;\n      }\n    }\n    /*\n    * Attach model event listeners\n    * by default, model's request event starts the form saving state,\n    * error and sync event stops it\n    * you can define customized saving start and stop state, like\n    * customSavingState: {start: 'requestingAdditionalInfo', stop: 'retrievedAdditionalInfo'}\n    * doing this does not override the default events\n    */\n\n    if (hasSavingState) {\n      const customSavingState = this.getAttribute('customSavingState', {});\n      this.listenTo(this.model, convertSavingState(customSavingState.start || '', ['request']), this.__setSavingState);\n      this.listenTo(this.model, convertSavingState(customSavingState.stop || '', ['error', 'sync']), this.__clearSavingState);\n    }\n  },\n  /**\n   * Create the bottom button bar\n   * @param  {Object} options options h\n   * @return {Okta.View} The toolbar\n   * @private\n   */\n  __createToolbar: function (options) {\n    const danger = this.getAttribute('danger');\n    const saveBtnClassName = danger === true ? 'button-error' : 'button-primary';\n    const step = oktaUnderscore.result(this, 'step');\n    const toolbar = new Toolbar(oktaUnderscore.extend({\n      save: this.save || StringUtil.localize('oform.save', 'courage'),\n      saveId: this.saveId,\n      saveClassName: saveBtnClassName,\n      cancel: this.cancel || StringUtil.localize('oform.cancel', 'courage'),\n      noCancelButton: this.noCancelButton || false,\n      noSubmitButton: this.noSubmitButton || false,\n      buttonOrder: this.buttonOrder,\n      hasPrevStep: step && step > 1\n    }, options || this.options));\n    oktaUnderscore.each(this.__buttons, function (args) {\n      toolbar.addButton.apply(toolbar, args);\n    });\n    return toolbar;\n  },\n  className: '',\n  attributes: {},\n  events: {},\n  /**\n   * An array of input configurations to render in the form\n   * @type {Array}\n   */\n  inputs: [],\n  template: null,\n  /**\n   * Does the form support read/edit toggle.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  read: false,\n  /**\n   * Is the form in readOnly mode.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  readOnly: false,\n  /**\n   * Should we not render the button bar\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noButtonBar: false,\n  /**\n   * Should we not render a cancel button\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noCancelButton: false,\n  /**\n   * Should we not render a save button\n   * @type {Boolean}\n   * @default false\n   */\n  noSubmitButton: false,\n  /**\n   * Set the order of the save, cancel and previous buttons (left to right).\n   * @type {Array.<string>}\n   * @default ['previous', 'save', 'cancel']\n   */\n  buttonOrder: ['previous', 'save', 'cancel'],\n  /**\n   * The text on the save button\n   * @type {String}\n   * @default \"Save\"\n   */\n  save: null,\n  /**\n   * The text on the cancel button\n   * @type {String}\n   * @default \"Cancel\"\n   */\n  cancel: null,\n  /**\n   * To use button-error to style the submit button instead of button-primary.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  danger: false,\n  /**\n   * A layout CSS class to add to the form\n   * @type {String|Function}\n   * @default \"\"\n   */\n  layout: '',\n  /**\n   * The step this form is in the context of a wizard\n   * @type {Number}\n   */\n  step: undefined,\n  /**\n   * The total numbers of steps the wizard this form is a part of has\n   * @type {Number}\n   */\n  totalSteps: undefined,\n  /**\n   * The form's title\n   * @type {String|Function}\n   */\n  title: null,\n  /**\n   * The form's subtitle\n   * @type {String|Function}\n   */\n  subtitle: null,\n  /**\n   * Auto-save the model when hitting save. Triggers a `saved` event when done\n   * @type {Boolean}\n   * @default false\n   */\n  autoSave: false,\n  /**\n   * Scroll to the top of the form on error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  scrollOnError: true,\n  /**\n   * Show the error banner upon error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  showErrors: true,\n  /**\n   * The form's scrollable area\n   * @type {String}\n   * @default \".o-form-content\"\n   */\n  resizeSelector: '.o-form-content',\n  /**\n   * Sets whether or not the form shows the saving state when\n   * the model is saved.  Has no effect on setSavingState and clearSavingState as those are manual calls\n   * to trigger/clear the saving state.\n   * @name hasSavingState\n   * @memberof module:Okta.Form\n   * @type {Boolean}\n   * @default false\n   * @instance\n   */\n\n  /**\n   * Get an attribute value from options or instance.\n   * Prefer options value over instance value\n   * @param  {String} name Name of the attribute\n   * @param  {Object} defaultValue the default value to return if the attribute is not found\n   * @return {Object} The value\n   */\n  getAttribute: function (name, defaultValue) {\n    let value = oktaUnderscore.resultCtx(this.options, name, this);\n    if (oktaUnderscore.isUndefined(value)) {\n      value = oktaUnderscore.result(this, name);\n    }\n    return !oktaUnderscore.isUndefined(value) ? value : defaultValue;\n  },\n  /**\n   * Does this form have a \"read\" mode\n   * @return {Boolean}\n   */\n  hasReadMode: function () {\n    return !!this.getAttribute('read');\n  },\n  /**\n   * Is this form in \"read only\" mode\n   * @return {Boolean}\n   */\n  isReadOnly: function () {\n    return !!this.getAttribute('readOnly');\n  },\n  /**\n   * Does this form have a button bar\n   * @return {Boolean}\n   */\n  hasButtonBar: function () {\n    return !(this.getAttribute('noButtonBar') || this.isReadOnly());\n  },\n  render: function () {\n    this.__readModeBar && this.__readModeBar.remove();\n    if (this.hasReadMode() && !this.isReadOnly()) {\n      const readModeBar = ReadModeBar.extend({\n        formTitle: this.getAttribute('title', '')\n      });\n      this.__readModeBar = this.add(readModeBar, '.o-form-title-bar').last();\n    }\n    const html = template({\n      layout: this.getAttribute('layout', ''),\n      title: this.getAttribute('title', '', true),\n      subtitle: this.getAttribute('subtitle', '', true),\n      hasReadMode: this.hasReadMode()\n    });\n    this.$el.html(html);\n    delete this.template;\n    BaseView.prototype.render.apply(this, arguments);\n    this.__applyMode();\n    return this;\n  },\n  /**\n   * Changes form UI to indicate saving.  Disables all inputs and buttons.  Use this function if you have set\n   * hasSavingState to false on the the form\n   * @private\n   */\n  __setSavingState: function () {\n    this.model.trigger('form:set-saving-state');\n    this.$el.addClass('o-form-saving');\n  },\n  /**\n   * Changes form UI back to normal from the saving state.  Use this function if you are have set hasSavingState\n   * to false on the form\n   * @private\n   */\n  __clearSavingState: function () {\n    this.model.trigger('form:clear-saving-state');\n    this.$el.removeClass('o-form-saving');\n  },\n  /**\n   * Toggles the visibility of the bottom button bar\n   * @private\n   */\n  __toggleToolbar: function () {\n    this.__toolbar && this.__toolbar.remove();\n    if (this.hasButtonBar() && this._editMode()) {\n      this.__toolbar = this.__createToolbar();\n      this.add(this.__toolbar, '');\n    }\n    this.trigger('resize');\n  },\n  /**\n   * Cancels this form\n   * - Reset the model to the previous state\n   * - Clears all errors\n   * - Triggers a `cancel` event\n   * - Sets the model to read mode (if applicable)\n   * @private\n   * @fires cancel\n   */\n  __cancel: function () {\n    const edit = this.model.get('__edit__');\n    /* eslint max-statements: [2, 12] */\n\n    this.model.clear({\n      silent: true\n    });\n    let data;\n    if (this.model.sanitizeAttributes) {\n      data = this.model.sanitizeAttributes(this.__originalModel);\n    } else {\n      data = oktaUnderscore.clone(this.__originalModel);\n    }\n    this.model.set(data, {\n      silent: true\n    });\n    this.trigger('cancel', this.model);\n    this.model.trigger('cache:clear');\n    if (edit) {\n      this.model.set('__edit__', false, {\n        silent: true\n      });\n      this.model.trigger('change:__edit__', this.model, false);\n    }\n    this.clearErrors();\n  },\n  /**\n   * Runs {@link module:Okta.Form#validate|validate} to check the model state.\n   * Triggers an \"invalid\" event on the model if validation fails\n   * @returns {Boolean}\n   */\n  isValid: function () {\n    let res;\n    const self = this;\n    function validateArray(arr) {\n      return oktaUnderscore.reduce(arr, function (memo, fieldName) {\n        return oktaUnderscore.extend(memo, self.model.validateField(fieldName));\n      }, {});\n    }\n    if (oktaUnderscore.isUndefined(this.validate)) {\n      return this.model.isValid();\n    } else if (oktaUnderscore.isFunction(this.validate)) {\n      res = this.validate();\n    } else if (oktaUnderscore.isArray(this.validate)) {\n      res = validateArray(this.validate);\n    } else if (this.validate === 'local') {\n      res = validateArray(this.getInputs().map(function (input) {\n        return input.options.name;\n      }));\n    }\n    if (!oktaUnderscore.isEmpty(res)) {\n      this.model.trigger('invalid', this.model, res);\n      return false;\n    } else {\n      return true;\n    }\n  },\n  /**\n   * A throttled function that saves the form not more than once every 100 ms\n   * Basically all this method does is trigger a `save` event\n   * @fires save\n   * @private\n   */\n  __save: function () {\n    this.clearErrors();\n    if (this.isValid()) {\n      this.trigger('save', this.model);\n    }\n  },\n  /**\n   * In the context of a wizard, go to previous state\n   * Technically all this method does is trigger a `previous` event\n   * @param  {Event} e\n   * @private\n   */\n  __previous: function () {\n    this.trigger('previous', this.model);\n  },\n  /**\n   * Renders the form in the correct mode based on the model.\n   * @private\n   */\n  __applyMode: function () {\n    this.clearErrors();\n    this.__toggleToolbar();\n    if (this._editMode()) {\n      this.$el.addClass('o-form-edit-mode');\n      this.$el.removeClass('o-form-read-mode');\n      this.$('.o-form-content').removeClass('rounded-btm-4');\n      this.focus();\n    } else {\n      this.$el.removeClass('o-form-edit-mode');\n      this.$el.addClass('o-form-read-mode');\n      this.$('.o-form-content').addClass('rounded-btm-4');\n    }\n  },\n  /**\n   * Is the form in edit mode\n   * @return {Boolean}\n   * @private\n   */\n  _editMode: function () {\n    return this.model.get('__edit__') || !this.hasReadMode();\n  },\n  /**\n   * Function can be overridden to alter top level error summary.\n   * @param {Object} responseJSON\n   *\n   * @example\n   * // responseJSON object\n   * {\n   *  errorCauses: [{errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"}]\n   *  errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"\n   *  errorCode: \"E0000001\"\n   *  errorId: \"oaepsrTCHrhT-eIi8XTm6KWWg\"\n   *  errorLink: \"E0000001\"\n   *  errorSummary: \"Api validation failed: networkZone\"\n   * }\n   *\n   * @method\n   * @default _.identity\n   */\n  parseErrorMessage: oktaUnderscore.identity,\n  _handleErrorScroll: function () {\n    if (!this.getAttribute('scrollOnError')) {\n      return;\n    }\n    const $el = oktaJQueryStatic('#' + this.id + ' .o-form-error-container');\n    if ($el.length) {\n      let $scrollContext = $el.scrollParent();\n      let scrollTop; // scrollParent was almost awesome...\n      // but it returns document if there are no other scrollable parents\n      // document does not have offset, so here we have to replace with html, body\n      // Additionally when the scroll context is html, body, $el.offset().top is fixed\n      // versus when it has a different scroll context it's dynamic and requires the\n      // calculation below.\n\n      if ($scrollContext[0] === document) {\n        $scrollContext = oktaJQueryStatic('html, body');\n        scrollTop = $el.offset().top;\n      } else {\n        scrollTop = $scrollContext.scrollTop() + $el.offset().top - $scrollContext.offset().top;\n      }\n      $scrollContext.animate({\n        scrollTop: scrollTop\n      }, 400);\n    }\n  },\n  /**\n   * Show an error message based on an XHR error\n   * @param  {Okta.BaseModel} model the model\n   * @param  {jqXHR} xhr The jQuery XmlHttpRequest Object\n   * @private\n   */\n  __showErrors: function (model, resp, showBanner) {\n    this.trigger('error', model);\n    /* eslint max-statements: 0 */\n\n    if (!this.getAttribute('showErrors')) {\n      return;\n    }\n    let errorSummary;\n    let responseJSON = ErrorParser.getResponseJSON(resp);\n    const validationErrors = ErrorParser.parseFieldErrors(resp); // trigger events for field validation errors\n\n    if (oktaUnderscore.size(validationErrors)) {\n      oktaUnderscore.each(validationErrors, function (errors, field) {\n        this.model.trigger('form:field-error', this.__errorFields[field] || field, oktaUnderscore.map(errors, function (error) {\n          return /^model\\.validation/.test(error) ? StringUtil.localize(error, 'courage') : error;\n        }));\n      }, this);\n    } else {\n      responseJSON = this.parseErrorMessage(responseJSON);\n      errorSummary = getErrorSummary(responseJSON);\n    } // show the error message\n\n    if (showBanner) {\n      this.$('.o-form-error-container').addClass('o-form-has-errors');\n      this.add(ErrorBanner, '.o-form-error-container', {\n        options: {\n          errorSummary: errorSummary\n        }\n      });\n    } // slide to and focus on the error message\n\n    this._handleErrorScroll();\n    this.model.trigger('form:resize');\n  },\n  /**\n   * Clears the error banner\n   * @private\n   */\n  clearErrors: function () {\n    this.$('.o-form-error-container').removeClass('o-form-has-errors');\n    this.model.trigger('form:clear-errors');\n    this.model.trigger('form:resize');\n  },\n  /**\n   * Toggles between edit and read mode\n   */\n  toggle: function () {\n    this.model.set('__edit__', !this.hasReadMode() || !this.model.get('__edit__'));\n    return this;\n  },\n  __addLayoutItem: function (input) {\n    if (InputFactory.supports(input)) {\n      this.addInput(input);\n    } else {\n      this.__addNonInputLayoutItem(input);\n    }\n  },\n  __addNonInputLayoutItem: function (item) {\n    const itemOptions = oktaUnderscore.omit(item, 'type');\n    switch (item.type) {\n      case 'sectionTitle':\n        this.addSectionTitle(item.title, oktaUnderscore.omit(itemOptions, 'title'));\n        break;\n      case 'divider':\n        this.addDivider(itemOptions);\n        break;\n      default:\n        throw new Error('unknown input: ' + item.type);\n    }\n  },\n  /**\n   * Adds a view to the buttons tool bar\n   * @param {Object} params parameterized button options\n   * @param {Object} options options to send to {@link module:Okta.View#add|View.add}\n   */\n  addButton: function (params, options) {\n    this.__toolbar && this.__toolbar.addButton(params, options);\n    this.__buttons.push([params, options]);\n  },\n  /**\n   * Adds a divider\n   */\n  addDivider: function (options) {\n    this.add('<div class=\"okta-form-divider form-divider\"></div>');\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n  /**\n   * Adds section header\n   * @param {String} title\n   */\n  addSectionTitle: function (title, options) {\n    this.add(sectionTitleTemplate({\n      title: title\n    }));\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n  /**\n   * Add a form input\n   * @param {Object} options Options to describe the input\n   * @param {String} options.type The input type.\n   * The options are: `text`, `textarea`, `select`, `checkbox`, `radio`, `switch`,\n   * `password`, `number`, `textselect`, `date`, `grouppicker`, `admingrouppicker`, `su-orgspicker`\n   * `file/image`, `file/cert`, `checkboxset`, `list`, `group`, `zonepicker`\n   * @param {String} options.name The name of the model field this input mutates\n   * @param {String|Function} [options.label]\n   * The input label text.\n   * When passed as a function, will invoke the function (in the context of the {@link InputLabel})\n   * on render time, and use the returned value.\n   * @param {String} [options.sublabel] The input sub label text\n   * @param {String} [options.tooltip] A popover tooltip to be displayed next to the label\n   * @param {String} [options.placeholder] Placeholder text.\n   * @param {String} [options.explain] Explanation text to render below the input\n   * @param {Okta.View} [options.customExplain] A custom view to render below the input (deprecated)\n   * @param {Boolean} [options.disabled=false] Make this input disabled\n   * @param {Boolean} [options.wide=false] Use a wide input layout\n   * @param {Boolean} [options.label-top=false] position label on top of an input\n   * @param {Boolean} [options.explain-top=false] position explain on top of an input (requires label-top=true)\n   * @param {Number} [options.multi] have multiple in-line inputs. useful when `input` is passed as an array of inputs\n   * @param {String} [options.errorField] The API error field here that maps to this input\n   * @param {Boolean} [options.inlineValidation=true] Validate input on focusout\n   * @param {String} [options.ariaLabel] Used to add aria-label attribute to the input when label is not present.\n   * @param {Boolean} [options.group=false] Grouping set of inputs using fieldset and legend. Mainly for radio\n   * @param {Object} [options.options]\n   * In the context of `radio` and `select`, a key/value set of options\n   *\n   * @param {Object} [options.params]\n   * Widget specific parameters. Varies per input.\n   *\n   * @param {BaseInput|Object[]} [options.input]\n   * - A custom input \"class\" or instance - preferably a **class**, so we can automagically assign the right\n   * parameters when initializing it\n   * - An array of input definition object literals (such as this one)\n   *\n   * @param {Object} [options.showWhen]\n   * Setting to define when to show (or hide) the input. The input is visible by default.\n   *\n   * @param {Object} [options.bindings]\n   * Bind a certain model attribute to a callback function, so the function is being called on render,\n   * and any time this model field changes.\n   * This is similar to `showWhen` but is not limited to toggling.\n   *\n   * @param {Function} [options.render]\n   * A post-render hook that will run upon render on InputWrapper\n   *\n   * @param {String|Function} className   A className to apply on the {@link InputWrapper}\n   *\n   * @param {Function} [options.initialize]\n   * An `initialize` function to run when initializing the {@link InputWrapper}\n   * Useful for state mutation on start time, and complex state logic\n   *\n   * @example\n   * // showhen: the field will be visible when `advanced` is set to `true`\n   * // and `mode` is set to `\"ON\"`.\n   * showWhen: {\n   *   'advanced': true,\n   *   'mode': function (value) {\n   *     return value == 'ON'; // this is identical to this.model.get('mode') == 'ON'\n   *   }\n   * }\n   *\n   * @example\n   * // bindings\n   * bindings: {\n   *   'status mode': function (status, mode) {\n   *      var labelView = this.getLabel();\n   *      if (status == 1) {\n   *        labelView.options.label = 'Something';\n   *      }\n   *      else {\n   *        labelView.options.label = mode;\n   *      }\n   *      labelView.render();\n   *   }\n   * }\n   */\n  addInput: function (_options) {\n    _options = oktaUnderscore.clone(_options);\n    FormUtil.validateInput(_options, this.model);\n    const inputsOptions = FormUtil.generateInputOptions(_options, this, this.__createInput).reverse(); // We need a local variable here to keep track\n    // as addInput can be called either directy or through the inputs array.\n\n    if (oktaUnderscore.isEmpty(this.getInputs().toArray())) {\n      oktaUnderscore.extend(inputsOptions[0], {\n        validateOnlyIfDirty: true\n      });\n    }\n    const inputs = oktaUnderscore.map(inputsOptions, this.__createInput, this);\n    oktaUnderscore.each(inputsOptions, function (input) {\n      if (input.errorField) {\n        this.__errorFields[input.errorField] = input.name;\n      }\n    }, this);\n    const options = {\n      inputId: oktaUnderscore.last(inputs).options.inputId,\n      input: inputs,\n      multi: inputsOptions.length > 1 ? inputsOptions.length : undefined\n    };\n    oktaUnderscore.extend(options, oktaUnderscore.omit(this.options, 'input'), oktaUnderscore.omit(_options, 'input'));\n    const inputWrapper = this.__createWrapper(options);\n    if (options.label !== false) {\n      inputWrapper.add(this.__createLabel(options));\n    }\n    inputWrapper.add(this._createContainer(options)); // TODO: there may be a bug here.\n    // options.input will always be an array, so options.input.type will always be undefined\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    /// @ts-ignore\n\n    inputWrapper.type = options.type || options.input.type || 'custom';\n    const args = [inputWrapper].concat(oktaUnderscore.rest(arguments));\n    return this.add.apply(this, args);\n  },\n  /**\n   * @private\n   */\n  __createInput: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.INPUT_OPTIONS);\n    return InputFactory.create(options);\n  },\n  /**\n   * @private\n   */\n  __createWrapper: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.WRAPPER_OPTIONS);\n    return new InputWrapper(options);\n  },\n  /**\n   * @private\n   */\n  __createLabel: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.LABEL_OPTIONS);\n    return new InputLabel(options);\n  },\n  /**\n   * @private\n   */\n  _createContainer: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.CONTAINER_OPTIONS);\n    return new InputContainer(options);\n  },\n  /**\n   * Stores the current attributes of the model to a private property\n   * @param  {Okta.BaseModel} model The model\n   * @private\n   */\n  __saveModelState: function (model) {\n    this.__originalModel = oktaJQueryStatic.extend(true, {}, model.attributes);\n  },\n  /**\n   * @override\n   * @ignore\n   */\n  add: function (...args) {\n    // sets a default element selector\n    typeof args[1] === 'undefined' && (args[1] = '> div.o-form-content > .o-form-fieldset-container');\n    return BaseView.prototype.add.apply(this, args);\n  },\n  /**\n   * Set the focus on the first input in the form\n   */\n  focus: function () {\n    const first = this.getInputs().first();\n    if (first && first.focus) {\n      first.focus();\n    }\n    return this;\n  },\n  /**\n   * Disable all inputs in the form\n   * @deprecated not currently in use\n   */\n  disable: function () {\n    this.invoke('disable');\n    return this;\n  },\n  /**\n   * Enable all inputs in the form\n   * @deprecated not currently in use\n   */\n  enable: function () {\n    this.invoke('enable');\n  },\n  /**\n   * Set the max-height for o-form-content class container within the form if a height is provided,\n   * otherwise, get its computed inner height\n   * @param {Number} the height in pixel to set for class o-form-content\n   * @return {Number}\n   */\n  contentHeight: function (height) {\n    const content = this.$('.o-form-content');\n    if (oktaUnderscore.isNumber(height)) {\n      content.css('max-height', height);\n    } else {\n      return content.height();\n    }\n  },\n  /**\n   * Get only the input children\n   * @return {InputWrapper[]} An underscore wrapped array of {@link InputWrapper} instances\n   */\n  getInputs: function () {\n    return oktaUnderscore(this.filter(function (view) {\n      return view instanceof InputWrapper;\n    }));\n  }\n});\nexport { BaseForm as default };","map":{"version":3,"names":["_Handlebars2","oktaJQueryStatic","oktaUnderscore","StringUtil","BaseView","ReadModeBar","Toolbar","ErrorBanner","ErrorParser","FormUtil","InputContainer","InputFactory","InputLabel","InputWrapper","SettingsModel","template","1","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","escapeExpression","hooks","helperMissing","nullContext","3","stack1","program","noop","4","6","main","alias1","sectionTitleTemplate","pointerEventsSupported","css","style","pointerEvents","pointerEventsPolyfill","e","$el","hasClass","currentTarget","underneathElem","document","elementFromPoint","clientX","clientY","target","trigger","events","submit","preventDefault","__save","each","event","attributes","model","collection","method","action","result","window","location","pathname","slot","convertSavingState","rawSavingStateEvent","defaultEvent","savingStateEvent","isString","split","union","join","getErrorSummary","responseJSON","Array","isArray","errorCauses","length","errorSummary","BaseForm","extend","constructor","options","settings","id","uniqueId","tagName","defaults","__buttons","__errorFields","__saveModelState","step","save","totalStep","localize","className","__toolbar","__createToolbar","input","__addLayoutItem","add","listenTo","__applyMode","throttle","resp","showBanner","__showErrors","trailing","__cancel","__previous","get","set","silent","render","hasSavingState","getAttribute","xhr","done","isUndefined","customSavingState","start","__setSavingState","stop","__clearSavingState","danger","saveBtnClassName","toolbar","saveId","saveClassName","cancel","noCancelButton","noSubmitButton","buttonOrder","hasPrevStep","args","addButton","apply","inputs","read","readOnly","noButtonBar","layout","totalSteps","title","subtitle","autoSave","scrollOnError","showErrors","resizeSelector","name","defaultValue","value","resultCtx","hasReadMode","isReadOnly","hasButtonBar","__readModeBar","remove","readModeBar","formTitle","last","html","arguments","addClass","removeClass","__toggleToolbar","_editMode","edit","clear","sanitizeAttributes","__originalModel","clone","clearErrors","isValid","res","self","validateArray","arr","reduce","memo","fieldName","validateField","validate","isFunction","getInputs","map","isEmpty","$","focus","parseErrorMessage","identity","_handleErrorScroll","$scrollContext","scrollParent","scrollTop","offset","top","animate","getResponseJSON","validationErrors","parseFieldErrors","size","errors","field","error","test","toggle","supports","addInput","__addNonInputLayoutItem","item","itemOptions","omit","type","addSectionTitle","addDivider","Error","params","push","applyShowWhen","showWhen","applyToggleWhen","toggleWhen","_options","validateInput","inputsOptions","generateInputOptions","__createInput","reverse","toArray","validateOnlyIfDirty","errorField","inputId","multi","inputWrapper","__createWrapper","label","__createLabel","_createContainer","concat","rest","pick","INPUT_OPTIONS","create","WRAPPER_OPTIONS","LABEL_OPTIONS","CONTAINER_OPTIONS","first","disable","invoke","enable","contentHeight","height","content","isNumber","filter","view","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/packages/@okta/courage-dist/esm/src/courage/views/forms/BaseForm.js"],"sourcesContent":["import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaJQueryStatic from '../../util/jquery-wrapper.js';\nimport oktaUnderscore from '../../util/underscore-wrapper.js';\nimport StringUtil from '../../util/StringUtil.js';\nimport BaseView from '../BaseView.js';\nimport ReadModeBar from './components/ReadModeBar.js';\nimport Toolbar from './components/Toolbar.js';\nimport ErrorBanner from './helpers/ErrorBanner.js';\nimport ErrorParser from './helpers/ErrorParser.js';\nimport FormUtil from './helpers/FormUtil.js';\nimport InputContainer from './helpers/InputContainer.js';\nimport InputFactory from './helpers/InputFactory.js';\nimport InputLabel from './helpers/InputLabel.js';\nimport InputWrapper from './helpers/InputWrapper.js';\nimport SettingsModel from '../../util/SettingsModel.js';\n\nconst template = _Handlebars2.template({\n  \"1\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 class=\\\"o-form-title-bar\\\" data-se=\\\"o-form-title-bar\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 75\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 84\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"3\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return (stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"title\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(4, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 192\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 288\n        }\n      }\n    })) != null ? stack1 : \"\";\n  },\n  \"4\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 data-se=\\\"o-form-head\\\" class=\\\"okta-form-title o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 267\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 276\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"6\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<p class=\\\"okta-form-subtitle o-form-explain\\\" data-se=\\\"o-form-explain\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"subtitle\") || (depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"subtitle\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 385\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 397\n        }\n      }\n    }) : helper)) + \"</p>\";\n  },\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var stack1,\n        helper,\n        alias1 = depth0 != null ? depth0 : container.nullContext || {},\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(1, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 96\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div data-se=\\\"o-form-content\\\" class=\\\"o-form-content \" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"layout\") || (depth0 != null ? lookupProperty(depth0, \"layout\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(alias1, {\n      \"name\": \"layout\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 148\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 158\n        }\n      }\n    }) : helper)) + \" clearfix\\\">\" + ((stack1 = lookupProperty(helpers, \"unless\").call(alias1, depth0 != null ? lookupProperty(depth0, \"hasReadMode\") : depth0, {\n      \"name\": \"unless\",\n      \"hash\": {},\n      \"fn\": container.program(3, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 169\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 299\n        }\n      }\n    })) != null ? stack1 : \"\") + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"subtitle\") : depth0, {\n      \"name\": \"if\",\n      \"hash\": {},\n      \"fn\": container.program(6, data, 0),\n      \"inverse\": container.noop,\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 299\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 408\n        }\n      }\n    })) != null ? stack1 : \"\") + \"<div class=\\\"o-form-error-container\\\" data-se=\\\"o-form-error-container\\\"></div><div class=\\\"o-form-fieldset-container\\\" data-se=\\\"o-form-fieldset-container\\\"></div></div>\";\n  },\n  \"useData\": true\n});\n\nconst sectionTitleTemplate = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n        lookupProperty = container.lookupProperty || function (parent, propertyName) {\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return parent[propertyName];\n      }\n\n      return undefined;\n    };\n\n    return \"<h2 class=\\\"o-form-head\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"title\") || (depth0 != null ? lookupProperty(depth0, \"title\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n      \"name\": \"title\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 24\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 33\n        }\n      }\n    }) : helper)) + \"</h2>\";\n  },\n  \"useData\": true\n});\n\nconst pointerEventsSupported = oktaJQueryStatic('<div>').css({\n  'pointer-events': 'auto'\n})[0].style.pointerEvents === 'auto'; // polyfill for `pointer-events: none;` in IE < 11\n// Logic borrowed from https://github.com/kmewhort/pointer_events_polyfill (BSD)\n\nfunction pointerEventsPolyfill(e) {\n  if (!pointerEventsSupported && this.$el.hasClass('o-form-saving')) {\n    const $el = oktaJQueryStatic(e.currentTarget);\n    $el.css('display', 'none');\n    const underneathElem = document.elementFromPoint(e.clientX, e.clientY);\n    $el.css('display', 'block');\n    e.target = underneathElem;\n    oktaJQueryStatic(underneathElem).trigger(e);\n    return false;\n  }\n}\n\nconst events = {\n  submit: function (e) {\n    e.preventDefault();\n\n    this.__save();\n  }\n};\noktaUnderscore.each(['click', 'dblclick', 'mousedown', 'mouseup'], function (event) {\n  events[event + ' .o-form-input'] = pointerEventsPolyfill;\n});\n\nconst attributes = function (model) {\n  model || (model = {});\n  const collection = model && model.collection || {};\n  return {\n    method: 'POST',\n    action: oktaUnderscore.result(model, 'urlRoot') || oktaUnderscore.result(collection, 'url') || window.location.pathname,\n    'data-se': 'o-form',\n    slot: 'content'\n  };\n};\n\nconst convertSavingState = function (rawSavingStateEvent, defaultEvent) {\n  rawSavingStateEvent || (rawSavingStateEvent = '');\n  let savingStateEvent = [];\n\n  if (oktaUnderscore.isString(rawSavingStateEvent)) {\n    savingStateEvent = rawSavingStateEvent.split(' ');\n  }\n\n  savingStateEvent = oktaUnderscore.union(savingStateEvent, defaultEvent);\n  return savingStateEvent.join(' ');\n};\n\nconst getErrorSummary = function (responseJSON = {}) {\n  if (Array.isArray(responseJSON.errorCauses) && responseJSON.errorCauses.length > 0) {\n    //set errorSummary from first errorCause which is not field specific error\n    return responseJSON.errorCauses[0].errorSummary;\n  } else {\n    //set errorSummary from top level errorSummary\n    return responseJSON.errorSummary;\n  }\n};\n/**\n * A Form utility framework\n *\n * Okta.Form is a form that operates on one flat model\n * It exposes one main factory method, {@link module:Okta.Form#addInput|addInput}, which add inputs to the form,\n * and each input operates on one field in the model, identified by the `name` field.\n *\n * See:\n * [Basic O-Form Tutorial](https://github.com/okta/courage/wiki/Basic-O-Form)\n *\n * @class module:Okta.Form\n * @extends module:Okta.View\n * @param {Object} options options hash (See {@link module:Okta.View|View})\n * @param {Object} options.model the model this form operates on\n * @param {Boolean} [options.label-top=false] position label on top of inputs\n * @param {Boolean} [options.wide=false] Use a wide input layout for all input\n */\n\n/**\n * Fired when the \"Save\" button is clicked\n * @event module:Okta.Form#save\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired after the model is successfully saved - applies when {@link module:Okta.Form#autoSave|autoSave}\n * is set to true\n * @event module:Okta.Form#saved\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the model fires an invalid event or an error event;\n * @event module:Okta.Form#error\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the form layout is likely to be resized\n * @event module:Okta.Form#resize\n * @param {module:Okta.Model} model Model used in the form\n */\n\n/**\n * Fired when the \"Cancel\" button is clicked\n * @event module:Okta.Form#cancel\n */\n\n\nvar BaseForm = BaseView.extend(\n/** @lends module:Okta.Form.prototype */\n{\n  /**\n   * Specifies how to validate form:\n   * - In case \"local\" string provided as a value of the property,\n   * the form will validate only fields added as inputs to the form;\n   * - In case array is provided, the validation will be performed only for fields specified in array;\n   * - In case function is provided, provided function will be used as a validation function,\n   * it must return an error object with the format {fieldName: 'error text'} with as many fields as you need.\n   * @name validate\n   * @memberof module:Okta.Form\n   * @type {String|Array|Function}\n   * @instance\n   */\n  constructor: function (options) {\n    /* eslint max-statements: 0, complexity: 0 */\n    options || (options = {});\n    this.options = options;\n\n    if (options.settings) {\n      this.settings = options.settings;\n    } else {\n      this.settings = options.settings = new SettingsModel();\n    }\n\n    this.id = oktaUnderscore.uniqueId('form');\n    this.tagName = 'form';\n    oktaUnderscore.defaults(this.events, events);\n    oktaUnderscore.defaults(this.attributes, attributes(options.model));\n    this.__buttons = [];\n    this.__errorFields = {};\n\n    this.__saveModelState(options.model);\n\n    const step = oktaUnderscore.result(this, 'step');\n\n    if (step) {\n      // checking exists of `this.save` hence don't have to change to\n      // `_.result(this, 'save')` which will execute the function and\n      // is not the intent.\n      if (!this.save) {\n        const totalStep = oktaUnderscore.result(this, 'totalSteps');\n        this.save = !totalStep || step === totalStep ? StringUtil.localize('oform.button.finish', 'courage') : StringUtil.localize('oform.button.next', 'courage');\n      }\n\n      this.className = oktaUnderscore.result(this, 'className') + ' wizard';\n    }\n\n    this.className = oktaUnderscore.result(this, 'className') + ' o-form';\n    this.__toolbar = this.__createToolbar(options);\n    BaseView.call(this, options);\n    oktaUnderscore.each(oktaUnderscore.result(this, 'inputs') || [], function (input) {\n      // to ingore extra argumests from `each` iteratee function\n      // http://underscorejs.org/#each\n      this.__addLayoutItem(input);\n    }, this);\n    this.add(this.__toolbar, ''); // NOTES: this.model shall be initialized after calling\n    // super (BaseView.call(this, options)) above.\n    //\n\n    this.listenTo(this.model, 'change:__edit__', this.__applyMode);\n    this.listenTo(this.model, 'invalid error', oktaUnderscore.throttle(function (model, resp, showBanner) {\n      this.__showErrors(model, resp, showBanner !== false);\n    }, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:resize', function () {\n      this.trigger('resize');\n    });\n    this.listenTo(this.model, 'form:cancel', oktaUnderscore.throttle(this.__cancel, 100, {\n      trailing: false\n    }));\n    this.listenTo(this.model, 'form:previous', oktaUnderscore.throttle(this.__previous, 100, {\n      trailing: false\n    }));\n    this.__save = oktaUnderscore.throttle(this.__save, 200, {\n      trailing: false\n    });\n    this.listenTo(this.model, 'form:save', function () {\n      this.$el.submit();\n    });\n    this.listenTo(this.model, 'sync', function () {\n      if (this.model.get('__edit__')) {\n        this.model.set('__edit__', false, {\n          silent: true\n        });\n      }\n\n      this.__saveModelState(this.model);\n\n      this.render();\n    });\n    let hasSavingState = this.getAttribute('hasSavingState');\n\n    if (this.getAttribute('autoSave')) {\n      this.listenTo(this, 'save', function (model) {\n        const xhr = model.save();\n\n        if (xhr && xhr.done) {\n          xhr.done(() => {\n            this.trigger('saved', model);\n          });\n        }\n      });\n\n      if (oktaUnderscore.isUndefined(hasSavingState)) {\n        hasSavingState = true;\n      }\n    }\n    /*\n    * Attach model event listeners\n    * by default, model's request event starts the form saving state,\n    * error and sync event stops it\n    * you can define customized saving start and stop state, like\n    * customSavingState: {start: 'requestingAdditionalInfo', stop: 'retrievedAdditionalInfo'}\n    * doing this does not override the default events\n    */\n\n\n    if (hasSavingState) {\n      const customSavingState = this.getAttribute('customSavingState', {});\n      this.listenTo(this.model, convertSavingState(customSavingState.start || '', ['request']), this.__setSavingState);\n      this.listenTo(this.model, convertSavingState(customSavingState.stop || '', ['error', 'sync']), this.__clearSavingState);\n    }\n  },\n\n  /**\n   * Create the bottom button bar\n   * @param  {Object} options options h\n   * @return {Okta.View} The toolbar\n   * @private\n   */\n  __createToolbar: function (options) {\n    const danger = this.getAttribute('danger');\n    const saveBtnClassName = danger === true ? 'button-error' : 'button-primary';\n    const step = oktaUnderscore.result(this, 'step');\n    const toolbar = new Toolbar(oktaUnderscore.extend({\n      save: this.save || StringUtil.localize('oform.save', 'courage'),\n      saveId: this.saveId,\n      saveClassName: saveBtnClassName,\n      cancel: this.cancel || StringUtil.localize('oform.cancel', 'courage'),\n      noCancelButton: this.noCancelButton || false,\n      noSubmitButton: this.noSubmitButton || false,\n      buttonOrder: this.buttonOrder,\n      hasPrevStep: step && step > 1\n    }, options || this.options));\n    oktaUnderscore.each(this.__buttons, function (args) {\n      toolbar.addButton.apply(toolbar, args);\n    });\n    return toolbar;\n  },\n  className: '',\n  attributes: {},\n  events: {},\n\n  /**\n   * An array of input configurations to render in the form\n   * @type {Array}\n   */\n  inputs: [],\n  template: null,\n\n  /**\n   * Does the form support read/edit toggle.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  read: false,\n\n  /**\n   * Is the form in readOnly mode.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  readOnly: false,\n\n  /**\n   * Should we not render the button bar\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noButtonBar: false,\n\n  /**\n   * Should we not render a cancel button\n   * @type {Boolean|Function}\n   * @default false\n   */\n  noCancelButton: false,\n\n  /**\n   * Should we not render a save button\n   * @type {Boolean}\n   * @default false\n   */\n  noSubmitButton: false,\n\n  /**\n   * Set the order of the save, cancel and previous buttons (left to right).\n   * @type {Array.<string>}\n   * @default ['previous', 'save', 'cancel']\n   */\n  buttonOrder: ['previous', 'save', 'cancel'],\n\n  /**\n   * The text on the save button\n   * @type {String}\n   * @default \"Save\"\n   */\n  save: null,\n\n  /**\n   * The text on the cancel button\n   * @type {String}\n   * @default \"Cancel\"\n   */\n  cancel: null,\n\n  /**\n   * To use button-error to style the submit button instead of button-primary.\n   * @type {Boolean|Function}\n   * @default false\n   */\n  danger: false,\n\n  /**\n   * A layout CSS class to add to the form\n   * @type {String|Function}\n   * @default \"\"\n   */\n  layout: '',\n\n  /**\n   * The step this form is in the context of a wizard\n   * @type {Number}\n   */\n  step: undefined,\n\n  /**\n   * The total numbers of steps the wizard this form is a part of has\n   * @type {Number}\n   */\n  totalSteps: undefined,\n\n  /**\n   * The form's title\n   * @type {String|Function}\n   */\n  title: null,\n\n  /**\n   * The form's subtitle\n   * @type {String|Function}\n   */\n  subtitle: null,\n\n  /**\n   * Auto-save the model when hitting save. Triggers a `saved` event when done\n   * @type {Boolean}\n   * @default false\n   */\n  autoSave: false,\n\n  /**\n   * Scroll to the top of the form on error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  scrollOnError: true,\n\n  /**\n   * Show the error banner upon error\n   * @type {Boolean|Function}\n   * @default true\n   */\n  showErrors: true,\n\n  /**\n   * The form's scrollable area\n   * @type {String}\n   * @default \".o-form-content\"\n   */\n  resizeSelector: '.o-form-content',\n\n  /**\n   * Sets whether or not the form shows the saving state when\n   * the model is saved.  Has no effect on setSavingState and clearSavingState as those are manual calls\n   * to trigger/clear the saving state.\n   * @name hasSavingState\n   * @memberof module:Okta.Form\n   * @type {Boolean}\n   * @default false\n   * @instance\n   */\n\n  /**\n   * Get an attribute value from options or instance.\n   * Prefer options value over instance value\n   * @param  {String} name Name of the attribute\n   * @param  {Object} defaultValue the default value to return if the attribute is not found\n   * @return {Object} The value\n   */\n  getAttribute: function (name, defaultValue) {\n    let value = oktaUnderscore.resultCtx(this.options, name, this);\n\n    if (oktaUnderscore.isUndefined(value)) {\n      value = oktaUnderscore.result(this, name);\n    }\n\n    return !oktaUnderscore.isUndefined(value) ? value : defaultValue;\n  },\n\n  /**\n   * Does this form have a \"read\" mode\n   * @return {Boolean}\n   */\n  hasReadMode: function () {\n    return !!this.getAttribute('read');\n  },\n\n  /**\n   * Is this form in \"read only\" mode\n   * @return {Boolean}\n   */\n  isReadOnly: function () {\n    return !!this.getAttribute('readOnly');\n  },\n\n  /**\n   * Does this form have a button bar\n   * @return {Boolean}\n   */\n  hasButtonBar: function () {\n    return !(this.getAttribute('noButtonBar') || this.isReadOnly());\n  },\n  render: function () {\n    this.__readModeBar && this.__readModeBar.remove();\n\n    if (this.hasReadMode() && !this.isReadOnly()) {\n      const readModeBar = ReadModeBar.extend({\n        formTitle: this.getAttribute('title', '')\n      });\n      this.__readModeBar = this.add(readModeBar, '.o-form-title-bar').last();\n    }\n\n    const html = template({\n      layout: this.getAttribute('layout', ''),\n      title: this.getAttribute('title', '', true),\n      subtitle: this.getAttribute('subtitle', '', true),\n      hasReadMode: this.hasReadMode()\n    });\n    this.$el.html(html);\n    delete this.template;\n    BaseView.prototype.render.apply(this, arguments);\n\n    this.__applyMode();\n\n    return this;\n  },\n\n  /**\n   * Changes form UI to indicate saving.  Disables all inputs and buttons.  Use this function if you have set\n   * hasSavingState to false on the the form\n   * @private\n   */\n  __setSavingState: function () {\n    this.model.trigger('form:set-saving-state');\n    this.$el.addClass('o-form-saving');\n  },\n\n  /**\n   * Changes form UI back to normal from the saving state.  Use this function if you are have set hasSavingState\n   * to false on the form\n   * @private\n   */\n  __clearSavingState: function () {\n    this.model.trigger('form:clear-saving-state');\n    this.$el.removeClass('o-form-saving');\n  },\n\n  /**\n   * Toggles the visibility of the bottom button bar\n   * @private\n   */\n  __toggleToolbar: function () {\n    this.__toolbar && this.__toolbar.remove();\n\n    if (this.hasButtonBar() && this._editMode()) {\n      this.__toolbar = this.__createToolbar();\n      this.add(this.__toolbar, '');\n    }\n\n    this.trigger('resize');\n  },\n\n  /**\n   * Cancels this form\n   * - Reset the model to the previous state\n   * - Clears all errors\n   * - Triggers a `cancel` event\n   * - Sets the model to read mode (if applicable)\n   * @private\n   * @fires cancel\n   */\n  __cancel: function () {\n    const edit = this.model.get('__edit__');\n    /* eslint max-statements: [2, 12] */\n\n    this.model.clear({\n      silent: true\n    });\n    let data;\n\n    if (this.model.sanitizeAttributes) {\n      data = this.model.sanitizeAttributes(this.__originalModel);\n    } else {\n      data = oktaUnderscore.clone(this.__originalModel);\n    }\n\n    this.model.set(data, {\n      silent: true\n    });\n    this.trigger('cancel', this.model);\n    this.model.trigger('cache:clear');\n\n    if (edit) {\n      this.model.set('__edit__', false, {\n        silent: true\n      });\n      this.model.trigger('change:__edit__', this.model, false);\n    }\n\n    this.clearErrors();\n  },\n\n  /**\n   * Runs {@link module:Okta.Form#validate|validate} to check the model state.\n   * Triggers an \"invalid\" event on the model if validation fails\n   * @returns {Boolean}\n   */\n  isValid: function () {\n    let res;\n    const self = this;\n\n    function validateArray(arr) {\n      return oktaUnderscore.reduce(arr, function (memo, fieldName) {\n        return oktaUnderscore.extend(memo, self.model.validateField(fieldName));\n      }, {});\n    }\n\n    if (oktaUnderscore.isUndefined(this.validate)) {\n      return this.model.isValid();\n    } else if (oktaUnderscore.isFunction(this.validate)) {\n      res = this.validate();\n    } else if (oktaUnderscore.isArray(this.validate)) {\n      res = validateArray(this.validate);\n    } else if (this.validate === 'local') {\n      res = validateArray(this.getInputs().map(function (input) {\n        return input.options.name;\n      }));\n    }\n\n    if (!oktaUnderscore.isEmpty(res)) {\n      this.model.trigger('invalid', this.model, res);\n      return false;\n    } else {\n      return true;\n    }\n  },\n\n  /**\n   * A throttled function that saves the form not more than once every 100 ms\n   * Basically all this method does is trigger a `save` event\n   * @fires save\n   * @private\n   */\n  __save: function () {\n    this.clearErrors();\n\n    if (this.isValid()) {\n      this.trigger('save', this.model);\n    }\n  },\n\n  /**\n   * In the context of a wizard, go to previous state\n   * Technically all this method does is trigger a `previous` event\n   * @param  {Event} e\n   * @private\n   */\n  __previous: function () {\n    this.trigger('previous', this.model);\n  },\n\n  /**\n   * Renders the form in the correct mode based on the model.\n   * @private\n   */\n  __applyMode: function () {\n    this.clearErrors();\n\n    this.__toggleToolbar();\n\n    if (this._editMode()) {\n      this.$el.addClass('o-form-edit-mode');\n      this.$el.removeClass('o-form-read-mode');\n      this.$('.o-form-content').removeClass('rounded-btm-4');\n      this.focus();\n    } else {\n      this.$el.removeClass('o-form-edit-mode');\n      this.$el.addClass('o-form-read-mode');\n      this.$('.o-form-content').addClass('rounded-btm-4');\n    }\n  },\n\n  /**\n   * Is the form in edit mode\n   * @return {Boolean}\n   * @private\n   */\n  _editMode: function () {\n    return this.model.get('__edit__') || !this.hasReadMode();\n  },\n\n  /**\n   * Function can be overridden to alter top level error summary.\n   * @param {Object} responseJSON\n   *\n   * @example\n   * // responseJSON object\n   * {\n   *  errorCauses: [{errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"}]\n   *  errorSummary: \"At least one of Proxy Status, Location, or ASN should be configured.\"\n   *  errorCode: \"E0000001\"\n   *  errorId: \"oaepsrTCHrhT-eIi8XTm6KWWg\"\n   *  errorLink: \"E0000001\"\n   *  errorSummary: \"Api validation failed: networkZone\"\n   * }\n   *\n   * @method\n   * @default _.identity\n   */\n  parseErrorMessage: oktaUnderscore.identity,\n  _handleErrorScroll: function () {\n    if (!this.getAttribute('scrollOnError')) {\n      return;\n    }\n\n    const $el = oktaJQueryStatic('#' + this.id + ' .o-form-error-container');\n\n    if ($el.length) {\n      let $scrollContext = $el.scrollParent();\n      let scrollTop; // scrollParent was almost awesome...\n      // but it returns document if there are no other scrollable parents\n      // document does not have offset, so here we have to replace with html, body\n      // Additionally when the scroll context is html, body, $el.offset().top is fixed\n      // versus when it has a different scroll context it's dynamic and requires the\n      // calculation below.\n\n      if ($scrollContext[0] === document) {\n        $scrollContext = oktaJQueryStatic('html, body');\n        scrollTop = $el.offset().top;\n      } else {\n        scrollTop = $scrollContext.scrollTop() + $el.offset().top - $scrollContext.offset().top;\n      }\n\n      $scrollContext.animate({\n        scrollTop: scrollTop\n      }, 400);\n    }\n  },\n\n  /**\n   * Show an error message based on an XHR error\n   * @param  {Okta.BaseModel} model the model\n   * @param  {jqXHR} xhr The jQuery XmlHttpRequest Object\n   * @private\n   */\n  __showErrors: function (model, resp, showBanner) {\n    this.trigger('error', model);\n    /* eslint max-statements: 0 */\n\n    if (!this.getAttribute('showErrors')) {\n      return;\n    }\n\n    let errorSummary;\n    let responseJSON = ErrorParser.getResponseJSON(resp);\n    const validationErrors = ErrorParser.parseFieldErrors(resp); // trigger events for field validation errors\n\n    if (oktaUnderscore.size(validationErrors)) {\n      oktaUnderscore.each(validationErrors, function (errors, field) {\n        this.model.trigger('form:field-error', this.__errorFields[field] || field, oktaUnderscore.map(errors, function (error) {\n          return /^model\\.validation/.test(error) ? StringUtil.localize(error, 'courage') : error;\n        }));\n      }, this);\n    } else {\n      responseJSON = this.parseErrorMessage(responseJSON);\n      errorSummary = getErrorSummary(responseJSON);\n    } // show the error message\n\n\n    if (showBanner) {\n      this.$('.o-form-error-container').addClass('o-form-has-errors');\n      this.add(ErrorBanner, '.o-form-error-container', {\n        options: {\n          errorSummary: errorSummary\n        }\n      });\n    } // slide to and focus on the error message\n\n\n    this._handleErrorScroll();\n\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Clears the error banner\n   * @private\n   */\n  clearErrors: function () {\n    this.$('.o-form-error-container').removeClass('o-form-has-errors');\n    this.model.trigger('form:clear-errors');\n    this.model.trigger('form:resize');\n  },\n\n  /**\n   * Toggles between edit and read mode\n   */\n  toggle: function () {\n    this.model.set('__edit__', !this.hasReadMode() || !this.model.get('__edit__'));\n    return this;\n  },\n  __addLayoutItem: function (input) {\n    if (InputFactory.supports(input)) {\n      this.addInput(input);\n    } else {\n      this.__addNonInputLayoutItem(input);\n    }\n  },\n  __addNonInputLayoutItem: function (item) {\n    const itemOptions = oktaUnderscore.omit(item, 'type');\n\n    switch (item.type) {\n      case 'sectionTitle':\n        this.addSectionTitle(item.title, oktaUnderscore.omit(itemOptions, 'title'));\n        break;\n\n      case 'divider':\n        this.addDivider(itemOptions);\n        break;\n\n      default:\n        throw new Error('unknown input: ' + item.type);\n    }\n  },\n\n  /**\n   * Adds a view to the buttons tool bar\n   * @param {Object} params parameterized button options\n   * @param {Object} options options to send to {@link module:Okta.View#add|View.add}\n   */\n  addButton: function (params, options) {\n    this.__toolbar && this.__toolbar.addButton(params, options);\n\n    this.__buttons.push([params, options]);\n  },\n\n  /**\n   * Adds a divider\n   */\n  addDivider: function (options) {\n    this.add('<div class=\"okta-form-divider form-divider\"></div>');\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n\n  /**\n   * Adds section header\n   * @param {String} title\n   */\n  addSectionTitle: function (title, options) {\n    this.add(sectionTitleTemplate({\n      title: title\n    }));\n    FormUtil.applyShowWhen(this.last(), options && options.showWhen);\n    FormUtil.applyToggleWhen(this.last(), options && options.toggleWhen);\n    return this;\n  },\n\n  /**\n   * Add a form input\n   * @param {Object} options Options to describe the input\n   * @param {String} options.type The input type.\n   * The options are: `text`, `textarea`, `select`, `checkbox`, `radio`, `switch`,\n   * `password`, `number`, `textselect`, `date`, `grouppicker`, `admingrouppicker`, `su-orgspicker`\n   * `file/image`, `file/cert`, `checkboxset`, `list`, `group`, `zonepicker`\n   * @param {String} options.name The name of the model field this input mutates\n   * @param {String|Function} [options.label]\n   * The input label text.\n   * When passed as a function, will invoke the function (in the context of the {@link InputLabel})\n   * on render time, and use the returned value.\n   * @param {String} [options.sublabel] The input sub label text\n   * @param {String} [options.tooltip] A popover tooltip to be displayed next to the label\n   * @param {String} [options.placeholder] Placeholder text.\n   * @param {String} [options.explain] Explanation text to render below the input\n   * @param {Okta.View} [options.customExplain] A custom view to render below the input (deprecated)\n   * @param {Boolean} [options.disabled=false] Make this input disabled\n   * @param {Boolean} [options.wide=false] Use a wide input layout\n   * @param {Boolean} [options.label-top=false] position label on top of an input\n   * @param {Boolean} [options.explain-top=false] position explain on top of an input (requires label-top=true)\n   * @param {Number} [options.multi] have multiple in-line inputs. useful when `input` is passed as an array of inputs\n   * @param {String} [options.errorField] The API error field here that maps to this input\n   * @param {Boolean} [options.inlineValidation=true] Validate input on focusout\n   * @param {String} [options.ariaLabel] Used to add aria-label attribute to the input when label is not present.\n   * @param {Boolean} [options.group=false] Grouping set of inputs using fieldset and legend. Mainly for radio\n   * @param {Object} [options.options]\n   * In the context of `radio` and `select`, a key/value set of options\n   *\n   * @param {Object} [options.params]\n   * Widget specific parameters. Varies per input.\n   *\n   * @param {BaseInput|Object[]} [options.input]\n   * - A custom input \"class\" or instance - preferably a **class**, so we can automagically assign the right\n   * parameters when initializing it\n   * - An array of input definition object literals (such as this one)\n   *\n   * @param {Object} [options.showWhen]\n   * Setting to define when to show (or hide) the input. The input is visible by default.\n   *\n   * @param {Object} [options.bindings]\n   * Bind a certain model attribute to a callback function, so the function is being called on render,\n   * and any time this model field changes.\n   * This is similar to `showWhen` but is not limited to toggling.\n   *\n   * @param {Function} [options.render]\n   * A post-render hook that will run upon render on InputWrapper\n   *\n   * @param {String|Function} className   A className to apply on the {@link InputWrapper}\n   *\n   * @param {Function} [options.initialize]\n   * An `initialize` function to run when initializing the {@link InputWrapper}\n   * Useful for state mutation on start time, and complex state logic\n   *\n   * @example\n   * // showhen: the field will be visible when `advanced` is set to `true`\n   * // and `mode` is set to `\"ON\"`.\n   * showWhen: {\n   *   'advanced': true,\n   *   'mode': function (value) {\n   *     return value == 'ON'; // this is identical to this.model.get('mode') == 'ON'\n   *   }\n   * }\n   *\n   * @example\n   * // bindings\n   * bindings: {\n   *   'status mode': function (status, mode) {\n   *      var labelView = this.getLabel();\n   *      if (status == 1) {\n   *        labelView.options.label = 'Something';\n   *      }\n   *      else {\n   *        labelView.options.label = mode;\n   *      }\n   *      labelView.render();\n   *   }\n   * }\n   */\n  addInput: function (_options) {\n    _options = oktaUnderscore.clone(_options);\n    FormUtil.validateInput(_options, this.model);\n    const inputsOptions = FormUtil.generateInputOptions(_options, this, this.__createInput).reverse(); // We need a local variable here to keep track\n    // as addInput can be called either directy or through the inputs array.\n\n    if (oktaUnderscore.isEmpty(this.getInputs().toArray())) {\n      oktaUnderscore.extend(inputsOptions[0], {\n        validateOnlyIfDirty: true\n      });\n    }\n\n    const inputs = oktaUnderscore.map(inputsOptions, this.__createInput, this);\n    oktaUnderscore.each(inputsOptions, function (input) {\n      if (input.errorField) {\n        this.__errorFields[input.errorField] = input.name;\n      }\n    }, this);\n    const options = {\n      inputId: oktaUnderscore.last(inputs).options.inputId,\n      input: inputs,\n      multi: inputsOptions.length > 1 ? inputsOptions.length : undefined\n    };\n    oktaUnderscore.extend(options, oktaUnderscore.omit(this.options, 'input'), oktaUnderscore.omit(_options, 'input'));\n\n    const inputWrapper = this.__createWrapper(options);\n\n    if (options.label !== false) {\n      inputWrapper.add(this.__createLabel(options));\n    }\n\n    inputWrapper.add(this._createContainer(options)); // TODO: there may be a bug here.\n    // options.input will always be an array, so options.input.type will always be undefined\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    /// @ts-ignore\n\n    inputWrapper.type = options.type || options.input.type || 'custom';\n    const args = [inputWrapper].concat(oktaUnderscore.rest(arguments));\n    return this.add.apply(this, args);\n  },\n\n  /**\n   * @private\n   */\n  __createInput: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.INPUT_OPTIONS);\n    return InputFactory.create(options);\n  },\n\n  /**\n   * @private\n   */\n  __createWrapper: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.WRAPPER_OPTIONS);\n    return new InputWrapper(options);\n  },\n\n  /**\n   * @private\n   */\n  __createLabel: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.LABEL_OPTIONS);\n    return new InputLabel(options);\n  },\n\n  /**\n   * @private\n   */\n  _createContainer: function (options) {\n    options = oktaUnderscore.pick(options, FormUtil.CONTAINER_OPTIONS);\n    return new InputContainer(options);\n  },\n\n  /**\n   * Stores the current attributes of the model to a private property\n   * @param  {Okta.BaseModel} model The model\n   * @private\n   */\n  __saveModelState: function (model) {\n    this.__originalModel = oktaJQueryStatic.extend(true, {}, model.attributes);\n  },\n\n  /**\n   * @override\n   * @ignore\n   */\n  add: function (...args) {\n    // sets a default element selector\n    typeof args[1] === 'undefined' && (args[1] = '> div.o-form-content > .o-form-fieldset-container');\n    return BaseView.prototype.add.apply(this, args);\n  },\n\n  /**\n   * Set the focus on the first input in the form\n   */\n  focus: function () {\n    const first = this.getInputs().first();\n\n    if (first && first.focus) {\n      first.focus();\n    }\n\n    return this;\n  },\n\n  /**\n   * Disable all inputs in the form\n   * @deprecated not currently in use\n   */\n  disable: function () {\n    this.invoke('disable');\n    return this;\n  },\n\n  /**\n   * Enable all inputs in the form\n   * @deprecated not currently in use\n   */\n  enable: function () {\n    this.invoke('enable');\n  },\n\n  /**\n   * Set the max-height for o-form-content class container within the form if a height is provided,\n   * otherwise, get its computed inner height\n   * @param {Number} the height in pixel to set for class o-form-content\n   * @return {Number}\n   */\n  contentHeight: function (height) {\n    const content = this.$('.o-form-content');\n\n    if (oktaUnderscore.isNumber(height)) {\n      content.css('max-height', height);\n    } else {\n      return content.height();\n    }\n  },\n\n  /**\n   * Get only the input children\n   * @return {InputWrapper[]} An underscore wrapped array of {@link InputWrapper} instances\n   */\n  getInputs: function () {\n    return oktaUnderscore(this.filter(function (view) {\n      return view instanceof InputWrapper;\n    }));\n  }\n});\n\nexport { BaseForm as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}