{"ast":null,"code":"import jQuery from '../../courage-dist/esm/src/courage/vendor/lib/jquery-1.12.4.js';\n\n/*\n * qTip2 - Pretty powerful tooltips - v3.0.3-5-g\n * http://qtip2.com\n *\n * Copyright (c) 2017 \n * Released under the MIT licenses\n * http://jquery.org/license\n *\n * Date: Wed May 24 2017 01:22 UTC+0000\n * Plugins: tips modal viewport svg imagemap ie6\n * Styles: core basic css3\n */\n/* Cache window, document, undefined */\n\n(function (window, document, undefined$1) {\n  (function (factory) {\n    if (!jQuery.fn.qtip) {\n      factory(jQuery);\n    }\n  })(function ($) {\n    var TRUE = true,\n      FALSE = false,\n      NULL = null,\n      // Common variables\n      X = 'x',\n      Y = 'y',\n      WIDTH = 'width',\n      HEIGHT = 'height',\n      // Positioning sides\n      TOP = 'top',\n      LEFT = 'left',\n      BOTTOM = 'bottom',\n      RIGHT = 'right',\n      CENTER = 'center',\n      FLIPINVERT = 'flipinvert',\n      SHIFT = 'shift',\n      // Shortcut vars\n      QTIP,\n      PROTOTYPE,\n      CORNER,\n      CHECKS,\n      PLUGINS = {},\n      NAMESPACE = 'qtip',\n      ATTR_HAS = 'data-hasqtip',\n      ATTR_ID = 'data-qtip-id',\n      WIDGET = ['ui-widget', 'ui-tooltip'],\n      SELECTOR = '.' + NAMESPACE,\n      INACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\n      CLASS_FIXED = NAMESPACE + '-fixed',\n      CLASS_DEFAULT = NAMESPACE + '-default',\n      CLASS_FOCUS = NAMESPACE + '-focus',\n      CLASS_HOVER = NAMESPACE + '-hover',\n      CLASS_DISABLED = NAMESPACE + '-disabled',\n      replaceSuffix = '_replacedByqTip',\n      oldtitle = 'oldtitle',\n      trackingBound,\n      // Browser detection\n      BROWSER = {\n        /*\n         * IE version detection\n         *\n         * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\n         * Credit to James Padolsey for the original implemntation!\n         */\n        ie: function () {\n          /* eslint-disable no-empty */\n          var v, i;\n          for (v = 4, i = document.createElement('div'); (i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0]; v += 1) {}\n          return v > 4 ? v : NaN;\n          /* eslint-enable no-empty */\n        }(),\n        /*\n         * iOS version detection\n         */\n        iOS: parseFloat(('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '')) || FALSE\n      };\n    function QTip(target, options, id, attr) {\n      // Elements and ID\n      this.id = id;\n      this.target = target;\n      this.tooltip = NULL;\n      this.elements = {\n        target: target\n      }; // Internal constructs\n\n      this._id = NAMESPACE + '-' + id;\n      this.timers = {\n        img: {}\n      };\n      this.options = options;\n      this.plugins = {}; // Cache object\n\n      this.cache = {\n        event: {},\n        target: $(),\n        disabled: FALSE,\n        attr: attr,\n        onTooltip: FALSE,\n        lastClass: ''\n      }; // Set the initial flags\n\n      this.rendered = this.destroyed = this.disabled = this.waiting = this.hiddenDuringWait = this.positioning = this.triggering = FALSE;\n    }\n    PROTOTYPE = QTip.prototype;\n    PROTOTYPE._when = function (deferreds) {\n      return $.when.apply($, deferreds);\n    };\n    PROTOTYPE.render = function (show) {\n      if (this.rendered || this.destroyed) {\n        return this;\n      } // If tooltip has already been rendered, exit\n\n      var self = this,\n        options = this.options,\n        cache = this.cache,\n        elements = this.elements,\n        text = options.content.text,\n        title = options.content.title,\n        button = options.content.button,\n        posOptions = options.position,\n        deferreds = []; // Add ARIA attributes to target\n\n      $.attr(this.target[0], 'aria-describedby', this._id); // Create public position object that tracks current position corners\n\n      cache.posClass = this._createPosClass((this.position = {\n        my: posOptions.my,\n        at: posOptions.at\n      }).my); // Create tooltip element\n\n      this.tooltip = elements.tooltip = $('<div/>', {\n        'id': this._id,\n        'class': [NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass].join(' '),\n        'width': options.style.width || '',\n        'height': options.style.height || '',\n        'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\n        /* ARIA specific attributes */\n        'role': 'alert',\n        'aria-live': 'polite',\n        'aria-atomic': FALSE,\n        'aria-describedby': this._id + '-content',\n        'aria-hidden': TRUE\n      }).toggleClass(CLASS_DISABLED, this.disabled).attr(ATTR_ID, this.id).data(NAMESPACE, this).appendTo(posOptions.container).append(\n      // Create content element\n      elements.content = $('<div />', {\n        'class': NAMESPACE + '-content',\n        'id': this._id + '-content',\n        'aria-atomic': TRUE\n      })); // Set rendered flag and prevent redundant reposition calls for now\n\n      this.rendered = -1;\n      this.positioning = TRUE; // Create title...\n\n      if (title) {\n        this._createTitle(); // Update title only if its not a callback (called in toggle if so)\n\n        if (!$.isFunction(title)) {\n          deferreds.push(this._updateTitle(title, FALSE));\n        }\n      } // Create button\n\n      if (button) {\n        this._createButton();\n      } // Set proper rendered flag and update content if not a callback function (called in toggle)\n\n      if (!$.isFunction(text)) {\n        deferreds.push(this._updateContent(text, FALSE));\n      }\n      this.rendered = TRUE; // Setup widget classes\n\n      this._setWidget(); // Initialize 'render' plugins\n\n      $.each(PLUGINS, function (name) {\n        var instance;\n        if (this.initialize === 'render' && (instance = this(self))) {\n          self.plugins[name] = instance;\n        }\n      }); // Unassign initial events and assign proper events\n\n      this._unassignEvents();\n      this._assignEvents(); // When deferreds have completed\n\n      this._when(deferreds).then(function () {\n        // tooltiprender event\n        self._trigger('render'); // Reset flags\n\n        self.positioning = FALSE; // Show tooltip if not hidden during wait period\n\n        if (!self.hiddenDuringWait && (options.show.ready || show)) {\n          self.toggle(TRUE, cache.event, FALSE);\n        }\n        self.hiddenDuringWait = FALSE;\n      }); // Expose API\n\n      QTIP.api[this.id] = this;\n      return this;\n    };\n    PROTOTYPE.destroy = function (immediate) {\n      // Set flag the signify destroy is taking place to plugins\n      // and ensure it only gets destroyed once!\n      if (this.destroyed) {\n        return this.target;\n      }\n      function process() {\n        if (this.destroyed) {\n          return;\n        }\n        this.destroyed = TRUE;\n        var target = this.target,\n          title = target.attr(oldtitle),\n          timer; // Destroy tooltip if rendered\n\n        if (this.rendered) {\n          this.tooltip.stop(1, 0).find('*').remove().end().remove();\n        } // Destroy all plugins\n\n        $.each(this.plugins, function () {\n          this.destroy && this.destroy();\n        }); // Clear timers\n\n        for (timer in this.timers) {\n          if (this.timers.hasOwnProperty(timer)) {\n            clearTimeout(this.timers[timer]);\n          }\n        } // Remove api object and ARIA attributes\n\n        target.removeData(NAMESPACE).removeAttr(ATTR_ID).removeAttr(ATTR_HAS).removeAttr('aria-describedby'); // Reset old title attribute if removed\n\n        if (this.options.suppress && title) {\n          target.attr('title', title).removeAttr(oldtitle);\n        } // Remove qTip events associated with this API\n\n        this._unassignEvents(); // Remove ID from used id objects, and delete object references\n        // for better garbage collection and leak protection\n\n        this.options = this.elements = this.cache = this.timers = this.plugins = this.mouse = NULL; // Delete epoxsed API object\n\n        delete QTIP.api[this.id];\n      } // If an immediate destroy is needed\n\n      if ((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\n        this.tooltip.one('tooltiphidden', $.proxy(process, this));\n        !this.triggering && this.hide();\n      } // If we're not in the process of hiding... process\n      else {\n        process.call(this);\n      }\n      return this.target;\n    };\n    function invalidOpt(a) {\n      return a === NULL || $.type(a) !== 'object';\n    }\n    function invalidContent(c) {\n      return !($.isFunction(c) || c && c.attr || c.length || $.type(c) === 'object' && (c.jquery || c.then));\n    } // Option object sanitizer\n\n    function sanitizeOptions(opts) {\n      var content, text, ajax, once;\n      if (invalidOpt(opts)) {\n        return FALSE;\n      }\n      if (invalidOpt(opts.metadata)) {\n        opts.metadata = {\n          type: opts.metadata\n        };\n      }\n      if ('content' in opts) {\n        content = opts.content;\n        if (invalidOpt(content) || content.jquery || content.done) {\n          text = invalidContent(content) ? FALSE : content;\n          content = opts.content = {\n            text: text\n          };\n        } else {\n          text = content.text;\n        } // DEPRECATED - Old content.ajax plugin functionality\n        // Converts it into the proper Deferred syntax\n\n        if ('ajax' in content) {\n          ajax = content.ajax;\n          once = ajax && ajax.once !== FALSE;\n          delete content.ajax;\n          content.text = function (event, api) {\n            var loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\n              deferred = $.ajax($.extend({}, ajax, {\n                context: api\n              })).then(ajax.success, NULL, ajax.error).then(function (newContent) {\n                if (newContent && once) {\n                  api.set('content.text', newContent);\n                }\n                return newContent;\n              }, function (xhr, status, error) {\n                if (api.destroyed || xhr.status === 0) {\n                  return;\n                }\n                api.set('content.text', status + ': ' + error);\n              });\n            return !once ? (api.set('content.text', loading), deferred) : loading;\n          };\n        }\n        if ('title' in content) {\n          if ($.isPlainObject(content.title)) {\n            content.button = content.title.button;\n            content.title = content.title.text;\n          }\n          if (invalidContent(content.title || FALSE)) {\n            content.title = FALSE;\n          }\n        }\n      }\n      if ('position' in opts && invalidOpt(opts.position)) {\n        opts.position = {\n          my: opts.position,\n          at: opts.position\n        };\n      }\n      if ('show' in opts && invalidOpt(opts.show)) {\n        opts.show = opts.show.jquery ? {\n          target: opts.show\n        } : opts.show === TRUE ? {\n          ready: TRUE\n        } : {\n          event: opts.show\n        };\n      }\n      if ('hide' in opts && invalidOpt(opts.hide)) {\n        opts.hide = opts.hide.jquery ? {\n          target: opts.hide\n        } : {\n          event: opts.hide\n        };\n      }\n      if ('style' in opts && invalidOpt(opts.style)) {\n        opts.style = {\n          classes: opts.style\n        };\n      } // Sanitize plugin options\n\n      $.each(PLUGINS, function () {\n        this.sanitize && this.sanitize(opts);\n      });\n      return opts;\n    } // Setup builtin .set() option checks\n\n    CHECKS = PROTOTYPE.checks = {\n      builtin: {\n        // Core checks\n        '^id$': function (obj, o, v, prev) {\n          var id = v === TRUE ? QTIP.nextid : v,\n            newId = NAMESPACE + '-' + id;\n          if (id !== FALSE && id.length > 0 && !$('#' + newId).length) {\n            this._id = newId;\n            if (this.rendered) {\n              this.tooltip[0].id = this._id;\n              this.elements.content[0].id = this._id + '-content';\n              this.elements.title[0].id = this._id + '-title';\n            }\n          } else {\n            obj[o] = prev;\n          }\n        },\n        '^prerender': function (obj, o, v) {\n          v && !this.rendered && this.render(this.options.show.ready);\n        },\n        // Content checks\n        '^content.text$': function (obj, o, v) {\n          this._updateContent(v);\n        },\n        '^content.attr$': function (obj, o, v, prev) {\n          if (this.options.content.text === this.target.attr(prev)) {\n            this._updateContent(this.target.attr(v));\n          }\n        },\n        '^content.title$': function (obj, o, v) {\n          // Remove title if content is null\n          if (!v) {\n            return this._removeTitle();\n          } // If title isn't already created, create it now and update\n\n          v && !this.elements.title && this._createTitle();\n          this._updateTitle(v);\n        },\n        '^content.button$': function (obj, o, v) {\n          this._updateButton(v);\n        },\n        '^content.title.(text|button)$': function (obj, o, v) {\n          this.set('content.' + o, v); // Backwards title.text/button compat\n        },\n        // Position checks\n        '^position.(my|at)$': function (obj, o, v) {\n          if ('string' === typeof v) {\n            this.position[o] = obj[o] = new CORNER(v, o === 'at');\n          }\n        },\n        '^position.container$': function (obj, o, v) {\n          this.rendered && this.tooltip.appendTo(v);\n        },\n        // Show checks\n        '^show.ready$': function (obj, o, v) {\n          v && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\n        },\n        // Style checks\n        '^style.classes$': function (obj, o, v, p) {\n          this.rendered && this.tooltip.removeClass(p).addClass(v);\n        },\n        '^style.(width|height)': function (obj, o, v) {\n          this.rendered && this.tooltip.css(o, v);\n        },\n        '^style.widget|content.title': function () {\n          this.rendered && this._setWidget();\n        },\n        '^style.def': function (obj, o, v) {\n          this.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\n        },\n        // Events check\n        '^events.(render|show|move|hide|focus|blur)$': function (obj, o, v) {\n          this.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip' + o, v);\n        },\n        // Properties which require event reassignment\n        '^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function () {\n          if (!this.rendered) {\n            return;\n          } // Set tracking flag\n\n          var posOptions = this.options.position;\n          this.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse); // Reassign events\n\n          this._unassignEvents();\n          this._assignEvents();\n        }\n      }\n    }; // Dot notation converter\n\n    function convertNotation(options, notation) {\n      var i = 0,\n        obj,\n        option = options,\n        // Split notation into array\n        levels = notation.split('.'); // Loop through\n\n      while (option = option[levels[i++]]) {\n        if (i < levels.length) {\n          obj = option;\n        }\n      }\n      return [obj || options, levels.pop()];\n    }\n    PROTOTYPE.get = function (notation) {\n      if (this.destroyed) {\n        return this;\n      }\n      var o = convertNotation(this.options, notation.toLowerCase()),\n        result = o[0][o[1]];\n      return result.precedance ? result.string() : result;\n    };\n    function setCallback(notation, args) {\n      var category, rule, match;\n      for (category in this.checks) {\n        if (!this.checks.hasOwnProperty(category)) {\n          continue;\n        }\n        for (rule in this.checks[category]) {\n          if (!this.checks[category].hasOwnProperty(rule)) {\n            continue;\n          }\n          if (match = new RegExp(rule, 'i').exec(notation)) {\n            args.push(match);\n            if (category === 'builtin' || this.plugins[category]) {\n              this.checks[category][rule].apply(this.plugins[category] || this, args);\n            }\n          }\n        }\n      }\n    }\n    var rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\n      rrender = /^prerender|show\\.ready/i;\n    PROTOTYPE.set = function (option, value) {\n      if (this.destroyed) {\n        return this;\n      }\n      var rendered = this.rendered,\n        reposition = FALSE,\n        options = this.options,\n        name; // Convert singular option/value pair into object form\n\n      if ('string' === typeof option) {\n        name = option;\n        option = {};\n        option[name] = value;\n      } else {\n        option = $.extend({}, option);\n      } // Set all of the defined options to their new values\n\n      $.each(option, function (notation, val) {\n        if (rendered && rrender.test(notation)) {\n          delete option[notation];\n          return;\n        } // Set new obj value\n\n        var obj = convertNotation(options, notation.toLowerCase()),\n          previous;\n        previous = obj[0][obj[1]];\n        obj[0][obj[1]] = val && val.nodeType ? $(val) : val; // Also check if we need to reposition\n\n        reposition = rmove.test(notation) || reposition; // Set the new params for the callback\n\n        option[notation] = [obj[0], obj[1], val, previous];\n      }); // Re-sanitize options\n\n      sanitizeOptions(options);\n      /*\n       * Execute any valid callbacks for the set options\n       * Also set positioning flag so we don't get loads of redundant repositioning calls.\n       */\n\n      this.positioning = TRUE;\n      $.each(option, $.proxy(setCallback, this));\n      this.positioning = FALSE; // Update position if needed\n\n      if (this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\n        this.reposition(options.position.target === 'mouse' ? NULL : this.cache.event);\n      }\n      return this;\n    };\n    PROTOTYPE._update = function (content, element) {\n      var self = this,\n        cache = this.cache; // Make sure tooltip is rendered and content is defined. If not return\n\n      if (!this.rendered || !content) {\n        return FALSE;\n      } // Use function to parse content\n\n      if ($.isFunction(content)) {\n        content = content.call(this.elements.target, cache.event, this) || '';\n      } // Handle deferred content\n\n      if ($.isFunction(content.then)) {\n        cache.waiting = TRUE;\n        return content.then(function (c) {\n          cache.waiting = FALSE;\n          return self._update(c, element);\n        }, NULL, function (e) {\n          return self._update(e, element);\n        });\n      } // If content is null... return false\n\n      if (content === FALSE || !content && content !== '') {\n        return FALSE;\n      } // Append new content if its a DOM array and show it if hidden\n\n      if (content.jquery && content.length > 0) {\n        element.empty().append(content.css({\n          display: 'block',\n          visibility: 'visible'\n        }));\n      } // Content is a regular string, insert the new content\n      else {\n        element.html(content);\n      } // Wait for content to be loaded, and reposition\n\n      return this._waitForContent(element).then(function (images) {\n        if (self.rendered && self.tooltip[0].offsetWidth > 0) {\n          self.reposition(cache.event, !images.length);\n        }\n      });\n    };\n    PROTOTYPE._waitForContent = function (element) {\n      var cache = this.cache; // Set flag\n\n      cache.waiting = TRUE; // If imagesLoaded is included, ensure images have loaded and return promise\n\n      return ($.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([])).done(function () {\n        cache.waiting = FALSE;\n      }).promise();\n    };\n    PROTOTYPE._updateContent = function (content, reposition) {\n      this._update(content, this.elements.content, reposition);\n    };\n    PROTOTYPE._updateTitle = function (content, reposition) {\n      if (this._update(content, this.elements.title, reposition) === FALSE) {\n        this._removeTitle(FALSE);\n      }\n    };\n    PROTOTYPE._createTitle = function () {\n      var elements = this.elements,\n        id = this._id + '-title'; // Destroy previous title element, if present\n\n      if (elements.titlebar) {\n        this._removeTitle();\n      } // Create title bar and title elements\n\n      elements.titlebar = $('<div />', {\n        'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\n      }).append(elements.title = $('<div />', {\n        'id': id,\n        'class': NAMESPACE + '-title',\n        'aria-atomic': TRUE\n      })).insertBefore(elements.content) // Button-specific events\n      .delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function (event) {\n        $(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\n      }).delegate('.qtip-close', 'mouseover mouseout', function (event) {\n        $(this).toggleClass('ui-state-hover', event.type === 'mouseover');\n      }); // Create button if enabled\n\n      if (this.options.content.button) {\n        this._createButton();\n      }\n    };\n    PROTOTYPE._removeTitle = function (reposition) {\n      var elements = this.elements;\n      if (elements.title) {\n        elements.titlebar.remove();\n        elements.titlebar = elements.title = elements.button = NULL; // Reposition if enabled\n\n        if (reposition !== FALSE) {\n          this.reposition();\n        }\n      }\n    };\n    PROTOTYPE._createPosClass = function (my) {\n      return NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\n    };\n    PROTOTYPE.reposition = function (event, effect) {\n      if (!this.rendered || this.positioning || this.destroyed) {\n        return this;\n      } // Set positioning flag\n\n      this.positioning = TRUE;\n      var cache = this.cache,\n        tooltip = this.tooltip,\n        posOptions = this.options.position,\n        target = posOptions.target,\n        my = posOptions.my,\n        at = posOptions.at,\n        viewport = posOptions.viewport,\n        container = posOptions.container,\n        adjust = posOptions.adjust,\n        method = adjust.method.split(' '),\n        tooltipWidth = tooltip.outerWidth(FALSE),\n        tooltipHeight = tooltip.outerHeight(FALSE),\n        targetWidth = 0,\n        targetHeight = 0,\n        type = tooltip.css('position'),\n        position = {\n          left: 0,\n          top: 0\n        },\n        visible = tooltip[0].offsetWidth > 0,\n        isScroll = event && event.type === 'scroll',\n        win = $(window),\n        doc = container[0].ownerDocument,\n        mouse = this.mouse,\n        pluginCalculations,\n        offset,\n        adjusted,\n        newClass; // Check if absolute position was passed\n\n      if ($.isArray(target) && target.length === 2) {\n        // Force left top and set position\n        at = {\n          x: LEFT,\n          y: TOP\n        };\n        position = {\n          left: target[0],\n          top: target[1]\n        };\n      } // Check if mouse was the target\n      else if (target === 'mouse') {\n        // Force left top to allow flipping\n        at = {\n          x: LEFT,\n          y: TOP\n        }; // Use the mouse origin that caused the show event, if distance hiding is enabled\n\n        if ((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\n          event = cache.origin;\n        } // Use cached event for resize/scroll events\n        else if (!event || event && (event.type === 'resize' || event.type === 'scroll')) {\n          event = cache.event;\n        } // Otherwise, use the cached mouse coordinates if available\n        else if (mouse && mouse.pageX) {\n          event = mouse;\n        } // Calculate body and container offset and take them into account below\n\n        if (type !== 'static') {\n          position = container.offset();\n        }\n        if (doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\n          offset = $(document.body).offset();\n        } // Use event coordinates for position\n\n        position = {\n          left: event.pageX - position.left + (offset && offset.left || 0),\n          top: event.pageY - position.top + (offset && offset.top || 0)\n        }; // Scroll events are a pain, some browsers\n\n        if (adjust.mouse && isScroll && mouse) {\n          position.left -= (mouse.scrollX || 0) - win.scrollLeft();\n          position.top -= (mouse.scrollY || 0) - win.scrollTop();\n        }\n      } // Target wasn't mouse or absolute...\n      else {\n        // Check if event targetting is being used\n        if (target === 'event') {\n          if (event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\n            cache.target = $(event.target);\n          } else if (!event.target) {\n            cache.target = this.elements.target;\n          }\n        } else if (target !== 'event') {\n          cache.target = $(target.jquery ? target : this.elements.target);\n        }\n        target = cache.target; // Parse the target into a jQuery object and make sure there's an element present\n\n        target = $(target).eq(0);\n        if (target.length === 0) {\n          return this;\n        } // Check if window or document is the target\n        else if (target[0] === document || target[0] === window) {\n          targetWidth = BROWSER.iOS ? window.innerWidth : target.width();\n          targetHeight = BROWSER.iOS ? window.innerHeight : target.height();\n          if (target[0] === window) {\n            position = {\n              top: (viewport || target).scrollTop(),\n              left: (viewport || target).scrollLeft()\n            };\n          }\n        } // Check if the target is an <AREA> element\n        else if (PLUGINS.imagemap && target.is('area')) {\n          pluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\n        } // Check if the target is an SVG element\n        else if (PLUGINS.svg && target && target[0].ownerSVGElement) {\n          pluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\n        } // Otherwise use regular jQuery methods\n        else {\n          targetWidth = target.outerWidth(FALSE);\n          targetHeight = target.outerHeight(FALSE);\n          position = target.offset();\n        } // Parse returned plugin values into proper variables\n\n        if (pluginCalculations) {\n          targetWidth = pluginCalculations.width;\n          targetHeight = pluginCalculations.height;\n          offset = pluginCalculations.offset;\n          position = pluginCalculations.position;\n        } // Adjust position to take into account offset parents\n\n        position = this.reposition.offset(target, position, container); // Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\n\n        if (BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 || BROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 || !BROWSER.iOS && type === 'fixed') {\n          position.left -= win.scrollLeft();\n          position.top -= win.scrollTop();\n        } // Adjust position relative to target\n\n        if (!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\n          position.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\n          position.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\n        }\n      } // Adjust position relative to tooltip\n\n      position.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\n      position.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0); // Use viewport adjustment plugin if enabled\n\n      if (PLUGINS.viewport) {\n        adjusted = position.adjusted = PLUGINS.viewport(this, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight); // Apply offsets supplied by positioning plugin (if used)\n\n        if (offset && adjusted.left) {\n          position.left += offset.left;\n        }\n        if (offset && adjusted.top) {\n          position.top += offset.top;\n        } // Apply any new 'my' position\n\n        if (adjusted.my) {\n          this.position.my = adjusted.my;\n        }\n      } // Viewport adjustment is disabled, set values to zero\n      else {\n        position.adjusted = {\n          left: 0,\n          top: 0\n        };\n      } // Set tooltip position class if it's changed\n\n      if (cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\n        cache.posClass = newClass;\n        tooltip.removeClass(cache.posClass).addClass(newClass);\n      } // tooltipmove event\n\n      if (!this._trigger('move', [position, viewport.elem || viewport], event)) {\n        return this;\n      }\n      delete position.adjusted; // If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\n\n      if (effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\n        tooltip.css(position);\n      } // Use custom function if provided\n      else if ($.isFunction(posOptions.effect)) {\n        posOptions.effect.call(tooltip, this, $.extend({}, position));\n        tooltip.queue(function (next) {\n          // Reset attributes to avoid cross-browser rendering bugs\n          $(this).css({\n            opacity: '',\n            height: ''\n          });\n          if (BROWSER.ie) {\n            this.style.removeAttribute('filter');\n          }\n          next();\n        });\n      } // Set positioning flag\n\n      this.positioning = FALSE;\n      return this;\n    }; // Custom (more correct for qTip!) offset calculator\n\n    PROTOTYPE.reposition.offset = function (elem, pos, container) {\n      if (!container[0]) {\n        return pos;\n      }\n      var ownerDocument = $(elem[0].ownerDocument),\n        quirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\n        parent = container[0],\n        scrolled,\n        position,\n        parentOffset,\n        overflow;\n      function scroll(e, i) {\n        pos.left += i * e.scrollLeft();\n        pos.top += i * e.scrollTop();\n      } // Compensate for non-static containers offset\n\n      do {\n        if ((position = $.css(parent, 'position')) !== 'static') {\n          if (position === 'fixed') {\n            parentOffset = parent.getBoundingClientRect();\n            scroll(ownerDocument, -1);\n          } else {\n            parentOffset = $(parent).position();\n            parentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\n            parentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\n          }\n          pos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\n          pos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0); // If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\n\n          if (!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible' && $.prop(parent, 'tagName') !== 'BODY') {\n            scrolled = $(parent);\n          }\n        }\n      } while (parent = parent.offsetParent); // Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\n\n      if (scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\n        scroll(scrolled, 1);\n      }\n      return pos;\n    }; // Corner class\n\n    var C = (CORNER = PROTOTYPE.reposition.Corner = function (corner, forceY) {\n      corner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\n      this.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\n      this.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\n      this.forceY = !!forceY;\n      var f = corner.charAt(0);\n      this.precedance = f === 't' || f === 'b' ? Y : X;\n    }).prototype;\n    C.invert = function (z, center) {\n      this[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\n    };\n    C.string = function (join) {\n      var x = this.x,\n        y = this.y;\n      var result = x !== y ? x === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ? [y, x] : [x, y] : [x];\n      return join !== false ? result.join(' ') : result;\n    };\n    C.abbrev = function () {\n      var result = this.string(false);\n      return result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\n    };\n    C.clone = function () {\n      return new CORNER(this.string(), this.forceY);\n    };\n    PROTOTYPE.toggle = function (state, event) {\n      var cache = this.cache,\n        options = this.options,\n        tooltip = this.tooltip; // Try to prevent flickering when tooltip overlaps show element\n\n      if (event) {\n        if (/over|enter/.test(event.type) && cache.event && /out|leave/.test(cache.event.type) && options.show.target.add(event.target).length === options.show.target.length && tooltip.has(event.relatedTarget).length) {\n          return this;\n        } // Cache event\n\n        cache.event = $.event.fix(event);\n      } // If we're currently waiting and we've just hidden... stop it\n\n      this.waiting && !state && (this.hiddenDuringWait = TRUE); // Render the tooltip if showing and it isn't already\n\n      if (!this.rendered) {\n        return state ? this.render(1) : this;\n      } else if (this.destroyed || this.disabled) {\n        return this;\n      }\n      var type = state ? 'show' : 'hide',\n        opts = this.options[type],\n        posOptions = this.options.position,\n        contentOptions = this.options.content,\n        width = this.tooltip.css('width'),\n        visible = this.tooltip.is(':visible'),\n        animate = state || opts.target.length === 1,\n        sameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\n        identicalState,\n        allow,\n        after; // Detect state if valid one isn't provided\n\n      if ((typeof state).search('boolean|number')) {\n        state = !visible;\n      } // Check if the tooltip is in an identical state to the new would-be state\n\n      identicalState = !tooltip.is(':animated') && visible === state && sameTarget; // Fire tooltip(show/hide) event and check if destroyed\n\n      allow = !identicalState ? !!this._trigger(type, [90]) : NULL; // Check to make sure the tooltip wasn't destroyed in the callback\n\n      if (this.destroyed) {\n        return this;\n      } // If the user didn't stop the method prematurely and we're showing the tooltip, focus it\n\n      if (allow !== FALSE && state) {\n        this.focus(event);\n      } // If the state hasn't changed or the user stopped it, return early\n\n      if (!allow || identicalState) {\n        return this;\n      } // Set ARIA hidden attribute\n\n      $.attr(tooltip[0], 'aria-hidden', !!!state); // Execute state specific properties\n\n      if (state) {\n        // Store show origin coordinates\n        this.mouse && (cache.origin = $.event.fix(this.mouse)); // Update tooltip content & title if it's a dynamic function\n\n        if ($.isFunction(contentOptions.text)) {\n          this._updateContent(contentOptions.text, FALSE);\n        }\n        if ($.isFunction(contentOptions.title)) {\n          this._updateTitle(contentOptions.title, FALSE);\n        } // Cache mousemove events for positioning purposes (if not already tracking)\n\n        if (!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\n          $(document).bind('mousemove.' + NAMESPACE, this._storeMouse);\n          trackingBound = TRUE;\n        } // Update the tooltip position (set width first to prevent viewport/max-width issues)\n\n        if (!width) {\n          tooltip.css('width', tooltip.outerWidth(FALSE));\n        }\n        this.reposition(event, arguments[2]);\n        if (!width) {\n          tooltip.css('width', '');\n        } // Hide other tooltips if tooltip is solo\n\n        if (!!opts.solo) {\n          (typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo)).not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\n        }\n      } else {\n        // Clear show timer if we're hiding\n        clearTimeout(this.timers.show); // Remove cached origin on hide\n\n        delete cache.origin; // Remove mouse tracking event if not needed (all tracking qTips are hidden)\n\n        if (trackingBound && !$(SELECTOR + '[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\n          $(document).unbind('mousemove.' + NAMESPACE);\n          trackingBound = FALSE;\n        } // Blur the tooltip\n\n        this.blur(event);\n      } // Define post-animation, state specific properties\n\n      after = $.proxy(function () {\n        if (state) {\n          // Prevent antialias from disappearing in IE by removing filter\n          if (BROWSER.ie) {\n            tooltip[0].style.removeAttribute('filter');\n          } // Remove overflow setting to prevent tip bugs\n\n          tooltip.css('overflow', ''); // Autofocus elements if enabled\n\n          if ('string' === typeof opts.autofocus) {\n            $(this.options.show.autofocus, tooltip).focus();\n          } // If set, hide tooltip when inactive for delay period\n\n          this.options.show.target.trigger('qtip-' + this.id + '-inactive');\n        } else {\n          // Reset CSS states\n          tooltip.css({\n            display: '',\n            visibility: '',\n            opacity: '',\n            left: '',\n            top: ''\n          });\n        } // tooltipvisible/tooltiphidden events\n\n        this._trigger(state ? 'visible' : 'hidden');\n      }, this); // If no effect type is supplied, use a simple toggle\n\n      if (opts.effect === FALSE || animate === FALSE) {\n        tooltip[type]();\n        after();\n      } // Use custom function if provided\n      else if ($.isFunction(opts.effect)) {\n        tooltip.stop(1, 1);\n        opts.effect.call(tooltip, this);\n        tooltip.queue('fx', function (n) {\n          after();\n          n();\n        });\n      } // Use basic fade function by default\n      else {\n        tooltip.fadeTo(90, state ? 1 : 0, after);\n      } // If inactive hide method is set, active it\n\n      if (state) {\n        opts.target.trigger('qtip-' + this.id + '-inactive');\n      }\n      return this;\n    };\n    PROTOTYPE.show = function (event) {\n      return this.toggle(TRUE, event);\n    };\n    PROTOTYPE.hide = function (event) {\n      return this.toggle(FALSE, event);\n    };\n    PROTOTYPE.focus = function (event) {\n      if (!this.rendered || this.destroyed) {\n        return this;\n      }\n      var qtips = $(SELECTOR),\n        tooltip = this.tooltip,\n        curIndex = parseInt(tooltip[0].style.zIndex, 10),\n        newIndex = QTIP.zindex + qtips.length; // Only update the z-index if it has changed and tooltip is not already focused\n\n      if (!tooltip.hasClass(CLASS_FOCUS)) {\n        // tooltipfocus event\n        if (this._trigger('focus', [newIndex], event)) {\n          // Only update z-index's if they've changed\n          if (curIndex !== newIndex) {\n            // Reduce our z-index's and keep them properly ordered\n            qtips.each(function () {\n              if (this.style.zIndex > curIndex) {\n                this.style.zIndex = this.style.zIndex - 1;\n              }\n            }); // Fire blur event for focused tooltip\n\n            qtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\n          } // Set the new z-index\n\n          tooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n        }\n      }\n      return this;\n    };\n    PROTOTYPE.blur = function (event) {\n      if (!this.rendered || this.destroyed) {\n        return this;\n      } // Set focused status to FALSE\n\n      this.tooltip.removeClass(CLASS_FOCUS); // tooltipblur event\n\n      this._trigger('blur', [this.tooltip.css('zIndex')], event);\n      return this;\n    };\n    PROTOTYPE.disable = function (state) {\n      if (this.destroyed) {\n        return this;\n      } // If 'toggle' is passed, toggle the current state\n\n      if (state === 'toggle') {\n        state = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\n      } // Disable if no state passed\n      else if ('boolean' !== typeof state) {\n        state = TRUE;\n      }\n      if (this.rendered) {\n        this.tooltip.toggleClass(CLASS_DISABLED, state).attr('aria-disabled', state);\n      }\n      this.disabled = !!state;\n      return this;\n    };\n    PROTOTYPE.enable = function () {\n      return this.disable(FALSE);\n    };\n    PROTOTYPE._createButton = function () {\n      var self = this,\n        elements = this.elements,\n        tooltip = elements.tooltip,\n        button = this.options.content.button,\n        isString = typeof button === 'string',\n        close = isString ? button : 'Close tooltip';\n      if (elements.button) {\n        elements.button.remove();\n      } // Use custom button if one was supplied by user, else use default\n\n      if (button.jquery) {\n        elements.button = button;\n      } else {\n        elements.button = $('<a />', {\n          'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE + '-icon'),\n          'title': close,\n          'aria-label': close\n        }).prepend($('<span />', {\n          'class': 'ui-icon ui-icon-close',\n          'html': '&times;'\n        }));\n      } // Create button and setup attributes\n\n      elements.button.appendTo(elements.titlebar || tooltip).attr('role', 'button').click(function (event) {\n        if (!tooltip.hasClass(CLASS_DISABLED)) {\n          self.hide(event);\n        }\n        return FALSE;\n      });\n    };\n    PROTOTYPE._updateButton = function (button) {\n      // Make sure tooltip is rendered and if not, return\n      if (!this.rendered) {\n        return FALSE;\n      }\n      var elem = this.elements.button;\n      if (button) {\n        this._createButton();\n      } else {\n        elem.remove();\n      }\n    };\n    function createWidgetClass(cls) {\n      return WIDGET.concat('').join(cls ? '-' + cls + ' ' : ' ');\n    } // Widget class setter method\n\n    PROTOTYPE._setWidget = function () {\n      var on = this.options.style.widget,\n        elements = this.elements,\n        tooltip = elements.tooltip,\n        disabled = tooltip.hasClass(CLASS_DISABLED);\n      tooltip.removeClass(CLASS_DISABLED);\n      CLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\n      tooltip.toggleClass(CLASS_DISABLED, disabled);\n      tooltip.toggleClass('ui-helper-reset ' + createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\n      if (elements.content) {\n        elements.content.toggleClass(createWidgetClass('content'), on);\n      }\n      if (elements.titlebar) {\n        elements.titlebar.toggleClass(createWidgetClass('header'), on);\n      }\n      if (elements.button) {\n        elements.button.toggleClass(NAMESPACE + '-icon', !on);\n      }\n    };\n    function delay(callback, duration) {\n      // If tooltip has displayed, start hide timer\n      if (duration > 0) {\n        return setTimeout($.proxy(callback, this), duration);\n      } else {\n        callback.call(this);\n      }\n    }\n    function showMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED)) {\n        return;\n      } // Clear hide timers\n\n      clearTimeout(this.timers.show);\n      clearTimeout(this.timers.hide); // Start show timer\n\n      this.timers.show = delay.call(this, function () {\n        this.toggle(TRUE, event);\n      }, this.options.show.delay);\n    }\n    function hideMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) {\n        return;\n      } // Check if new target was actually the tooltip element\n\n      var relatedTarget = $(event.relatedTarget),\n        ontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\n        ontoTarget = relatedTarget[0] === this.options.show.target[0]; // Clear timers and stop animation queue\n\n      clearTimeout(this.timers.show);\n      clearTimeout(this.timers.hide); // Prevent hiding if tooltip is fixed and event target is the tooltip.\n      // Or if mouse positioning is enabled and cursor momentarily overlaps\n\n      if (this !== relatedTarget[0] && this.options.position.target === 'mouse' && ontoTooltip || this.options.hide.fixed && /mouse(out|leave|move)/.test(event.type) && (ontoTooltip || ontoTarget)) {\n        /* eslint-disable no-empty */\n        try {\n          event.preventDefault();\n          event.stopImmediatePropagation();\n        } catch (e) {}\n        /* eslint-enable no-empty */\n\n        return;\n      } // If tooltip has displayed, start hide timer\n\n      this.timers.hide = delay.call(this, function () {\n        this.toggle(FALSE, event);\n      }, this.options.hide.delay, this);\n    }\n    function inactiveMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) {\n        return;\n      } // Clear timer\n\n      clearTimeout(this.timers.inactive);\n      this.timers.inactive = delay.call(this, function () {\n        this.hide(event);\n      }, this.options.hide.inactive);\n    }\n    function repositionMethod(event) {\n      if (this.rendered && this.tooltip[0].offsetWidth > 0) {\n        this.reposition(event);\n      }\n    } // Store mouse coordinates\n\n    PROTOTYPE._storeMouse = function (event) {\n      (this.mouse = $.event.fix(event)).type = 'mousemove';\n      return this;\n    }; // Bind events\n\n    PROTOTYPE._bind = function (targets, events, method, suffix, context) {\n      if (!targets || !method || !events.length) {\n        return;\n      }\n      var ns = '.' + this._id + (suffix ? '-' + suffix : '');\n      $(targets).bind((events.split ? events : events.join(ns + ' ')) + ns, $.proxy(method, context || this));\n      return this;\n    };\n    PROTOTYPE._unbind = function (targets, suffix) {\n      targets && $(targets).unbind('.' + this._id + (suffix ? '-' + suffix : ''));\n      return this;\n    }; // Global delegation helper\n\n    function delegate(selector, events, method) {\n      $(document.body).delegate(selector, (events.split ? events : events.join('.' + NAMESPACE + ' ')) + '.' + NAMESPACE, function () {\n        var api = QTIP.api[$.attr(this, ATTR_ID)];\n        api && !api.disabled && method.apply(api, arguments);\n      });\n    } // Event trigger\n\n    PROTOTYPE._trigger = function (type, args, event) {\n      var callback = new $.Event('tooltip' + type);\n      callback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\n      this.triggering = type;\n      this.tooltip.trigger(callback, [this].concat(args || []));\n      this.triggering = FALSE;\n      return !callback.isDefaultPrevented();\n    };\n    PROTOTYPE._bindEvents = function (showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\n      // Get tasrgets that lye within both\n      var similarTargets = showTargets.filter(hideTargets).add(hideTargets.filter(showTargets)),\n        toggleEvents = []; // If hide and show targets are the same...\n\n      if (similarTargets.length) {\n        // Filter identical show/hide events\n        $.each(hideEvents, function (i, type) {\n          var showIndex = $.inArray(type, showEvents); // Both events are identical, remove from both hide and show events\n          // and append to toggleEvents\n\n          showIndex > -1 && toggleEvents.push(showEvents.splice(showIndex, 1)[0]);\n        }); // Toggle events are special case of identical show/hide events, which happen in sequence\n\n        if (toggleEvents.length) {\n          // Bind toggle events to the similar targets\n          this._bind(similarTargets, toggleEvents, function (event) {\n            var state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\n            (state ? hideCallback : showCallback).call(this, event);\n          }); // Remove the similar targets from the regular show/hide bindings\n\n          showTargets = showTargets.not(similarTargets);\n          hideTargets = hideTargets.not(similarTargets);\n        }\n      } // Apply show/hide/toggle events\n\n      this._bind(showTargets, showEvents, showCallback);\n      this._bind(hideTargets, hideEvents, hideCallback);\n    };\n    PROTOTYPE._assignInitialEvents = function (event) {\n      var options = this.options,\n        showTarget = options.show.target,\n        hideTarget = options.hide.target,\n        showEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n        hideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : []; // Catch remove/removeqtip events on target element to destroy redundant tooltips\n\n      this._bind(this.elements.target, ['remove', 'removeqtip'], function () {\n        this.destroy(true);\n      }, 'destroy');\n      /*\n       * Make sure hoverIntent functions properly by using mouseleave as a hide event if\n       * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n       */\n\n      if (/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\n        hideEvents.push('mouseleave');\n      }\n      /*\n       * Also make sure initial mouse targetting works correctly by caching mousemove coords\n       * on show targets before the tooltip has rendered. Also set onTarget when triggered to\n       * keep mouse tracking working.\n       */\n\n      this._bind(showTarget, 'mousemove', function (moveEvent) {\n        this._storeMouse(moveEvent);\n        this.cache.onTarget = TRUE;\n      }); // Define hoverIntent function\n\n      function hoverIntent(hoverEvent) {\n        // Only continue if tooltip isn't disabled\n        if (this.disabled || this.destroyed) {\n          return FALSE;\n        } // Cache the event data\n\n        this.cache.event = hoverEvent && $.event.fix(hoverEvent);\n        this.cache.target = hoverEvent && $(hoverEvent.target); // Start the event sequence\n\n        clearTimeout(this.timers.show);\n        this.timers.show = delay.call(this, function () {\n          this.render(typeof hoverEvent === 'object' || options.show.ready);\n        }, options.prerender ? 0 : options.show.delay);\n      } // Filter and bind events\n\n      this._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function () {\n        if (!this.timers) {\n          return FALSE;\n        }\n        clearTimeout(this.timers.show);\n      }); // Prerendering is enabled, create tooltip now\n\n      if (options.show.ready || options.prerender) {\n        hoverIntent.call(this, event);\n      }\n    }; // Event assignment method\n\n    PROTOTYPE._assignEvents = function () {\n      var self = this,\n        options = this.options,\n        posOptions = options.position,\n        tooltip = this.tooltip,\n        showTarget = options.show.target,\n        hideTarget = options.hide.target,\n        containerTarget = posOptions.container,\n        viewportTarget = posOptions.viewport,\n        documentTarget = $(document),\n        windowTarget = $(window),\n        showEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n        hideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : []; // Assign passed event callbacks\n\n      $.each(options.events, function (name, callback) {\n        self._bind(tooltip, name === 'toggle' ? ['tooltipshow', 'tooltiphide'] : ['tooltip' + name], callback, null, tooltip);\n      }); // Hide tooltips when leaving current window/frame (but not select/option elements)\n\n      if (/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\n        this._bind(documentTarget, ['mouseout', 'blur'], function (event) {\n          if (!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\n            this.hide(event);\n          }\n        });\n      } // Enable hide.fixed by adding appropriate class\n\n      if (options.hide.fixed) {\n        hideTarget = hideTarget.add(tooltip.addClass(CLASS_FIXED));\n      }\n      /*\n       * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\n       * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n       */else if (/mouse(over|enter)/i.test(options.show.event)) {\n        this._bind(hideTarget, 'mouseleave', function () {\n          clearTimeout(this.timers.show);\n        });\n      } // Hide tooltip on document mousedown if unfocus events are enabled\n\n      if (('' + options.hide.event).indexOf('unfocus') > -1) {\n        this._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function (event) {\n          var elem = $(event.target),\n            enabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\n            isAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\n          if (elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor && !this.target.has(elem[0]).length && enabled) {\n            this.hide(event);\n          }\n        });\n      } // Check if the tooltip hides when inactive\n\n      if ('number' === typeof options.hide.inactive) {\n        // Bind inactive method to show target(s) as a custom event\n        this._bind(showTarget, 'qtip-' + this.id + '-inactive', inactiveMethod, 'inactive'); // Define events which reset the 'inactive' event handler\n\n        this._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\n      } // Filter and bind events\n\n      this._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod); // Mouse movement bindings\n\n      this._bind(showTarget.add(tooltip), 'mousemove', function (event) {\n        // Check if the tooltip hides when mouse is moved a certain distance\n        if ('number' === typeof options.hide.distance) {\n          var origin = this.cache.origin || {},\n            limit = this.options.hide.distance,\n            abs = Math.abs; // Check if the movement has gone beyond the limit, and hide it if so\n\n          if (abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\n            this.hide(event);\n          }\n        } // Cache mousemove coords on show targets\n\n        this._storeMouse(event);\n      }); // Mouse positioning events\n\n      if (posOptions.target === 'mouse') {\n        // If mouse adjustment is on...\n        if (posOptions.adjust.mouse) {\n          // Apply a mouseleave event so we don't get problems with overlapping\n          if (options.hide.event) {\n            // Track if we're on the target or not\n            this._bind(showTarget, ['mouseenter', 'mouseleave'], function (event) {\n              if (!this.cache) {\n                return FALSE;\n              }\n              this.cache.onTarget = event.type === 'mouseenter';\n            });\n          } // Update tooltip position on mousemove\n\n          this._bind(documentTarget, 'mousemove', function (event) {\n            // Update the tooltip position only if the tooltip is visible and adjustment is enabled\n            if (this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\n              this.reposition(event);\n            }\n          });\n        }\n      } // Adjust positions of the tooltip on window resize if enabled\n\n      if (posOptions.adjust.resize || viewportTarget.length) {\n        this._bind($.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod);\n      } // Adjust tooltip position on scroll of the window or viewport element if present\n\n      if (posOptions.adjust.scroll) {\n        this._bind(windowTarget.add(posOptions.container), 'scroll', repositionMethod);\n      }\n    }; // Un-assignment method\n\n    PROTOTYPE._unassignEvents = function () {\n      var options = this.options,\n        showTargets = options.show.target,\n        hideTargets = options.hide.target,\n        targets = $.grep([this.elements.target[0], this.rendered && this.tooltip[0], options.position.container[0], options.position.viewport[0], options.position.container.closest('html')[0],\n        // unfocus\n        window, document], function (i) {\n          return typeof i === 'object';\n        }); // Add show and hide targets if they're valid\n\n      if (showTargets && showTargets.toArray) {\n        targets = targets.concat(showTargets.toArray());\n      }\n      if (hideTargets && hideTargets.toArray) {\n        targets = targets.concat(hideTargets.toArray());\n      } // Unbind the events\n\n      this._unbind(targets)._unbind(targets, 'destroy')._unbind(targets, 'inactive');\n    }; // Apply common event handlers using delegate (avoids excessive .bind calls!)\n\n    $(function () {\n      delegate(SELECTOR, ['mouseenter', 'mouseleave'], function (event) {\n        var state = event.type === 'mouseenter',\n          tooltip = $(event.currentTarget),\n          target = $(event.relatedTarget || event.target),\n          options = this.options; // On mouseenter...\n\n        if (state) {\n          // Focus the tooltip on mouseenter (z-index stacking)\n          this.focus(event); // Clear hide timer on tooltip hover to prevent it from closing\n\n          tooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\n        } // On mouseleave...\n        else {\n          // When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\n          if (options.position.target === 'mouse' && options.position.adjust.mouse && options.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\n            this.hide(event);\n          }\n        } // Add hover class\n\n        tooltip.toggleClass(CLASS_HOVER, state);\n      }); // Define events which reset the 'inactive' event handler\n\n      delegate('[' + ATTR_ID + ']', INACTIVE_EVENTS, inactiveMethod);\n    });\n    function init(elem, id, opts) {\n      var obj,\n        posOptions,\n        attr,\n        config,\n        title,\n        // Setup element references\n        docBody = $(document.body),\n        // Use document body instead of document element if needed\n        newTarget = elem[0] === document ? docBody : elem,\n        // Grab metadata from element if plugin is present\n        metadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\n        // If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\n        metadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\n        // Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\n        html5 = elem.data(opts.metadata.name || 'qtipopts'); // If we don't get an object returned attempt to parse it manualyl without parseJSON\n\n      /* eslint-disable no-empty */\n\n      try {\n        html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5;\n      } catch (e) {}\n      /* eslint-enable no-empty */\n      // Merge in and sanitize metadata\n\n      config = $.extend(TRUE, {}, QTIP.defaults, opts, typeof html5 === 'object' ? sanitizeOptions(html5) : NULL, sanitizeOptions(metadata5 || metadata)); // Re-grab our positioning options now we've merged our metadata and set id to passed value\n\n      posOptions = config.position;\n      config.id = id; // Setup missing content if none is detected\n\n      if ('boolean' === typeof config.content.text) {\n        attr = elem.attr(config.content.attr); // Grab from supplied attribute if available\n\n        if (config.content.attr !== FALSE && attr) {\n          config.content.text = attr;\n        } // No valid content was found, abort render\n        else {\n          return FALSE;\n        }\n      } // Setup target options\n\n      if (!posOptions.container.length) {\n        posOptions.container = docBody;\n      }\n      if (posOptions.target === FALSE) {\n        posOptions.target = newTarget;\n      }\n      if (config.show.target === FALSE) {\n        config.show.target = newTarget;\n      }\n      if (config.show.solo === TRUE) {\n        config.show.solo = posOptions.container.closest('body');\n      }\n      if (config.hide.target === FALSE) {\n        config.hide.target = newTarget;\n      }\n      if (config.position.viewport === TRUE) {\n        config.position.viewport = posOptions.container;\n      } // Ensure we only use a single container\n\n      posOptions.container = posOptions.container.eq(0); // Convert position corner values into x and y strings\n\n      posOptions.at = new CORNER(posOptions.at, TRUE);\n      posOptions.my = new CORNER(posOptions.my); // Destroy previous tooltip if overwrite is enabled, or skip element if not\n\n      if (elem.data(NAMESPACE)) {\n        if (config.overwrite) {\n          elem.qtip('destroy', true);\n        } else if (config.overwrite === FALSE) {\n          return FALSE;\n        }\n      } // Add has-qtip attribute\n\n      elem.attr(ATTR_HAS, id); // Remove title attribute and store it if present\n\n      if (config.suppress && (title = elem.attr('title'))) {\n        // Final attr call fixes event delegation and IE default tooltip showing problem\n        elem.removeAttr('title').attr(oldtitle, title).attr('title', '');\n      } // Initialize the tooltip and add API reference\n\n      obj = new QTip(elem, config, id, !!attr);\n      elem.data(NAMESPACE, obj);\n      return obj;\n    } // jQuery $.fn extension method\n\n    QTIP = $.fn.qtip = function (options, notation, newValue) {\n      var command = ('' + options).toLowerCase(),\n        // Parse command\n        returned = NULL,\n        args = $.makeArray(arguments).slice(1),\n        event = args[args.length - 1],\n        opts = this[0] ? $.data(this[0], NAMESPACE) : NULL; // Check for API request\n\n      if (!arguments.length && opts || command === 'api') {\n        return opts;\n      } // Execute API command if present\n      else if ('string' === typeof options) {\n        this.each(function () {\n          var api = $.data(this, NAMESPACE);\n          if (!api) {\n            return TRUE;\n          } // Cache the event if possible\n\n          if (event && event.timeStamp) {\n            api.cache.event = event;\n          } // Check for specific API commands\n\n          if (notation && (command === 'option' || command === 'options')) {\n            if (newValue !== undefined$1 || $.isPlainObject(notation)) {\n              api.set(notation, newValue);\n            } else {\n              returned = api.get(notation);\n              return FALSE;\n            }\n          } // Execute API command\n          else if (api[command]) {\n            api[command].apply(api, args);\n          }\n        });\n        return returned !== NULL ? returned : this;\n      } // No API commands. validate provided options and setup qTips\n      else if ('object' === typeof options || !arguments.length) {\n        // Sanitize options first\n        opts = sanitizeOptions($.extend(TRUE, {}, options));\n        return this.each(function (i) {\n          var api, id; // Find next available ID, or use custom ID if provided\n\n          id = $.isArray(opts.id) ? opts.id[i] : opts.id;\n          id = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id; // Initialize the qTip and re-grab newly sanitized options\n\n          api = init($(this), id, opts);\n          if (api === FALSE) {\n            return TRUE;\n          } else {\n            QTIP.api[id] = api;\n          } // Initialize plugins\n\n          $.each(PLUGINS, function () {\n            if (this.initialize === 'initialize') {\n              this(api);\n            }\n          }); // Assign initial pre-render events\n\n          api._assignInitialEvents(event);\n        });\n      }\n    }; // Expose class\n\n    $.qtip = QTip; // Populated in render method\n\n    QTIP.api = {};\n    $.each({\n      /* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\n      attr: function (attr, val) {\n        if (this.length) {\n          var self = this[0],\n            title = 'title',\n            api = $.data(self, 'qtip');\n          if (attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\n            if (arguments.length < 2) {\n              return $.attr(self, oldtitle);\n            } // If qTip is rendered and title was originally used as content, update it\n\n            if (api && api.options.content.attr === title && api.cache.attr) {\n              api.set('content.text', val);\n            } // Use the regular attr method to set, then cache the result\n\n            return this.attr(oldtitle, val);\n          }\n        }\n        return $.fn['attr' + replaceSuffix].apply(this, arguments);\n      },\n      /* Allow clone to correctly retrieve cached title attributes */\n      clone: function (keepData) {\n        // Clone our element using the real clone method\n        var elems = $.fn['clone' + replaceSuffix].apply(this, arguments); // Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\n\n        if (!keepData) {\n          elems.filter('[' + oldtitle + ']').attr('title', function () {\n            return $.attr(this, oldtitle);\n          }).removeAttr(oldtitle);\n        }\n        return elems;\n      }\n    }, function (name, func) {\n      if (!func || $.fn[name + replaceSuffix]) {\n        return TRUE;\n      }\n      var old = $.fn[name + replaceSuffix] = $.fn[name];\n      $.fn[name] = function () {\n        return func.apply(this, arguments) || old.apply(this, arguments);\n      };\n    });\n    /* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\n     * This snippet is taken directly from jQuery UI source code found here:\n     *     http://code.jquery.com/ui/jquery-ui-git.js\n     */\n\n    if (!$.ui) {\n      $['cleanData' + replaceSuffix] = $.cleanData;\n      $.cleanData = function (elems) {\n        for (var i = 0, elem; (elem = $(elems[i])).length; i++) {\n          if (elem.attr(ATTR_HAS)) {\n            /* eslint-disable no-empty */\n            try {\n              elem.triggerHandler('removeqtip');\n            } catch (e) {}\n            /* eslint-enable no-empty */\n          }\n        }\n        $['cleanData' + replaceSuffix].apply(this, arguments);\n      };\n    }\n    QTIP.version = '3.0.3-5-g'; // Base ID for all qTips\n\n    QTIP.nextid = 0; // Inactive events array\n\n    QTIP.inactiveEvents = INACTIVE_EVENTS; // Base z-index for all qTips\n\n    QTIP.zindex = 15000; // Define configuration defaults\n\n    QTIP.defaults = {\n      prerender: FALSE,\n      id: FALSE,\n      overwrite: TRUE,\n      suppress: TRUE,\n      content: {\n        text: TRUE,\n        attr: 'title',\n        title: FALSE,\n        button: FALSE\n      },\n      position: {\n        my: 'top left',\n        at: 'bottom right',\n        target: FALSE,\n        container: FALSE,\n        viewport: FALSE,\n        adjust: {\n          x: 0,\n          y: 0,\n          mouse: TRUE,\n          scroll: TRUE,\n          resize: TRUE,\n          method: 'flipinvert flipinvert'\n        },\n        effect: function (api, pos) {\n          $(this).animate(pos, {\n            duration: 200,\n            queue: FALSE\n          });\n        }\n      },\n      show: {\n        target: FALSE,\n        event: 'mouseenter',\n        effect: TRUE,\n        delay: 90,\n        solo: FALSE,\n        ready: FALSE,\n        autofocus: FALSE\n      },\n      hide: {\n        target: FALSE,\n        event: 'mouseleave',\n        effect: TRUE,\n        delay: 0,\n        fixed: FALSE,\n        inactive: FALSE,\n        leave: 'window',\n        distance: FALSE\n      },\n      style: {\n        classes: '',\n        widget: FALSE,\n        width: FALSE,\n        height: FALSE,\n        def: TRUE\n      },\n      events: {\n        render: NULL,\n        move: NULL,\n        show: NULL,\n        hide: NULL,\n        toggle: NULL,\n        visible: NULL,\n        hidden: NULL,\n        focus: NULL,\n        blur: NULL\n      }\n    };\n    var TIP,\n      createVML,\n      SCALE,\n      PIXEL_RATIO,\n      BACKING_STORE_RATIO,\n      // Common CSS strings\n      MARGIN = 'margin',\n      BORDER = 'border',\n      COLOR = 'color',\n      BG_COLOR = 'background-color',\n      TRANSPARENT = 'transparent',\n      IMPORTANT = ' !important',\n      // Check if the browser supports <canvas/> elements\n      HASCANVAS = !!document.createElement('canvas').getContext,\n      // Invalid colour values used in parseColours()\n      INVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i; // Camel-case method, taken from jQuery source\n    // http://code.jquery.com/jquery-1.8.0.js\n\n    function camel(s) {\n      return s.charAt(0).toUpperCase() + s.slice(1);\n    }\n    /*\n     * Modified from Modernizr's testPropsAll()\n     * http://modernizr.com/downloads/modernizr-latest.js\n     */\n\n    var cssProps = {},\n      cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\n    function vendorCss(elem, prop) {\n      var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n        props = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\n        cur,\n        val,\n        i = 0; // If the property has already been mapped...\n\n      if (cssProps[prop]) {\n        return elem.css(cssProps[prop]);\n      }\n      while (cur = props[i++]) {\n        if ((val = elem.css(cur)) !== undefined$1) {\n          cssProps[prop] = cur;\n          return val;\n        }\n      }\n    } // Parse a given elements CSS property into an int\n\n    function intCss(elem, prop) {\n      return Math.ceil(parseFloat(vendorCss(elem, prop)));\n    } // VML creation (for IE only)\n\n    if (!HASCANVAS) {\n      createVML = function (tag, props, style) {\n        return '<qtipvml:' + tag + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" ' + (props || '') + ' style=\"behavior: url(#default#VML); ' + (style || '') + '\" />';\n      };\n    } // Canvas only definitions\n    else {\n      PIXEL_RATIO = window.devicePixelRatio || 1;\n      BACKING_STORE_RATIO = function () {\n        var context = document.createElement('canvas').getContext('2d');\n        return context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\n      }();\n      SCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\n    }\n    function Tip(qtip, options) {\n      this._ns = 'tip';\n      this.options = options;\n      this.offset = options.offset;\n      this.size = [options.width, options.height]; // Initialize\n\n      this.qtip = qtip;\n      this.init(qtip);\n    }\n    $.extend(Tip.prototype, {\n      init: function (qtip) {\n        var context, tip; // Create tip element and prepend to the tooltip\n\n        tip = this.element = qtip.elements.tip = $('<div />', {\n          'class': NAMESPACE + '-tip'\n        }).prependTo(qtip.tooltip); // Create tip drawing element(s)\n\n        if (HASCANVAS) {\n          // save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\n          context = $('<canvas />').appendTo(this.element)[0].getContext('2d'); // Setup constant parameters\n\n          context.lineJoin = 'miter';\n          context.miterLimit = 100000;\n          context.save();\n        } else {\n          context = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\n          this.element.html(context + context); // Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\n\n          qtip._bind($('*', tip).add(tip), ['click', 'mousedown'], function (event) {\n            event.stopPropagation();\n          }, this._ns);\n        } // Bind update events\n\n        qtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this); // Create it\n\n        this.create();\n      },\n      _swapDimensions: function () {\n        this.size[0] = this.options.height;\n        this.size[1] = this.options.width;\n      },\n      _resetDimensions: function () {\n        this.size[0] = this.options.width;\n        this.size[1] = this.options.height;\n      },\n      _useTitle: function (corner) {\n        var titlebar = this.qtip.elements.titlebar;\n        return titlebar && (corner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE));\n      },\n      _parseCorner: function (corner) {\n        var my = this.qtip.options.position.my; // Detect corner and mimic properties\n\n        if (corner === FALSE || my === FALSE) {\n          corner = FALSE;\n        } else if (corner === TRUE) {\n          corner = new CORNER(my.string());\n        } else if (!corner.string) {\n          corner = new CORNER(corner);\n          corner.fixed = TRUE;\n        }\n        return corner;\n      },\n      _parseWidth: function (corner, side, use) {\n        var elements = this.qtip.elements,\n          prop = BORDER + camel(side) + 'Width';\n        return (use ? intCss(use, prop) : intCss(elements.content, prop) || intCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) || intCss(elements.tooltip, prop)) || 0;\n      },\n      _parseRadius: function (corner) {\n        var elements = this.qtip.elements,\n          prop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\n        return BROWSER.ie < 9 ? 0 : intCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) || intCss(elements.tooltip, prop) || 0;\n      },\n      _invalidColour: function (elem, prop, compare) {\n        var val = elem.css(prop);\n        return !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\n      },\n      _parseColours: function (corner) {\n        var elements = this.qtip.elements,\n          tip = this.element.css('cssText', ''),\n          borderSide = BORDER + camel(corner[corner.precedance]) + camel(COLOR),\n          colorElem = this._useTitle(corner) && elements.titlebar || elements.content,\n          css = this._invalidColour,\n          color = []; // Attempt to detect the background colour from various elements, left-to-right precedance\n\n        color[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) || css(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR); // Attempt to detect the correct border side colour from various elements, left-to-right precedance\n\n        color[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) || css(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide); // Reset background and border colours\n\n        $('*', tip).add(tip).css('cssText', BG_COLOR + ':' + TRANSPARENT + IMPORTANT + ';' + BORDER + ':0' + IMPORTANT + ';');\n        return color;\n      },\n      _calculateSize: function (corner) {\n        var y = corner.precedance === Y,\n          width = this.options.width,\n          height = this.options.height,\n          isCenter = corner.abbrev() === 'c',\n          base = (y ? width : height) * (isCenter ? 0.5 : 1),\n          pow = Math.pow,\n          round = Math.round,\n          bigHyp,\n          ratio,\n          result,\n          smallHyp = Math.sqrt(pow(base, 2) + pow(height, 2)),\n          hyp = [this.border / base * smallHyp, this.border / height * smallHyp];\n        hyp[2] = Math.sqrt(pow(hyp[0], 2) - pow(this.border, 2));\n        hyp[3] = Math.sqrt(pow(hyp[1], 2) - pow(this.border, 2));\n        bigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\n        ratio = bigHyp / smallHyp;\n        result = [round(ratio * width), round(ratio * height)];\n        return y ? result : result.reverse();\n      },\n      // Tip coordinates calculator\n      _calculateTip: function (corner, size, scale) {\n        scale = scale || 1;\n        size = size || this.size;\n        var width = size[0] * scale,\n          height = size[1] * scale,\n          width2 = Math.ceil(width / 2),\n          height2 = Math.ceil(height / 2),\n          // Define tip coordinates in terms of height and width values\n          tips = {\n            br: [0, 0, width, height, width, 0],\n            bl: [0, 0, width, 0, 0, height],\n            tr: [0, height, width, 0, width, height],\n            tl: [0, 0, 0, height, width, height],\n            tc: [0, height, width2, 0, width, height],\n            bc: [0, 0, width, 0, width2, height],\n            rc: [0, 0, width, height2, 0, height],\n            lc: [width, 0, width, height, 0, height2]\n          }; // Set common side shapes\n\n        tips.lt = tips.br;\n        tips.rt = tips.bl;\n        tips.lb = tips.tr;\n        tips.rb = tips.tl;\n        return tips[corner.abbrev()];\n      },\n      // Tip coordinates drawer (canvas)\n      _drawCoords: function (context, coords) {\n        context.beginPath();\n        context.moveTo(coords[0], coords[1]);\n        context.lineTo(coords[2], coords[3]);\n        context.lineTo(coords[4], coords[5]);\n        context.closePath();\n      },\n      create: function () {\n        // Determine tip corner\n        var c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner); // If we have a tip corner...\n\n        this.enabled = !!this.corner && this.corner.abbrev() !== 'c';\n        if (this.enabled) {\n          // Cache it\n          this.qtip.cache.corner = c.clone(); // Create it\n\n          this.update();\n        } // Toggle tip element\n\n        this.element.toggle(this.enabled);\n        return this.corner;\n      },\n      update: function (corner, position) {\n        if (!this.enabled) {\n          return this;\n        }\n        var elements = this.qtip.elements,\n          tip = this.element,\n          inner = tip.children(),\n          options = this.options,\n          curSize = this.size,\n          mimic = options.mimic,\n          round = Math.round,\n          color,\n          precedance,\n          context,\n          coords,\n          bigCoords,\n          translate,\n          newSize,\n          border; // Re-determine tip if not already set\n\n        if (!corner) {\n          corner = this.qtip.cache.corner || this.corner;\n        } // Use corner property if we detect an invalid mimic value\n\n        if (mimic === FALSE) {\n          mimic = corner;\n        } // Otherwise inherit mimic properties from the corner object as necessary\n        else {\n          mimic = new CORNER(mimic);\n          mimic.precedance = corner.precedance;\n          if (mimic.x === 'inherit') {\n            mimic.x = corner.x;\n          } else if (mimic.y === 'inherit') {\n            mimic.y = corner.y;\n          } else if (mimic.x === mimic.y) {\n            mimic[corner.precedance] = corner[corner.precedance];\n          }\n        }\n        precedance = mimic.precedance; // Ensure the tip width.height are relative to the tip position\n\n        if (corner.precedance === X) {\n          this._swapDimensions();\n        } else {\n          this._resetDimensions();\n        } // Update our colours\n\n        color = this.color = this._parseColours(corner); // Detect border width, taking into account colours\n\n        if (color[1] !== TRANSPARENT) {\n          // Grab border width\n          border = this.border = this._parseWidth(corner, corner[corner.precedance]); // If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\n\n          if (options.border && border < 1 && !INVALID.test(color[1])) {\n            color[0] = color[1];\n          } // Set border width (use detected border width if options.border is true)\n\n          this.border = border = options.border !== TRUE ? options.border : border;\n        } // Border colour was invalid, set border to zero\n        else {\n          this.border = border = 0;\n        } // Determine tip size\n\n        newSize = this.size = this._calculateSize(corner);\n        tip.css({\n          width: newSize[0],\n          height: newSize[1],\n          lineHeight: newSize[1] + 'px'\n        }); // Calculate tip translation\n\n        if (corner.precedance === Y) {\n          translate = [round(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2), round(mimic.y === TOP ? newSize[1] - curSize[1] : 0)];\n        } else {\n          translate = [round(mimic.x === LEFT ? newSize[0] - curSize[0] : 0), round(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)];\n        } // Canvas drawing implementation\n\n        if (HASCANVAS) {\n          // Grab canvas context and clear/save it\n          context = inner[0].getContext('2d');\n          context.restore();\n          context.save();\n          context.clearRect(0, 0, 6000, 6000); // Calculate coordinates\n\n          coords = this._calculateTip(mimic, curSize, SCALE);\n          bigCoords = this._calculateTip(mimic, this.size, SCALE); // Set the canvas size using calculated size\n\n          inner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\n          inner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]); // Draw the outer-stroke tip\n\n          this._drawCoords(context, bigCoords);\n          context.fillStyle = color[1];\n          context.fill(); // Draw the actual tip\n\n          context.translate(translate[0] * SCALE, translate[1] * SCALE);\n          this._drawCoords(context, coords);\n          context.fillStyle = color[0];\n          context.fill();\n        } // VML (IE Proprietary implementation)\n        else {\n          // Calculate coordinates\n          coords = this._calculateTip(mimic); // Setup coordinates string\n\n          coords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] + ',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe'; // Setup VML-specific offset for pixel-perfection\n\n          translate[2] = border && /^(r|b)/i.test(corner.string()) ? BROWSER.ie === 8 ? 2 : 1 : 0; // Set initial CSS\n\n          inner.css({\n            coordsize: newSize[0] + border + ' ' + newSize[1] + border,\n            antialias: '' + (mimic.string().indexOf(CENTER) > -1),\n            left: translate[0] - translate[2] * Number(precedance === X),\n            top: translate[1] - translate[2] * Number(precedance === Y),\n            width: newSize[0] + border,\n            height: newSize[1] + border\n          }).each(function (i) {\n            var $this = $(this); // Set shape specific attributes\n\n            $this[$this.prop ? 'prop' : 'attr']({\n              coordsize: newSize[0] + border + ' ' + newSize[1] + border,\n              path: coords,\n              fillcolor: color[0],\n              filled: !!i,\n              stroked: !i\n            }).toggle(!!(border || i)); // Check if border is enabled and add stroke element\n\n            !i && $this.html(createVML('stroke', 'weight=\"' + border * 2 + 'px\" color=\"' + color[1] + '\" miterlimit=\"1000\" joinstyle=\"miter\"'));\n          });\n        } // Opera bug #357 - Incorrect tip position\n        // https://github.com/Craga89/qTip2/issues/367\n\n        window.opera && setTimeout(function () {\n          elements.tip.css({\n            display: 'inline-block',\n            visibility: 'visible'\n          });\n        }, 1); // Position if needed\n\n        if (position !== FALSE) {\n          this.calculate(corner, newSize);\n        }\n      },\n      calculate: function (corner, size) {\n        if (!this.enabled) {\n          return FALSE;\n        }\n        var self = this,\n          elements = this.qtip.elements,\n          tip = this.element,\n          userOffset = this.options.offset,\n          position = {},\n          precedance,\n          corners; // Inherit corner if not provided\n\n        corner = corner || this.corner;\n        precedance = corner.precedance; // Determine which tip dimension to use for adjustment\n\n        size = size || this._calculateSize(corner); // Setup corners and offset array\n\n        corners = [corner.x, corner.y];\n        if (precedance === X) {\n          corners.reverse();\n        } // Calculate tip position\n\n        $.each(corners, function (i, side) {\n          var b, bc, br;\n          if (side === CENTER) {\n            b = precedance === Y ? LEFT : TOP;\n            position[b] = '50%';\n            position[MARGIN + '-' + b] = -Math.round(size[precedance === Y ? 0 : 1] / 2) + userOffset;\n          } else {\n            b = self._parseWidth(corner, side, elements.tooltip);\n            bc = self._parseWidth(corner, side, elements.content);\n            br = self._parseRadius(corner);\n            position[side] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\n          }\n        }); // Adjust for tip size\n\n        position[corner[precedance]] -= size[precedance === X ? 0 : 1]; // Set and return new position\n\n        tip.css({\n          margin: '',\n          top: '',\n          bottom: '',\n          left: '',\n          right: ''\n        }).css(position);\n        return position;\n      },\n      reposition: function (event, api, pos) {\n        if (!this.enabled) {\n          return;\n        }\n        var cache = api.cache,\n          newCorner = this.corner.clone(),\n          adjust = pos.adjusted,\n          method = api.options.position.adjust.method.split(' '),\n          horizontal = method[0],\n          vertical = method[1] || method[0],\n          shift = {\n            left: FALSE,\n            top: FALSE,\n            x: 0,\n            y: 0\n          },\n          offset,\n          css = {},\n          props;\n        function shiftflip(direction, precedance, popposite, side, opposite) {\n          // Horizontal - Shift or flip method\n          if (direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\n            newCorner.precedance = newCorner.precedance === X ? Y : X;\n          } else if (direction !== SHIFT && adjust[side]) {\n            newCorner[precedance] = newCorner[precedance] === CENTER ? adjust[side] > 0 ? side : opposite : newCorner[precedance] === side ? opposite : side;\n          }\n        }\n        function shiftonly(xy, side, opposite) {\n          if (newCorner[xy] === CENTER) {\n            css[MARGIN + '-' + side] = shift[xy] = offset[MARGIN + '-' + side] - adjust[side];\n          } else {\n            props = offset[opposite] !== undefined$1 ? [adjust[side], -offset[side]] : [-adjust[side], offset[side]];\n            if ((shift[xy] = Math.max(props[0], props[1])) > props[0]) {\n              pos[side] -= adjust[side];\n              shift[side] = FALSE;\n            }\n            css[offset[opposite] !== undefined$1 ? opposite : side] = shift[xy];\n          }\n        } // If our tip position isn't fixed e.g. doesn't adjust with viewport...\n\n        if (this.corner.fixed !== TRUE) {\n          // Perform shift/flip adjustments\n          shiftflip(horizontal, X, Y, LEFT, RIGHT);\n          shiftflip(vertical, Y, X, TOP, BOTTOM); // Update and redraw the tip if needed (check cached details of last drawn tip)\n\n          if (newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\n            this.update(newCorner, FALSE);\n          }\n        } // Setup tip offset properties\n\n        offset = this.calculate(newCorner); // Readjust offset object to make it left/top\n\n        if (offset.right !== undefined$1) {\n          offset.left = -offset.right;\n        }\n        if (offset.bottom !== undefined$1) {\n          offset.top = -offset.bottom;\n        }\n        offset.user = this.offset; // Perform shift adjustments\n\n        shift.left = horizontal === SHIFT && !!adjust.left;\n        if (shift.left) {\n          shiftonly(X, LEFT, RIGHT);\n        }\n        shift.top = vertical === SHIFT && !!adjust.top;\n        if (shift.top) {\n          shiftonly(Y, TOP, BOTTOM);\n        }\n        /*\n        * If the tip is adjusted in both dimensions, or in a\n        * direction that would cause it to be anywhere but the\n        * outer border, hide it!\n        */\n\n        this.element.css(css).toggle(!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)); // Adjust position to accomodate tip dimensions\n\n        pos.left -= offset.left.charAt ? offset.user : horizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\n        pos.top -= offset.top.charAt ? offset.user : vertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0; // Cache details\n\n        cache.cornerLeft = adjust.left;\n        cache.cornerTop = adjust.top;\n        cache.corner = newCorner.clone();\n      },\n      destroy: function () {\n        // Unbind events\n        this.qtip._unbind(this.qtip.tooltip, this._ns); // Remove the tip element(s)\n\n        if (this.qtip.elements.tip) {\n          this.qtip.elements.tip.find('*').remove().end().remove();\n        }\n      }\n    });\n    TIP = PLUGINS.tip = function (api) {\n      return new Tip(api, api.options.style.tip);\n    }; // Initialize tip on render\n\n    TIP.initialize = 'render'; // Setup plugin sanitization options\n\n    TIP.sanitize = function (options) {\n      if (options.style && 'tip' in options.style) {\n        var opts = options.style.tip;\n        if (typeof opts !== 'object') {\n          opts = options.style.tip = {\n            corner: opts\n          };\n        }\n        if (!/string|boolean/i.test(typeof opts.corner)) {\n          opts.corner = TRUE;\n        }\n      }\n    }; // Add new option checks for the plugin\n\n    CHECKS.tip = {\n      '^position.my|style.tip.(corner|mimic|border)$': function () {\n        // Make sure a tip can be drawn\n        this.create(); // Reposition the tooltip\n\n        this.qtip.reposition();\n      },\n      '^style.tip.(height|width)$': function (obj) {\n        // Re-set dimensions and redraw the tip\n        this.size = [obj.width, obj.height];\n        this.update(); // Reposition the tooltip\n\n        this.qtip.reposition();\n      },\n      '^content.title|style.(classes|widget)$': function () {\n        this.update();\n      }\n    }; // Extend original qTip defaults\n\n    $.extend(TRUE, QTIP.defaults, {\n      style: {\n        tip: {\n          corner: TRUE,\n          mimic: FALSE,\n          width: 6,\n          height: 6,\n          border: TRUE,\n          offset: 0\n        }\n      }\n    });\n    var MODAL,\n      OVERLAY,\n      MODALCLASS = 'qtip-modal',\n      MODALSELECTOR = '.' + MODALCLASS;\n    OVERLAY = function () {\n      var self = this,\n        focusableElems = {},\n        current,\n        prevState,\n        elem; // Modified code from jQuery UI 1.10.0 source\n      // http://code.jquery.com/ui/1.10.0/jquery-ui.js\n\n      function focusable(element) {\n        // Use the defined focusable checker when possible\n        if ($.expr[':'].focusable) {\n          return $.expr[':'].focusable;\n        }\n        var isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\n          nodeName = element.nodeName && element.nodeName.toLowerCase(),\n          map,\n          mapName,\n          img;\n        if ('area' === nodeName) {\n          map = element.parentNode;\n          mapName = map.name;\n          if (!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\n            return false;\n          }\n          img = $('img[usemap=#' + mapName + ']')[0];\n          return !!img && img.is(':visible');\n        }\n        return /input|select|textarea|button|object/.test(nodeName) ? !element.disabled : 'a' === nodeName ? element.href || isTabIndexNotNaN : isTabIndexNotNaN;\n      } // Focus inputs using cached focusable elements (see update())\n\n      function focusInputs(blurElems) {\n        // Blurring body element in IE causes window.open windows to unfocus!\n        if (focusableElems.length < 1 && blurElems.length) {\n          blurElems.not('body').blur();\n        } // Focus the inputs\n        else {\n          focusableElems.first().focus();\n        }\n      } // Steal focus from elements outside tooltip\n\n      function stealFocus(event) {\n        if (!elem.is(':visible')) {\n          return;\n        }\n        var target = $(event.target),\n          tooltip = current.tooltip,\n          container = target.closest(SELECTOR),\n          targetOnTop; // Determine if input container target is above this\n\n        targetOnTop = container.length < 1 ? FALSE : parseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10); // If we're showing a modal, but focus has landed on an input below\n        // this modal, divert focus to the first visible input in this modal\n        // or if we can't find one... the tooltip itself\n\n        if (!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\n          focusInputs(target);\n        }\n      }\n      $.extend(self, {\n        init: function () {\n          // Create document overlay\n          elem = self.elem = $('<div />', {\n            id: 'qtip-overlay',\n            html: '<div></div>',\n            mousedown: function () {\n              return FALSE;\n            }\n          }).hide(); // Make sure we can't focus anything outside the tooltip\n\n          $(document.body).bind('focusin' + MODALSELECTOR, stealFocus); // Apply keyboard \"Escape key\" close handler\n\n          $(document).bind('keydown' + MODALSELECTOR, function (event) {\n            if (current && current.options.show.modal.escape && event.keyCode === 27) {\n              current.hide(event);\n            }\n          }); // Apply click handler for blur option\n\n          elem.bind('click' + MODALSELECTOR, function (event) {\n            if (current && current.options.show.modal.blur) {\n              current.hide(event);\n            }\n          });\n          return self;\n        },\n        update: function (api) {\n          // Update current API reference\n          current = api; // Update focusable elements if enabled\n\n          if (api.options.show.modal.stealfocus !== FALSE) {\n            focusableElems = api.tooltip.find('*').filter(function () {\n              return focusable(this);\n            });\n          } else {\n            focusableElems = [];\n          }\n        },\n        toggle: function (api, state, duration) {\n          var tooltip = api.tooltip,\n            options = api.options.show.modal,\n            effect = options.effect,\n            type = state ? 'show' : 'hide',\n            visible = elem.is(':visible'),\n            visibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip); // Set active tooltip API reference\n\n          self.update(api); // If the modal can steal the focus...\n          // Blur the current item and focus anything in the modal we an\n\n          if (state && options.stealfocus !== FALSE) {\n            focusInputs($(':focus'));\n          } // Toggle backdrop cursor style on show\n\n          elem.toggleClass('blurs', options.blur); // Append to body on show\n\n          if (state) {\n            elem.appendTo(document.body);\n          } // Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\n\n          if (elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\n            return self;\n          } // Stop all animations\n\n          elem.stop(TRUE, FALSE); // Use custom function if provided\n\n          if ($.isFunction(effect)) {\n            effect.call(elem, state);\n          } // If no effect type is supplied, use a simple toggle\n          else if (effect === FALSE) {\n            elem[type]();\n          } // Use basic fade function\n          else {\n            elem.fadeTo(parseInt(duration, 10) || 90, state ? 1 : 0, function () {\n              if (!state) {\n                elem.hide();\n              }\n            });\n          } // Reset position and detach from body on hide\n\n          if (!state) {\n            elem.queue(function (next) {\n              elem.css({\n                left: '',\n                top: ''\n              });\n              if (!$(MODALSELECTOR).length) {\n                elem.detach();\n              }\n              next();\n            });\n          } // Cache the state\n\n          prevState = state; // If the tooltip is destroyed, set reference to null\n\n          if (current.destroyed) {\n            current = NULL;\n          }\n          return self;\n        }\n      });\n      self.init();\n    };\n    OVERLAY = new OVERLAY();\n    function Modal(api, options) {\n      this.options = options;\n      this._ns = '-modal';\n      this.qtip = api;\n      this.init(api);\n    }\n    $.extend(Modal.prototype, {\n      init: function (qtip) {\n        var tooltip = qtip.tooltip; // If modal is disabled... return\n\n        if (!this.options.on) {\n          return this;\n        } // Set overlay reference\n\n        qtip.elements.overlay = OVERLAY.elem; // Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\n\n        tooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length); // Apply our show/hide/focus modal events\n\n        qtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function (event, api, duration) {\n          var oEvent = event.originalEvent; // Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\n\n          if (event.target === tooltip[0]) {\n            if (oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\n              /* eslint-disable no-empty */\n              try {\n                event.preventDefault();\n              } catch (e) {}\n              /* eslint-enable no-empty */\n            } else if (!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\n              this.toggle(event, event.type === 'tooltipshow', duration);\n            }\n          }\n        }, this._ns, this); // Adjust modal z-index on tooltip focus\n\n        qtip._bind(tooltip, 'tooltipfocus', function (event, api) {\n          // If focus was cancelled before it reached us, don't do anything\n          if (event.isDefaultPrevented() || event.target !== tooltip[0]) {\n            return;\n          }\n          var qtips = $(MODALSELECTOR),\n            // Keep the modal's lower than other, regular qtips\n            newIndex = QTIP.modal_zindex + qtips.length,\n            curIndex = parseInt(tooltip[0].style.zIndex, 10); // Set overlay z-index\n\n          OVERLAY.elem[0].style.zIndex = newIndex - 1; // Reduce modal z-index's and keep them properly ordered\n\n          qtips.each(function () {\n            if (this.style.zIndex > curIndex) {\n              this.style.zIndex -= 1;\n            }\n          }); // Fire blur event for focused tooltip\n\n          qtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent); // Set the new z-index\n\n          tooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex; // Set current\n\n          OVERLAY.update(api); // Prevent default handling\n\n          /* eslint-disable no-empty */\n\n          try {\n            event.preventDefault();\n          } catch (e) {}\n          /* eslint-enable no-empty */\n        }, this._ns, this); // Focus any other visible modals when this one hides\n\n        qtip._bind(tooltip, 'tooltiphide', function (event) {\n          if (event.target === tooltip[0]) {\n            $(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\n          }\n        }, this._ns, this);\n      },\n      toggle: function (event, state, duration) {\n        // Make sure default event hasn't been prevented\n        if (event && event.isDefaultPrevented()) {\n          return this;\n        } // Toggle it\n\n        OVERLAY.toggle(this.qtip, !!state, duration);\n      },\n      destroy: function () {\n        // Remove modal class\n        this.qtip.tooltip.removeClass(MODALCLASS); // Remove bound events\n\n        this.qtip._unbind(this.qtip.tooltip, this._ns); // Delete element reference\n\n        OVERLAY.toggle(this.qtip, FALSE);\n        delete this.qtip.elements.overlay;\n      }\n    });\n    MODAL = PLUGINS.modal = function (api) {\n      return new Modal(api, api.options.show.modal);\n    }; // Setup sanitiztion rules\n\n    MODAL.sanitize = function (opts) {\n      if (opts.show) {\n        if (typeof opts.show.modal !== 'object') {\n          opts.show.modal = {\n            on: !!opts.show.modal\n          };\n        } else if (typeof opts.show.modal.on === 'undefined') {\n          opts.show.modal.on = TRUE;\n        }\n      }\n    }; // Base z-index for all modal tooltips (use qTip core z-index as a base)\n\n    /* eslint-disable camelcase */\n\n    QTIP.modal_zindex = QTIP.zindex - 200;\n    /* eslint-enable camelcase */\n    // Plugin needs to be initialized on render\n\n    MODAL.initialize = 'render'; // Setup option set checks\n\n    CHECKS.modal = {\n      '^show.modal.(on|blur)$': function () {\n        // Initialise\n        this.destroy();\n        this.init(); // Show the modal if not visible already and tooltip is visible\n\n        this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth > 0);\n      }\n    }; // Extend original api defaults\n\n    $.extend(TRUE, QTIP.defaults, {\n      show: {\n        modal: {\n          on: FALSE,\n          effect: TRUE,\n          blur: TRUE,\n          stealfocus: TRUE,\n          escape: TRUE\n        }\n      }\n    });\n    PLUGINS.viewport = function (api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight) {\n      var target = posOptions.target,\n        tooltip = api.elements.tooltip,\n        my = posOptions.my,\n        at = posOptions.at,\n        adjust = posOptions.adjust,\n        method = adjust.method.split(' '),\n        methodX = method[0],\n        methodY = method[1] || method[0],\n        viewport = posOptions.viewport,\n        container = posOptions.container,\n        adjusted = {\n          left: 0,\n          top: 0\n        },\n        fixed,\n        newMy,\n        containerOffset,\n        containerStatic,\n        viewportWidth,\n        viewportHeight,\n        viewportScroll,\n        viewportOffset; // If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\n\n      if (!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\n        return adjusted;\n      } // Cach container details\n\n      containerOffset = container.offset() || adjusted;\n      containerStatic = container.css('position') === 'static'; // Cache our viewport details\n\n      fixed = tooltip.css('position') === 'fixed';\n      viewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\n      viewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\n      viewportScroll = {\n        left: fixed ? 0 : viewport.scrollLeft(),\n        top: fixed ? 0 : viewport.scrollTop()\n      };\n      viewportOffset = viewport.offset() || adjusted; // Generic calculation method\n\n      function calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\n        var initialPos = position[side1],\n          mySide = my[side],\n          atSide = at[side],\n          isShift = type === SHIFT,\n          myLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\n          atLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\n          sideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\n          overflow1 = sideOffset - initialPos,\n          overflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\n          offset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0); // shift\n\n        if (isShift) {\n          offset = (mySide === side1 ? 1 : -1) * myLength; // Adjust position but keep it within viewport dimensions\n\n          position[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\n          position[side1] = Math.max(-containerOffset[side1] + viewportOffset[side1], initialPos - offset, Math.min(Math.max(-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight), initialPos + offset), position[side1],\n          // Make sure we don't adjust complete off the element when using 'center'\n          mySide === 'center' ? initialPos - myLength : 1E9));\n        } // flip/flipinvert\n        else {\n          // Update adjustment amount depending on if using flipinvert or flip\n          adjustment *= type === FLIPINVERT ? 2 : 0; // Check for overflow on the left/top\n\n          if (overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\n            position[side1] -= offset + adjustment;\n            newMy.invert(side, side1);\n          } // Check for overflow on the bottom/right\n          else if (overflow2 > 0 && (mySide !== side2 || overflow1 > 0)) {\n            position[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\n            newMy.invert(side, side2);\n          } // Make sure we haven't made things worse with the adjustment and reset if so\n\n          if (position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\n            position[side1] = initialPos;\n            newMy = my.clone();\n          }\n        }\n        return position[side1] - initialPos;\n      } // Set newMy if using flip or flipinvert methods\n\n      if (methodX !== 'shift' || methodY !== 'shift') {\n        newMy = my.clone();\n      } // Adjust position based onviewport and adjustment options\n\n      adjusted = {\n        left: methodX !== 'none' ? calculate(X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth) : 0,\n        top: methodY !== 'none' ? calculate(Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight) : 0,\n        my: newMy\n      };\n      return adjusted;\n    };\n    PLUGINS.polys = {\n      // POLY area coordinate calculator\n      //\tSpecial thanks to Ed Cradock for helping out with this.\n      //\tUses a binary search algorithm to find suitable coordinates.\n      polygon: function (baseCoords, corner) {\n        var result = {\n            width: 0,\n            height: 0,\n            position: {\n              top: 1e10,\n              right: 0,\n              bottom: 0,\n              left: 1e10\n            },\n            adjustable: FALSE\n          },\n          i = 0,\n          next,\n          coords = [],\n          compareX = 1,\n          compareY = 1,\n          realX = 0,\n          realY = 0,\n          newWidth,\n          newHeight; // First pass, sanitize coords and determine outer edges\n\n        i = baseCoords.length;\n        while (i--) {\n          next = [parseInt(baseCoords[--i], 10), parseInt(baseCoords[i + 1], 10)];\n          if (next[0] > result.position.right) {\n            result.position.right = next[0];\n          }\n          if (next[0] < result.position.left) {\n            result.position.left = next[0];\n          }\n          if (next[1] > result.position.bottom) {\n            result.position.bottom = next[1];\n          }\n          if (next[1] < result.position.top) {\n            result.position.top = next[1];\n          }\n          coords.push(next);\n        } // Calculate height and width from outer edges\n\n        newWidth = result.width = Math.abs(result.position.right - result.position.left);\n        newHeight = result.height = Math.abs(result.position.bottom - result.position.top); // If it's the center corner...\n\n        if (corner.abbrev() === 'c') {\n          result.position = {\n            left: result.position.left + result.width / 2,\n            top: result.position.top + result.height / 2\n          };\n        } else {\n          // Second pass, use a binary search algorithm to locate most suitable coordinate\n          while (newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0) {\n            newWidth = Math.floor(newWidth / 2);\n            newHeight = Math.floor(newHeight / 2);\n            if (corner.x === LEFT) {\n              compareX = newWidth;\n            } else if (corner.x === RIGHT) {\n              compareX = result.width - newWidth;\n            } else {\n              compareX += Math.floor(newWidth / 2);\n            }\n            if (corner.y === TOP) {\n              compareY = newHeight;\n            } else if (corner.y === BOTTOM) {\n              compareY = result.height - newHeight;\n            } else {\n              compareY += Math.floor(newHeight / 2);\n            }\n            i = coords.length;\n            while (i--) {\n              if (coords.length < 2) {\n                break;\n              }\n              realX = coords[i][0] - result.position.left;\n              realY = coords[i][1] - result.position.top;\n              if (corner.x === LEFT && realX >= compareX || corner.x === RIGHT && realX <= compareX || corner.x === CENTER && (realX < compareX || realX > result.width - compareX) || corner.y === TOP && realY >= compareY || corner.y === BOTTOM && realY <= compareY || corner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\n                coords.splice(i, 1);\n              }\n            }\n          }\n          result.position = {\n            left: coords[0][0],\n            top: coords[0][1]\n          };\n        }\n        return result;\n      },\n      rect: function (ax, ay, bx, by) {\n        return {\n          width: Math.abs(bx - ax),\n          height: Math.abs(by - ay),\n          position: {\n            left: Math.min(ax, bx),\n            top: Math.min(ay, by)\n          }\n        };\n      },\n      _angles: {\n        tc: 3 / 2,\n        tr: 7 / 4,\n        tl: 5 / 4,\n        bc: 1 / 2,\n        br: 1 / 4,\n        bl: 3 / 4,\n        rc: 2,\n        lc: 1,\n        c: 0\n      },\n      ellipse: function (cx, cy, rx, ry, corner) {\n        var c = PLUGINS.polys._angles[corner.abbrev()],\n          rxc = c === 0 ? 0 : rx * Math.cos(c * Math.PI),\n          rys = ry * Math.sin(c * Math.PI);\n        return {\n          width: rx * 2 - Math.abs(rxc),\n          height: ry * 2 - Math.abs(rys),\n          position: {\n            left: cx + rxc,\n            top: cy + rys\n          },\n          adjustable: FALSE\n        };\n      },\n      circle: function (cx, cy, r, corner) {\n        return PLUGINS.polys.ellipse(cx, cy, r, r, corner);\n      }\n    };\n    PLUGINS.svg = function (api, svg, corner) {\n      var elem = svg[0],\n        root = $(elem.ownerSVGElement),\n        ownerDocument = elem.ownerDocument,\n        strokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\n        frameOffset,\n        mtx,\n        transformed,\n        len,\n        next,\n        i,\n        points,\n        result,\n        position; // Ascend the parentNode chain until we find an element with getBBox()\n\n      while (!elem.getBBox) {\n        elem = elem.parentNode;\n      }\n      if (!elem.getBBox || !elem.parentNode) {\n        return FALSE;\n      } // Determine which shape calculation to use\n\n      switch (elem.nodeName) {\n        case 'ellipse':\n        case 'circle':\n          result = PLUGINS.polys.ellipse(elem.cx.baseVal.value, elem.cy.baseVal.value, (elem.rx || elem.r).baseVal.value + strokeWidth2, (elem.ry || elem.r).baseVal.value + strokeWidth2, corner);\n          break;\n        case 'line':\n        case 'polygon':\n        case 'polyline':\n          // Determine points object (line has none, so mimic using array)\n          points = elem.points || [{\n            x: elem.x1.baseVal.value,\n            y: elem.y1.baseVal.value\n          }, {\n            x: elem.x2.baseVal.value,\n            y: elem.y2.baseVal.value\n          }];\n          for (result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\n            next = points.getItem ? points.getItem(i) : points[i];\n            result.push.apply(result, [next.x, next.y]);\n          }\n          result = PLUGINS.polys.polygon(result, corner);\n          break;\n        // Unknown shape or rectangle? Use bounding box\n\n        default:\n          result = elem.getBBox();\n          result = {\n            width: result.width,\n            height: result.height,\n            position: {\n              left: result.x,\n              top: result.y\n            }\n          };\n          break;\n      } // Shortcut assignments\n\n      position = result.position;\n      root = root[0]; // Convert position into a pixel value\n\n      if (root.createSVGPoint) {\n        mtx = elem.getScreenCTM();\n        points = root.createSVGPoint();\n        points.x = position.left;\n        points.y = position.top;\n        transformed = points.matrixTransform(mtx);\n        position.left = transformed.x;\n        position.top = transformed.y;\n      } // Check the element is not in a child document, and if so, adjust for frame elements offset\n\n      if (ownerDocument !== document && api.position.target !== 'mouse') {\n        frameOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\n        if (frameOffset) {\n          position.left += frameOffset.left;\n          position.top += frameOffset.top;\n        }\n      } // Adjust by scroll offset of owner document\n\n      ownerDocument = $(ownerDocument);\n      position.left += ownerDocument.scrollLeft();\n      position.top += ownerDocument.scrollTop();\n      return result;\n    };\n    PLUGINS.imagemap = function (api, area, corner) {\n      if (!area.jquery) {\n        area = $(area);\n      }\n      var shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\n        image = $('img[usemap=\"#' + area.parent('map').attr('name') + '\"]'),\n        coordsString = $.trim(area.attr('coords')),\n        coordsArray = coordsString.replace(/,$/, '').split(','),\n        imageOffset,\n        coords,\n        i,\n        result,\n        len; // If we can't find the image using the map...\n\n      if (!image.length) {\n        return FALSE;\n      } // Pass coordinates string if polygon\n\n      if (shape === 'polygon') {\n        result = PLUGINS.polys.polygon(coordsArray, corner);\n      } // Otherwise parse the coordinates and pass them as arguments\n      else if (PLUGINS.polys[shape]) {\n        for (i = -1, len = coordsArray.length, coords = []; ++i < len;) {\n          coords.push(parseInt(coordsArray[i], 10));\n        }\n        result = PLUGINS.polys[shape].apply(this, coords.concat(corner));\n      } // If no shapre calculation method was found, return false\n      else {\n        return FALSE;\n      } // Make sure we account for padding and borders on the image\n\n      imageOffset = image.offset();\n      imageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\n      imageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2); // Add image position to offset coordinates\n\n      result.position.left += imageOffset.left;\n      result.position.top += imageOffset.top;\n      return result;\n    };\n    var IE6,\n      /*\n       * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\n       * Special thanks to Brandon Aaron\n       */\n      BGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' + ' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' + '-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\n    function Ie6(api) {\n      this._ns = 'ie6';\n      this.qtip = api;\n      this.init(api);\n    }\n    $.extend(Ie6.prototype, {\n      _scroll: function () {\n        var overlay = this.qtip.elements.overlay;\n        overlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\n      },\n      init: function (qtip) {\n        var tooltip = qtip.tooltip; // Create the BGIFrame element if needed\n\n        if ($('select, object').length < 1) {\n          this.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip); // Update BGIFrame on tooltip move\n\n          qtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\n        } // redraw() container for width/height calculations\n\n        this.redrawContainer = $('<div/>', {\n          id: NAMESPACE + '-rcontainer'\n        }).appendTo(document.body); // Fixup modal plugin if present too\n\n        if (qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix')) {\n          qtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\n          qtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\n        } // Set dimensions\n\n        this.redraw();\n      },\n      adjustBGIFrame: function () {\n        var tooltip = this.qtip.tooltip,\n          dimensions = {\n            height: tooltip.outerHeight(FALSE),\n            width: tooltip.outerWidth(FALSE)\n          },\n          plugin = this.qtip.plugins.tip,\n          tip = this.qtip.elements.tip,\n          tipAdjust,\n          offset; // Adjust border offset\n\n        offset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\n        offset = {\n          left: -offset,\n          top: -offset\n        }; // Adjust for tips plugin\n\n        if (plugin && tip) {\n          tipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\n          offset[tipAdjust[1]] -= tip[tipAdjust[0]]();\n        } // Update bgiframe\n\n        this.bgiframe.css(offset).css(dimensions);\n      },\n      // Max/min width simulator function\n      redraw: function () {\n        if (this.qtip.rendered < 1 || this.drawing) {\n          return this;\n        }\n        var tooltip = this.qtip.tooltip,\n          style = this.qtip.options.style,\n          container = this.qtip.options.position.container,\n          perc,\n          width,\n          max,\n          min; // Set drawing flag\n\n        this.qtip.drawing = 1; // If tooltip has a set height/width, just set it... like a boss!\n\n        if (style.height) {\n          tooltip.css(HEIGHT, style.height);\n        }\n        if (style.width) {\n          tooltip.css(WIDTH, style.width);\n        } // Simulate max/min width if not set width present...\n        else {\n          // Reset width and add fluid class\n          tooltip.css(WIDTH, '').appendTo(this.redrawContainer); // Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\n\n          width = tooltip.width();\n          if (width % 2 < 1) {\n            width += 1;\n          } // Grab our max/min properties\n\n          max = tooltip.css('maxWidth') || '';\n          min = tooltip.css('minWidth') || ''; // Parse into proper pixel values\n\n          perc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\n          max = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\n          min = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0; // Determine new dimension size based on max/min/current values\n\n          width = max + min ? Math.min(Math.max(width, min), max) : width; // Set the newly calculated width and remvoe fluid class\n\n          tooltip.css(WIDTH, Math.round(width)).appendTo(container);\n        } // Set drawing flag\n\n        this.drawing = 0;\n        return this;\n      },\n      destroy: function () {\n        // Remove iframe\n        this.bgiframe && this.bgiframe.remove(); // Remove bound events\n\n        this.qtip._unbind([window, this.qtip.tooltip], this._ns);\n      }\n    });\n    IE6 = PLUGINS.ie6 = function (api) {\n      // Proceed only if the browser is IE6\n      return BROWSER.ie === 6 ? new Ie6(api) : FALSE;\n    };\n    IE6.initialize = 'render';\n    CHECKS.ie6 = {\n      '^content|style$': function () {\n        this.redraw();\n      }\n    };\n  });\n})(window, document);","map":{"version":3,"names":["jQuery","window","document","undefined$1","factory","fn","qtip","$","TRUE","FALSE","NULL","X","Y","WIDTH","HEIGHT","TOP","LEFT","BOTTOM","RIGHT","CENTER","FLIPINVERT","SHIFT","QTIP","PROTOTYPE","CORNER","CHECKS","PLUGINS","NAMESPACE","ATTR_HAS","ATTR_ID","WIDGET","SELECTOR","INACTIVE_EVENTS","split","CLASS_FIXED","CLASS_DEFAULT","CLASS_FOCUS","CLASS_HOVER","CLASS_DISABLED","replaceSuffix","oldtitle","trackingBound","BROWSER","ie","v","i","createElement","innerHTML","getElementsByTagName","NaN","iOS","parseFloat","exec","navigator","userAgent","replace","QTip","target","options","id","attr","tooltip","elements","_id","timers","img","plugins","cache","event","disabled","onTooltip","lastClass","rendered","destroyed","waiting","hiddenDuringWait","positioning","triggering","prototype","_when","deferreds","when","apply","render","show","self","text","content","title","button","posOptions","position","posClass","_createPosClass","my","at","style","classes","join","width","height","adjust","mouse","toggleClass","data","appendTo","container","append","_createTitle","isFunction","push","_updateTitle","_createButton","_updateContent","_setWidget","each","name","instance","initialize","_unassignEvents","_assignEvents","then","_trigger","ready","toggle","api","destroy","immediate","process","timer","stop","find","remove","end","hasOwnProperty","clearTimeout","removeData","removeAttr","suppress","one","proxy","hide","call","invalidOpt","a","type","invalidContent","c","length","jquery","sanitizeOptions","opts","ajax","once","metadata","done","loading","deferred","extend","context","success","error","newContent","set","xhr","status","isPlainObject","sanitize","checks","builtin","^id$","obj","o","prev","nextid","newId","^prerender","^content.text$","^content.attr$","^content.title$","_removeTitle","^content.button$","_updateButton","^content.title.(text|button)$","^position.(my|at)$","^position.container$","^show.ready$","^style.classes$","p","removeClass","addClass","^style.(width|height)","css","^style.widget|content.title","^style.def","^events.(render|show|move|hide|focus|blur)$","^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)","convertNotation","notation","option","levels","pop","get","toLowerCase","result","precedance","string","setCallback","args","category","rule","match","RegExp","rmove","rrender","value","reposition","val","test","previous","nodeType","offsetWidth","_update","element","e","empty","display","visibility","html","_waitForContent","images","imagesLoaded","Deferred","resolve","promise","titlebar","widget","createWidgetClass","insertBefore","delegate","substr","abbrev","effect","viewport","method","tooltipWidth","outerWidth","tooltipHeight","outerHeight","targetWidth","targetHeight","left","top","visible","isScroll","win","doc","ownerDocument","pluginCalculations","offset","adjusted","newClass","isArray","x","y","distance","origin","pageX","body","innerWidth","documentElement","clientWidth","pageY","scrollX","scrollLeft","scrollY","scrollTop","eq","innerHeight","imagemap","is","svg","ownerSVGElement","adjustable","elem","isNaN","queue","next","opacity","removeAttribute","pos","quirks","compatMode","parent","scrolled","parentOffset","overflow","scroll","getBoundingClientRect","prop","offsetParent","C","Corner","corner","forceY","f","charAt","invert","z","center","clone","state","add","has","relatedTarget","fix","contentOptions","animate","sameTarget","identicalState","allow","after","search","focus","bind","_storeMouse","arguments","solo","not","Event","unbind","blur","autofocus","trigger","n","fadeTo","qtips","curIndex","parseInt","zIndex","newIndex","zindex","hasClass","filter","disable","enable","isString","close","prepend","click","cls","concat","on","def","delay","callback","duration","setTimeout","showMethod","hideMethod","ontoTooltip","closest","ontoTarget","fixed","preventDefault","stopImmediatePropagation","inactiveMethod","inactive","repositionMethod","_bind","targets","events","suffix","ns","_unbind","selector","originalEvent","isDefaultPrevented","_bindEvents","showEvents","hideEvents","showTargets","hideTargets","showCallback","hideCallback","similarTargets","toggleEvents","showIndex","inArray","splice","_assignInitialEvents","showTarget","hideTarget","trim","moveEvent","onTarget","hoverIntent","hoverEvent","prerender","containerTarget","viewportTarget","documentTarget","windowTarget","leave","nodeName","indexOf","enabled","isAncestor","parents","inactiveEvents","limit","abs","Math","resize","special","grep","toArray","currentTarget","init","config","docBody","newTarget","metadata5","html5","parseJSON","defaults","overwrite","newValue","command","returned","makeArray","slice","timeStamp","keepData","elems","func","old","ui","cleanData","triggerHandler","version","move","hidden","TIP","createVML","SCALE","PIXEL_RATIO","BACKING_STORE_RATIO","MARGIN","BORDER","COLOR","BG_COLOR","TRANSPARENT","IMPORTANT","HASCANVAS","getContext","INVALID","camel","s","toUpperCase","cssProps","cssPrefixes","vendorCss","ucProp","props","cur","intCss","ceil","tag","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","Tip","_ns","size","tip","prependTo","lineJoin","miterLimit","save","stopPropagation","create","_swapDimensions","_resetDimensions","_useTitle","_parseCorner","_parseWidth","side","use","_parseRadius","_invalidColour","compare","_parseColours","borderSide","colorElem","color","_calculateSize","isCenter","base","pow","round","bigHyp","ratio","smallHyp","sqrt","hyp","border","reverse","_calculateTip","scale","width2","height2","tips","br","bl","tr","tl","tc","bc","rc","lc","lt","rt","lb","rb","_drawCoords","coords","beginPath","moveTo","lineTo","closePath","update","inner","children","curSize","mimic","bigCoords","translate","newSize","lineHeight","restore","clearRect","fillStyle","fill","coordsize","antialias","Number","$this","path","fillcolor","filled","stroked","opera","calculate","userOffset","corners","b","max","margin","bottom","right","newCorner","horizontal","vertical","shift","shiftflip","direction","popposite","opposite","shiftonly","xy","cornerTop","cornerLeft","user","^position.my|style.tip.(corner|mimic|border)$","^style.tip.(height|width)$","^content.title|style.(classes|widget)$","MODAL","OVERLAY","MODALCLASS","MODALSELECTOR","focusableElems","current","prevState","focusable","expr","isTabIndexNotNaN","map","mapName","parentNode","href","focusInputs","blurElems","first","stealFocus","targetOnTop","mousedown","modal","escape","keyCode","stealfocus","visibleModals","detach","Modal","overlay","modal_zindex","oEvent","last","^show.modal.(on|blur)$","elemWidth","elemHeight","methodX","methodY","newMy","containerOffset","containerStatic","viewportWidth","viewportHeight","viewportScroll","viewportOffset","otherSide","adjustment","side1","side2","lengthName","targetLength","elemLength","initialPos","mySide","atSide","isShift","myLength","atLength","sideOffset","overflow1","overflow2","min","polys","polygon","baseCoords","compareX","compareY","realX","realY","newWidth","newHeight","floor","rect","ax","ay","bx","by","_angles","ellipse","cx","cy","rx","ry","rxc","cos","PI","rys","sin","circle","r","root","strokeWidth2","frameOffset","mtx","transformed","len","points","getBBox","baseVal","x1","y1","x2","y2","numberOfItems","getItem","createSVGPoint","getScreenCTM","matrixTransform","defaultView","parentWindow","frameElement","area","shape","image","coordsString","coordsArray","imageOffset","IE6","BGIFRAME","Ie6","_scroll","bgiframe","adjustBGIFrame","redrawContainer","redraw","dimensions","plugin","tipAdjust","drawing","perc","ie6","^content|style$"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/packages/@okta/qtip2/dist/jquery.qtip.js"],"sourcesContent":["import jQuery from '../../courage-dist/esm/src/courage/vendor/lib/jquery-1.12.4.js';\n\n/*\n * qTip2 - Pretty powerful tooltips - v3.0.3-5-g\n * http://qtip2.com\n *\n * Copyright (c) 2017 \n * Released under the MIT licenses\n * http://jquery.org/license\n *\n * Date: Wed May 24 2017 01:22 UTC+0000\n * Plugins: tips modal viewport svg imagemap ie6\n * Styles: core basic css3\n */\n/* Cache window, document, undefined */\n\n(function (window, document, undefined$1) {\n  (function (factory) {\n\n    if (!jQuery.fn.qtip) {\n      factory(jQuery);\n    }\n  })(function ($) {\n\n    var TRUE = true,\n        FALSE = false,\n        NULL = null,\n        // Common variables\n    X = 'x',\n        Y = 'y',\n        WIDTH = 'width',\n        HEIGHT = 'height',\n        // Positioning sides\n    TOP = 'top',\n        LEFT = 'left',\n        BOTTOM = 'bottom',\n        RIGHT = 'right',\n        CENTER = 'center',\n        FLIPINVERT = 'flipinvert',\n        SHIFT = 'shift',\n        // Shortcut vars\n    QTIP,\n        PROTOTYPE,\n        CORNER,\n        CHECKS,\n        PLUGINS = {},\n        NAMESPACE = 'qtip',\n        ATTR_HAS = 'data-hasqtip',\n        ATTR_ID = 'data-qtip-id',\n        WIDGET = ['ui-widget', 'ui-tooltip'],\n        SELECTOR = '.' + NAMESPACE,\n        INACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\n        CLASS_FIXED = NAMESPACE + '-fixed',\n        CLASS_DEFAULT = NAMESPACE + '-default',\n        CLASS_FOCUS = NAMESPACE + '-focus',\n        CLASS_HOVER = NAMESPACE + '-hover',\n        CLASS_DISABLED = NAMESPACE + '-disabled',\n        replaceSuffix = '_replacedByqTip',\n        oldtitle = 'oldtitle',\n        trackingBound,\n        // Browser detection\n    BROWSER = {\n      /*\n       * IE version detection\n       *\n       * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\n       * Credit to James Padolsey for the original implemntation!\n       */\n      ie: function () {\n        /* eslint-disable no-empty */\n        var v, i;\n\n        for (v = 4, i = document.createElement('div'); (i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0]; v += 1) {}\n\n        return v > 4 ? v : NaN;\n        /* eslint-enable no-empty */\n      }(),\n\n      /*\n       * iOS version detection\n       */\n      iOS: parseFloat(('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '')) || FALSE\n    };\n\n    function QTip(target, options, id, attr) {\n      // Elements and ID\n      this.id = id;\n      this.target = target;\n      this.tooltip = NULL;\n      this.elements = {\n        target: target\n      }; // Internal constructs\n\n      this._id = NAMESPACE + '-' + id;\n      this.timers = {\n        img: {}\n      };\n      this.options = options;\n      this.plugins = {}; // Cache object\n\n      this.cache = {\n        event: {},\n        target: $(),\n        disabled: FALSE,\n        attr: attr,\n        onTooltip: FALSE,\n        lastClass: ''\n      }; // Set the initial flags\n\n      this.rendered = this.destroyed = this.disabled = this.waiting = this.hiddenDuringWait = this.positioning = this.triggering = FALSE;\n    }\n\n    PROTOTYPE = QTip.prototype;\n\n    PROTOTYPE._when = function (deferreds) {\n      return $.when.apply($, deferreds);\n    };\n\n    PROTOTYPE.render = function (show) {\n      if (this.rendered || this.destroyed) {\n        return this;\n      } // If tooltip has already been rendered, exit\n\n\n      var self = this,\n          options = this.options,\n          cache = this.cache,\n          elements = this.elements,\n          text = options.content.text,\n          title = options.content.title,\n          button = options.content.button,\n          posOptions = options.position,\n          deferreds = []; // Add ARIA attributes to target\n\n      $.attr(this.target[0], 'aria-describedby', this._id); // Create public position object that tracks current position corners\n\n      cache.posClass = this._createPosClass((this.position = {\n        my: posOptions.my,\n        at: posOptions.at\n      }).my); // Create tooltip element\n\n      this.tooltip = elements.tooltip = $('<div/>', {\n        'id': this._id,\n        'class': [NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass].join(' '),\n        'width': options.style.width || '',\n        'height': options.style.height || '',\n        'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\n\n        /* ARIA specific attributes */\n        'role': 'alert',\n        'aria-live': 'polite',\n        'aria-atomic': FALSE,\n        'aria-describedby': this._id + '-content',\n        'aria-hidden': TRUE\n      }).toggleClass(CLASS_DISABLED, this.disabled).attr(ATTR_ID, this.id).data(NAMESPACE, this).appendTo(posOptions.container).append( // Create content element\n      elements.content = $('<div />', {\n        'class': NAMESPACE + '-content',\n        'id': this._id + '-content',\n        'aria-atomic': TRUE\n      })); // Set rendered flag and prevent redundant reposition calls for now\n\n      this.rendered = -1;\n      this.positioning = TRUE; // Create title...\n\n      if (title) {\n        this._createTitle(); // Update title only if its not a callback (called in toggle if so)\n\n\n        if (!$.isFunction(title)) {\n          deferreds.push(this._updateTitle(title, FALSE));\n        }\n      } // Create button\n\n\n      if (button) {\n        this._createButton();\n      } // Set proper rendered flag and update content if not a callback function (called in toggle)\n\n\n      if (!$.isFunction(text)) {\n        deferreds.push(this._updateContent(text, FALSE));\n      }\n\n      this.rendered = TRUE; // Setup widget classes\n\n      this._setWidget(); // Initialize 'render' plugins\n\n\n      $.each(PLUGINS, function (name) {\n        var instance;\n\n        if (this.initialize === 'render' && (instance = this(self))) {\n          self.plugins[name] = instance;\n        }\n      }); // Unassign initial events and assign proper events\n\n      this._unassignEvents();\n\n      this._assignEvents(); // When deferreds have completed\n\n\n      this._when(deferreds).then(function () {\n        // tooltiprender event\n        self._trigger('render'); // Reset flags\n\n\n        self.positioning = FALSE; // Show tooltip if not hidden during wait period\n\n        if (!self.hiddenDuringWait && (options.show.ready || show)) {\n          self.toggle(TRUE, cache.event, FALSE);\n        }\n\n        self.hiddenDuringWait = FALSE;\n      }); // Expose API\n\n\n      QTIP.api[this.id] = this;\n      return this;\n    };\n\n    PROTOTYPE.destroy = function (immediate) {\n      // Set flag the signify destroy is taking place to plugins\n      // and ensure it only gets destroyed once!\n      if (this.destroyed) {\n        return this.target;\n      }\n\n      function process() {\n        if (this.destroyed) {\n          return;\n        }\n\n        this.destroyed = TRUE;\n        var target = this.target,\n            title = target.attr(oldtitle),\n            timer; // Destroy tooltip if rendered\n\n        if (this.rendered) {\n          this.tooltip.stop(1, 0).find('*').remove().end().remove();\n        } // Destroy all plugins\n\n\n        $.each(this.plugins, function () {\n          this.destroy && this.destroy();\n        }); // Clear timers\n\n        for (timer in this.timers) {\n          if (this.timers.hasOwnProperty(timer)) {\n            clearTimeout(this.timers[timer]);\n          }\n        } // Remove api object and ARIA attributes\n\n\n        target.removeData(NAMESPACE).removeAttr(ATTR_ID).removeAttr(ATTR_HAS).removeAttr('aria-describedby'); // Reset old title attribute if removed\n\n        if (this.options.suppress && title) {\n          target.attr('title', title).removeAttr(oldtitle);\n        } // Remove qTip events associated with this API\n\n\n        this._unassignEvents(); // Remove ID from used id objects, and delete object references\n        // for better garbage collection and leak protection\n\n\n        this.options = this.elements = this.cache = this.timers = this.plugins = this.mouse = NULL; // Delete epoxsed API object\n\n        delete QTIP.api[this.id];\n      } // If an immediate destroy is needed\n\n\n      if ((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\n        this.tooltip.one('tooltiphidden', $.proxy(process, this));\n        !this.triggering && this.hide();\n      } // If we're not in the process of hiding... process\n      else {\n        process.call(this);\n      }\n\n      return this.target;\n    };\n\n    function invalidOpt(a) {\n      return a === NULL || $.type(a) !== 'object';\n    }\n\n    function invalidContent(c) {\n      return !($.isFunction(c) || c && c.attr || c.length || $.type(c) === 'object' && (c.jquery || c.then));\n    } // Option object sanitizer\n\n\n    function sanitizeOptions(opts) {\n      var content, text, ajax, once;\n\n      if (invalidOpt(opts)) {\n        return FALSE;\n      }\n\n      if (invalidOpt(opts.metadata)) {\n        opts.metadata = {\n          type: opts.metadata\n        };\n      }\n\n      if ('content' in opts) {\n        content = opts.content;\n\n        if (invalidOpt(content) || content.jquery || content.done) {\n          text = invalidContent(content) ? FALSE : content;\n          content = opts.content = {\n            text: text\n          };\n        } else {\n          text = content.text;\n        } // DEPRECATED - Old content.ajax plugin functionality\n        // Converts it into the proper Deferred syntax\n\n\n        if ('ajax' in content) {\n          ajax = content.ajax;\n          once = ajax && ajax.once !== FALSE;\n          delete content.ajax;\n\n          content.text = function (event, api) {\n            var loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\n                deferred = $.ajax($.extend({}, ajax, {\n              context: api\n            })).then(ajax.success, NULL, ajax.error).then(function (newContent) {\n              if (newContent && once) {\n                api.set('content.text', newContent);\n              }\n\n              return newContent;\n            }, function (xhr, status, error) {\n              if (api.destroyed || xhr.status === 0) {\n                return;\n              }\n\n              api.set('content.text', status + ': ' + error);\n            });\n            return !once ? (api.set('content.text', loading), deferred) : loading;\n          };\n        }\n\n        if ('title' in content) {\n          if ($.isPlainObject(content.title)) {\n            content.button = content.title.button;\n            content.title = content.title.text;\n          }\n\n          if (invalidContent(content.title || FALSE)) {\n            content.title = FALSE;\n          }\n        }\n      }\n\n      if ('position' in opts && invalidOpt(opts.position)) {\n        opts.position = {\n          my: opts.position,\n          at: opts.position\n        };\n      }\n\n      if ('show' in opts && invalidOpt(opts.show)) {\n        opts.show = opts.show.jquery ? {\n          target: opts.show\n        } : opts.show === TRUE ? {\n          ready: TRUE\n        } : {\n          event: opts.show\n        };\n      }\n\n      if ('hide' in opts && invalidOpt(opts.hide)) {\n        opts.hide = opts.hide.jquery ? {\n          target: opts.hide\n        } : {\n          event: opts.hide\n        };\n      }\n\n      if ('style' in opts && invalidOpt(opts.style)) {\n        opts.style = {\n          classes: opts.style\n        };\n      } // Sanitize plugin options\n\n\n      $.each(PLUGINS, function () {\n        this.sanitize && this.sanitize(opts);\n      });\n      return opts;\n    } // Setup builtin .set() option checks\n\n\n    CHECKS = PROTOTYPE.checks = {\n      builtin: {\n        // Core checks\n        '^id$': function (obj, o, v, prev) {\n          var id = v === TRUE ? QTIP.nextid : v,\n              newId = NAMESPACE + '-' + id;\n\n          if (id !== FALSE && id.length > 0 && !$('#' + newId).length) {\n            this._id = newId;\n\n            if (this.rendered) {\n              this.tooltip[0].id = this._id;\n              this.elements.content[0].id = this._id + '-content';\n              this.elements.title[0].id = this._id + '-title';\n            }\n          } else {\n            obj[o] = prev;\n          }\n        },\n        '^prerender': function (obj, o, v) {\n          v && !this.rendered && this.render(this.options.show.ready);\n        },\n        // Content checks\n        '^content.text$': function (obj, o, v) {\n          this._updateContent(v);\n        },\n        '^content.attr$': function (obj, o, v, prev) {\n          if (this.options.content.text === this.target.attr(prev)) {\n            this._updateContent(this.target.attr(v));\n          }\n        },\n        '^content.title$': function (obj, o, v) {\n          // Remove title if content is null\n          if (!v) {\n            return this._removeTitle();\n          } // If title isn't already created, create it now and update\n\n\n          v && !this.elements.title && this._createTitle();\n\n          this._updateTitle(v);\n        },\n        '^content.button$': function (obj, o, v) {\n          this._updateButton(v);\n        },\n        '^content.title.(text|button)$': function (obj, o, v) {\n          this.set('content.' + o, v); // Backwards title.text/button compat\n        },\n        // Position checks\n        '^position.(my|at)$': function (obj, o, v) {\n          if ('string' === typeof v) {\n            this.position[o] = obj[o] = new CORNER(v, o === 'at');\n          }\n        },\n        '^position.container$': function (obj, o, v) {\n          this.rendered && this.tooltip.appendTo(v);\n        },\n        // Show checks\n        '^show.ready$': function (obj, o, v) {\n          v && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\n        },\n        // Style checks\n        '^style.classes$': function (obj, o, v, p) {\n          this.rendered && this.tooltip.removeClass(p).addClass(v);\n        },\n        '^style.(width|height)': function (obj, o, v) {\n          this.rendered && this.tooltip.css(o, v);\n        },\n        '^style.widget|content.title': function () {\n          this.rendered && this._setWidget();\n        },\n        '^style.def': function (obj, o, v) {\n          this.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\n        },\n        // Events check\n        '^events.(render|show|move|hide|focus|blur)$': function (obj, o, v) {\n          this.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip' + o, v);\n        },\n        // Properties which require event reassignment\n        '^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function () {\n          if (!this.rendered) {\n            return;\n          } // Set tracking flag\n\n\n          var posOptions = this.options.position;\n          this.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse); // Reassign events\n\n          this._unassignEvents();\n\n          this._assignEvents();\n        }\n      }\n    }; // Dot notation converter\n\n    function convertNotation(options, notation) {\n      var i = 0,\n          obj,\n          option = options,\n          // Split notation into array\n      levels = notation.split('.'); // Loop through\n\n      while (option = option[levels[i++]]) {\n        if (i < levels.length) {\n          obj = option;\n        }\n      }\n\n      return [obj || options, levels.pop()];\n    }\n\n    PROTOTYPE.get = function (notation) {\n      if (this.destroyed) {\n        return this;\n      }\n\n      var o = convertNotation(this.options, notation.toLowerCase()),\n          result = o[0][o[1]];\n      return result.precedance ? result.string() : result;\n    };\n\n    function setCallback(notation, args) {\n      var category, rule, match;\n\n      for (category in this.checks) {\n        if (!this.checks.hasOwnProperty(category)) {\n          continue;\n        }\n\n        for (rule in this.checks[category]) {\n          if (!this.checks[category].hasOwnProperty(rule)) {\n            continue;\n          }\n\n          if (match = new RegExp(rule, 'i').exec(notation)) {\n            args.push(match);\n\n            if (category === 'builtin' || this.plugins[category]) {\n              this.checks[category][rule].apply(this.plugins[category] || this, args);\n            }\n          }\n        }\n      }\n    }\n\n    var rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\n        rrender = /^prerender|show\\.ready/i;\n\n    PROTOTYPE.set = function (option, value) {\n      if (this.destroyed) {\n        return this;\n      }\n\n      var rendered = this.rendered,\n          reposition = FALSE,\n          options = this.options,\n          name; // Convert singular option/value pair into object form\n\n      if ('string' === typeof option) {\n        name = option;\n        option = {};\n        option[name] = value;\n      } else {\n        option = $.extend({}, option);\n      } // Set all of the defined options to their new values\n\n\n      $.each(option, function (notation, val) {\n        if (rendered && rrender.test(notation)) {\n          delete option[notation];\n          return;\n        } // Set new obj value\n\n\n        var obj = convertNotation(options, notation.toLowerCase()),\n            previous;\n        previous = obj[0][obj[1]];\n        obj[0][obj[1]] = val && val.nodeType ? $(val) : val; // Also check if we need to reposition\n\n        reposition = rmove.test(notation) || reposition; // Set the new params for the callback\n\n        option[notation] = [obj[0], obj[1], val, previous];\n      }); // Re-sanitize options\n\n      sanitizeOptions(options);\n      /*\n       * Execute any valid callbacks for the set options\n       * Also set positioning flag so we don't get loads of redundant repositioning calls.\n       */\n\n      this.positioning = TRUE;\n      $.each(option, $.proxy(setCallback, this));\n      this.positioning = FALSE; // Update position if needed\n\n      if (this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\n        this.reposition(options.position.target === 'mouse' ? NULL : this.cache.event);\n      }\n\n      return this;\n    };\n\n    PROTOTYPE._update = function (content, element) {\n      var self = this,\n          cache = this.cache; // Make sure tooltip is rendered and content is defined. If not return\n\n      if (!this.rendered || !content) {\n        return FALSE;\n      } // Use function to parse content\n\n\n      if ($.isFunction(content)) {\n        content = content.call(this.elements.target, cache.event, this) || '';\n      } // Handle deferred content\n\n\n      if ($.isFunction(content.then)) {\n        cache.waiting = TRUE;\n        return content.then(function (c) {\n          cache.waiting = FALSE;\n          return self._update(c, element);\n        }, NULL, function (e) {\n          return self._update(e, element);\n        });\n      } // If content is null... return false\n\n\n      if (content === FALSE || !content && content !== '') {\n        return FALSE;\n      } // Append new content if its a DOM array and show it if hidden\n\n\n      if (content.jquery && content.length > 0) {\n        element.empty().append(content.css({\n          display: 'block',\n          visibility: 'visible'\n        }));\n      } // Content is a regular string, insert the new content\n      else {\n        element.html(content);\n      } // Wait for content to be loaded, and reposition\n\n\n      return this._waitForContent(element).then(function (images) {\n        if (self.rendered && self.tooltip[0].offsetWidth > 0) {\n          self.reposition(cache.event, !images.length);\n        }\n      });\n    };\n\n    PROTOTYPE._waitForContent = function (element) {\n      var cache = this.cache; // Set flag\n\n      cache.waiting = TRUE; // If imagesLoaded is included, ensure images have loaded and return promise\n\n      return ($.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([])).done(function () {\n        cache.waiting = FALSE;\n      }).promise();\n    };\n\n    PROTOTYPE._updateContent = function (content, reposition) {\n      this._update(content, this.elements.content, reposition);\n    };\n\n    PROTOTYPE._updateTitle = function (content, reposition) {\n      if (this._update(content, this.elements.title, reposition) === FALSE) {\n        this._removeTitle(FALSE);\n      }\n    };\n\n    PROTOTYPE._createTitle = function () {\n      var elements = this.elements,\n          id = this._id + '-title'; // Destroy previous title element, if present\n\n      if (elements.titlebar) {\n        this._removeTitle();\n      } // Create title bar and title elements\n\n\n      elements.titlebar = $('<div />', {\n        'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\n      }).append(elements.title = $('<div />', {\n        'id': id,\n        'class': NAMESPACE + '-title',\n        'aria-atomic': TRUE\n      })).insertBefore(elements.content) // Button-specific events\n      .delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function (event) {\n        $(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\n      }).delegate('.qtip-close', 'mouseover mouseout', function (event) {\n        $(this).toggleClass('ui-state-hover', event.type === 'mouseover');\n      }); // Create button if enabled\n\n      if (this.options.content.button) {\n        this._createButton();\n      }\n    };\n\n    PROTOTYPE._removeTitle = function (reposition) {\n      var elements = this.elements;\n\n      if (elements.title) {\n        elements.titlebar.remove();\n        elements.titlebar = elements.title = elements.button = NULL; // Reposition if enabled\n\n        if (reposition !== FALSE) {\n          this.reposition();\n        }\n      }\n    };\n\n    PROTOTYPE._createPosClass = function (my) {\n      return NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\n    };\n\n    PROTOTYPE.reposition = function (event, effect) {\n      if (!this.rendered || this.positioning || this.destroyed) {\n        return this;\n      } // Set positioning flag\n\n\n      this.positioning = TRUE;\n      var cache = this.cache,\n          tooltip = this.tooltip,\n          posOptions = this.options.position,\n          target = posOptions.target,\n          my = posOptions.my,\n          at = posOptions.at,\n          viewport = posOptions.viewport,\n          container = posOptions.container,\n          adjust = posOptions.adjust,\n          method = adjust.method.split(' '),\n          tooltipWidth = tooltip.outerWidth(FALSE),\n          tooltipHeight = tooltip.outerHeight(FALSE),\n          targetWidth = 0,\n          targetHeight = 0,\n          type = tooltip.css('position'),\n          position = {\n        left: 0,\n        top: 0\n      },\n          visible = tooltip[0].offsetWidth > 0,\n          isScroll = event && event.type === 'scroll',\n          win = $(window),\n          doc = container[0].ownerDocument,\n          mouse = this.mouse,\n          pluginCalculations,\n          offset,\n          adjusted,\n          newClass; // Check if absolute position was passed\n\n      if ($.isArray(target) && target.length === 2) {\n        // Force left top and set position\n        at = {\n          x: LEFT,\n          y: TOP\n        };\n        position = {\n          left: target[0],\n          top: target[1]\n        };\n      } // Check if mouse was the target\n      else if (target === 'mouse') {\n        // Force left top to allow flipping\n        at = {\n          x: LEFT,\n          y: TOP\n        }; // Use the mouse origin that caused the show event, if distance hiding is enabled\n\n        if ((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\n          event = cache.origin;\n        } // Use cached event for resize/scroll events\n        else if (!event || event && (event.type === 'resize' || event.type === 'scroll')) {\n          event = cache.event;\n        } // Otherwise, use the cached mouse coordinates if available\n        else if (mouse && mouse.pageX) {\n          event = mouse;\n        } // Calculate body and container offset and take them into account below\n\n\n        if (type !== 'static') {\n          position = container.offset();\n        }\n\n        if (doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\n          offset = $(document.body).offset();\n        } // Use event coordinates for position\n\n\n        position = {\n          left: event.pageX - position.left + (offset && offset.left || 0),\n          top: event.pageY - position.top + (offset && offset.top || 0)\n        }; // Scroll events are a pain, some browsers\n\n        if (adjust.mouse && isScroll && mouse) {\n          position.left -= (mouse.scrollX || 0) - win.scrollLeft();\n          position.top -= (mouse.scrollY || 0) - win.scrollTop();\n        }\n      } // Target wasn't mouse or absolute...\n      else {\n        // Check if event targetting is being used\n        if (target === 'event') {\n          if (event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\n            cache.target = $(event.target);\n          } else if (!event.target) {\n            cache.target = this.elements.target;\n          }\n        } else if (target !== 'event') {\n          cache.target = $(target.jquery ? target : this.elements.target);\n        }\n\n        target = cache.target; // Parse the target into a jQuery object and make sure there's an element present\n\n        target = $(target).eq(0);\n\n        if (target.length === 0) {\n          return this;\n        } // Check if window or document is the target\n        else if (target[0] === document || target[0] === window) {\n          targetWidth = BROWSER.iOS ? window.innerWidth : target.width();\n          targetHeight = BROWSER.iOS ? window.innerHeight : target.height();\n\n          if (target[0] === window) {\n            position = {\n              top: (viewport || target).scrollTop(),\n              left: (viewport || target).scrollLeft()\n            };\n          }\n        } // Check if the target is an <AREA> element\n        else if (PLUGINS.imagemap && target.is('area')) {\n          pluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\n        } // Check if the target is an SVG element\n        else if (PLUGINS.svg && target && target[0].ownerSVGElement) {\n          pluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\n        } // Otherwise use regular jQuery methods\n        else {\n          targetWidth = target.outerWidth(FALSE);\n          targetHeight = target.outerHeight(FALSE);\n          position = target.offset();\n        } // Parse returned plugin values into proper variables\n\n\n        if (pluginCalculations) {\n          targetWidth = pluginCalculations.width;\n          targetHeight = pluginCalculations.height;\n          offset = pluginCalculations.offset;\n          position = pluginCalculations.position;\n        } // Adjust position to take into account offset parents\n\n\n        position = this.reposition.offset(target, position, container); // Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\n\n        if (BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 || BROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 || !BROWSER.iOS && type === 'fixed') {\n          position.left -= win.scrollLeft();\n          position.top -= win.scrollTop();\n        } // Adjust position relative to target\n\n\n        if (!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\n          position.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\n          position.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\n        }\n      } // Adjust position relative to tooltip\n\n\n      position.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\n      position.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0); // Use viewport adjustment plugin if enabled\n\n      if (PLUGINS.viewport) {\n        adjusted = position.adjusted = PLUGINS.viewport(this, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight); // Apply offsets supplied by positioning plugin (if used)\n\n        if (offset && adjusted.left) {\n          position.left += offset.left;\n        }\n\n        if (offset && adjusted.top) {\n          position.top += offset.top;\n        } // Apply any new 'my' position\n\n\n        if (adjusted.my) {\n          this.position.my = adjusted.my;\n        }\n      } // Viewport adjustment is disabled, set values to zero\n      else {\n        position.adjusted = {\n          left: 0,\n          top: 0\n        };\n      } // Set tooltip position class if it's changed\n\n\n      if (cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\n        cache.posClass = newClass;\n        tooltip.removeClass(cache.posClass).addClass(newClass);\n      } // tooltipmove event\n\n\n      if (!this._trigger('move', [position, viewport.elem || viewport], event)) {\n        return this;\n      }\n\n      delete position.adjusted; // If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\n\n      if (effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\n        tooltip.css(position);\n      } // Use custom function if provided\n      else if ($.isFunction(posOptions.effect)) {\n        posOptions.effect.call(tooltip, this, $.extend({}, position));\n        tooltip.queue(function (next) {\n          // Reset attributes to avoid cross-browser rendering bugs\n          $(this).css({\n            opacity: '',\n            height: ''\n          });\n\n          if (BROWSER.ie) {\n            this.style.removeAttribute('filter');\n          }\n\n          next();\n        });\n      } // Set positioning flag\n\n\n      this.positioning = FALSE;\n      return this;\n    }; // Custom (more correct for qTip!) offset calculator\n\n\n    PROTOTYPE.reposition.offset = function (elem, pos, container) {\n      if (!container[0]) {\n        return pos;\n      }\n\n      var ownerDocument = $(elem[0].ownerDocument),\n          quirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\n          parent = container[0],\n          scrolled,\n          position,\n          parentOffset,\n          overflow;\n\n      function scroll(e, i) {\n        pos.left += i * e.scrollLeft();\n        pos.top += i * e.scrollTop();\n      } // Compensate for non-static containers offset\n\n\n      do {\n        if ((position = $.css(parent, 'position')) !== 'static') {\n          if (position === 'fixed') {\n            parentOffset = parent.getBoundingClientRect();\n            scroll(ownerDocument, -1);\n          } else {\n            parentOffset = $(parent).position();\n            parentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\n            parentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\n          }\n\n          pos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\n          pos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0); // If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\n\n          if (!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible' && $.prop(parent, 'tagName') !== 'BODY') {\n            scrolled = $(parent);\n          }\n        }\n      } while (parent = parent.offsetParent); // Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\n\n\n      if (scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\n        scroll(scrolled, 1);\n      }\n\n      return pos;\n    }; // Corner class\n\n\n    var C = (CORNER = PROTOTYPE.reposition.Corner = function (corner, forceY) {\n      corner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\n      this.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\n      this.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\n      this.forceY = !!forceY;\n      var f = corner.charAt(0);\n      this.precedance = f === 't' || f === 'b' ? Y : X;\n    }).prototype;\n\n    C.invert = function (z, center) {\n      this[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\n    };\n\n    C.string = function (join) {\n      var x = this.x,\n          y = this.y;\n      var result = x !== y ? x === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ? [y, x] : [x, y] : [x];\n      return join !== false ? result.join(' ') : result;\n    };\n\n    C.abbrev = function () {\n      var result = this.string(false);\n      return result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\n    };\n\n    C.clone = function () {\n      return new CORNER(this.string(), this.forceY);\n    };\n\n    PROTOTYPE.toggle = function (state, event) {\n      var cache = this.cache,\n          options = this.options,\n          tooltip = this.tooltip; // Try to prevent flickering when tooltip overlaps show element\n\n      if (event) {\n        if (/over|enter/.test(event.type) && cache.event && /out|leave/.test(cache.event.type) && options.show.target.add(event.target).length === options.show.target.length && tooltip.has(event.relatedTarget).length) {\n          return this;\n        } // Cache event\n\n\n        cache.event = $.event.fix(event);\n      } // If we're currently waiting and we've just hidden... stop it\n\n\n      this.waiting && !state && (this.hiddenDuringWait = TRUE); // Render the tooltip if showing and it isn't already\n\n      if (!this.rendered) {\n        return state ? this.render(1) : this;\n      } else if (this.destroyed || this.disabled) {\n        return this;\n      }\n\n      var type = state ? 'show' : 'hide',\n          opts = this.options[type],\n          posOptions = this.options.position,\n          contentOptions = this.options.content,\n          width = this.tooltip.css('width'),\n          visible = this.tooltip.is(':visible'),\n          animate = state || opts.target.length === 1,\n          sameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\n          identicalState,\n          allow,\n          after; // Detect state if valid one isn't provided\n\n      if ((typeof state).search('boolean|number')) {\n        state = !visible;\n      } // Check if the tooltip is in an identical state to the new would-be state\n\n\n      identicalState = !tooltip.is(':animated') && visible === state && sameTarget; // Fire tooltip(show/hide) event and check if destroyed\n\n      allow = !identicalState ? !!this._trigger(type, [90]) : NULL; // Check to make sure the tooltip wasn't destroyed in the callback\n\n      if (this.destroyed) {\n        return this;\n      } // If the user didn't stop the method prematurely and we're showing the tooltip, focus it\n\n\n      if (allow !== FALSE && state) {\n        this.focus(event);\n      } // If the state hasn't changed or the user stopped it, return early\n\n\n      if (!allow || identicalState) {\n        return this;\n      } // Set ARIA hidden attribute\n\n\n      $.attr(tooltip[0], 'aria-hidden', !!!state); // Execute state specific properties\n\n      if (state) {\n        // Store show origin coordinates\n        this.mouse && (cache.origin = $.event.fix(this.mouse)); // Update tooltip content & title if it's a dynamic function\n\n        if ($.isFunction(contentOptions.text)) {\n          this._updateContent(contentOptions.text, FALSE);\n        }\n\n        if ($.isFunction(contentOptions.title)) {\n          this._updateTitle(contentOptions.title, FALSE);\n        } // Cache mousemove events for positioning purposes (if not already tracking)\n\n\n        if (!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\n          $(document).bind('mousemove.' + NAMESPACE, this._storeMouse);\n          trackingBound = TRUE;\n        } // Update the tooltip position (set width first to prevent viewport/max-width issues)\n\n\n        if (!width) {\n          tooltip.css('width', tooltip.outerWidth(FALSE));\n        }\n\n        this.reposition(event, arguments[2]);\n\n        if (!width) {\n          tooltip.css('width', '');\n        } // Hide other tooltips if tooltip is solo\n\n\n        if (!!opts.solo) {\n          (typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo)).not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\n        }\n      } else {\n        // Clear show timer if we're hiding\n        clearTimeout(this.timers.show); // Remove cached origin on hide\n\n        delete cache.origin; // Remove mouse tracking event if not needed (all tracking qTips are hidden)\n\n        if (trackingBound && !$(SELECTOR + '[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\n          $(document).unbind('mousemove.' + NAMESPACE);\n          trackingBound = FALSE;\n        } // Blur the tooltip\n\n\n        this.blur(event);\n      } // Define post-animation, state specific properties\n\n\n      after = $.proxy(function () {\n        if (state) {\n          // Prevent antialias from disappearing in IE by removing filter\n          if (BROWSER.ie) {\n            tooltip[0].style.removeAttribute('filter');\n          } // Remove overflow setting to prevent tip bugs\n\n\n          tooltip.css('overflow', ''); // Autofocus elements if enabled\n\n          if ('string' === typeof opts.autofocus) {\n            $(this.options.show.autofocus, tooltip).focus();\n          } // If set, hide tooltip when inactive for delay period\n\n\n          this.options.show.target.trigger('qtip-' + this.id + '-inactive');\n        } else {\n          // Reset CSS states\n          tooltip.css({\n            display: '',\n            visibility: '',\n            opacity: '',\n            left: '',\n            top: ''\n          });\n        } // tooltipvisible/tooltiphidden events\n\n\n        this._trigger(state ? 'visible' : 'hidden');\n      }, this); // If no effect type is supplied, use a simple toggle\n\n      if (opts.effect === FALSE || animate === FALSE) {\n        tooltip[type]();\n        after();\n      } // Use custom function if provided\n      else if ($.isFunction(opts.effect)) {\n        tooltip.stop(1, 1);\n        opts.effect.call(tooltip, this);\n        tooltip.queue('fx', function (n) {\n          after();\n          n();\n        });\n      } // Use basic fade function by default\n      else {\n        tooltip.fadeTo(90, state ? 1 : 0, after);\n      } // If inactive hide method is set, active it\n\n\n      if (state) {\n        opts.target.trigger('qtip-' + this.id + '-inactive');\n      }\n\n      return this;\n    };\n\n    PROTOTYPE.show = function (event) {\n      return this.toggle(TRUE, event);\n    };\n\n    PROTOTYPE.hide = function (event) {\n      return this.toggle(FALSE, event);\n    };\n\n    PROTOTYPE.focus = function (event) {\n      if (!this.rendered || this.destroyed) {\n        return this;\n      }\n\n      var qtips = $(SELECTOR),\n          tooltip = this.tooltip,\n          curIndex = parseInt(tooltip[0].style.zIndex, 10),\n          newIndex = QTIP.zindex + qtips.length; // Only update the z-index if it has changed and tooltip is not already focused\n\n      if (!tooltip.hasClass(CLASS_FOCUS)) {\n        // tooltipfocus event\n        if (this._trigger('focus', [newIndex], event)) {\n          // Only update z-index's if they've changed\n          if (curIndex !== newIndex) {\n            // Reduce our z-index's and keep them properly ordered\n            qtips.each(function () {\n              if (this.style.zIndex > curIndex) {\n                this.style.zIndex = this.style.zIndex - 1;\n              }\n            }); // Fire blur event for focused tooltip\n\n            qtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\n          } // Set the new z-index\n\n\n          tooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n        }\n      }\n\n      return this;\n    };\n\n    PROTOTYPE.blur = function (event) {\n      if (!this.rendered || this.destroyed) {\n        return this;\n      } // Set focused status to FALSE\n\n\n      this.tooltip.removeClass(CLASS_FOCUS); // tooltipblur event\n\n      this._trigger('blur', [this.tooltip.css('zIndex')], event);\n\n      return this;\n    };\n\n    PROTOTYPE.disable = function (state) {\n      if (this.destroyed) {\n        return this;\n      } // If 'toggle' is passed, toggle the current state\n\n\n      if (state === 'toggle') {\n        state = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\n      } // Disable if no state passed\n      else if ('boolean' !== typeof state) {\n        state = TRUE;\n      }\n\n      if (this.rendered) {\n        this.tooltip.toggleClass(CLASS_DISABLED, state).attr('aria-disabled', state);\n      }\n\n      this.disabled = !!state;\n      return this;\n    };\n\n    PROTOTYPE.enable = function () {\n      return this.disable(FALSE);\n    };\n\n    PROTOTYPE._createButton = function () {\n      var self = this,\n          elements = this.elements,\n          tooltip = elements.tooltip,\n          button = this.options.content.button,\n          isString = typeof button === 'string',\n          close = isString ? button : 'Close tooltip';\n\n      if (elements.button) {\n        elements.button.remove();\n      } // Use custom button if one was supplied by user, else use default\n\n\n      if (button.jquery) {\n        elements.button = button;\n      } else {\n        elements.button = $('<a />', {\n          'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE + '-icon'),\n          'title': close,\n          'aria-label': close\n        }).prepend($('<span />', {\n          'class': 'ui-icon ui-icon-close',\n          'html': '&times;'\n        }));\n      } // Create button and setup attributes\n\n\n      elements.button.appendTo(elements.titlebar || tooltip).attr('role', 'button').click(function (event) {\n        if (!tooltip.hasClass(CLASS_DISABLED)) {\n          self.hide(event);\n        }\n\n        return FALSE;\n      });\n    };\n\n    PROTOTYPE._updateButton = function (button) {\n      // Make sure tooltip is rendered and if not, return\n      if (!this.rendered) {\n        return FALSE;\n      }\n\n      var elem = this.elements.button;\n\n      if (button) {\n        this._createButton();\n      } else {\n        elem.remove();\n      }\n    };\n\n    function createWidgetClass(cls) {\n      return WIDGET.concat('').join(cls ? '-' + cls + ' ' : ' ');\n    } // Widget class setter method\n\n\n    PROTOTYPE._setWidget = function () {\n      var on = this.options.style.widget,\n          elements = this.elements,\n          tooltip = elements.tooltip,\n          disabled = tooltip.hasClass(CLASS_DISABLED);\n      tooltip.removeClass(CLASS_DISABLED);\n      CLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\n      tooltip.toggleClass(CLASS_DISABLED, disabled);\n      tooltip.toggleClass('ui-helper-reset ' + createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\n\n      if (elements.content) {\n        elements.content.toggleClass(createWidgetClass('content'), on);\n      }\n\n      if (elements.titlebar) {\n        elements.titlebar.toggleClass(createWidgetClass('header'), on);\n      }\n\n      if (elements.button) {\n        elements.button.toggleClass(NAMESPACE + '-icon', !on);\n      }\n    };\n\n    function delay(callback, duration) {\n      // If tooltip has displayed, start hide timer\n      if (duration > 0) {\n        return setTimeout($.proxy(callback, this), duration);\n      } else {\n        callback.call(this);\n      }\n    }\n\n    function showMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED)) {\n        return;\n      } // Clear hide timers\n\n\n      clearTimeout(this.timers.show);\n      clearTimeout(this.timers.hide); // Start show timer\n\n      this.timers.show = delay.call(this, function () {\n        this.toggle(TRUE, event);\n      }, this.options.show.delay);\n    }\n\n    function hideMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) {\n        return;\n      } // Check if new target was actually the tooltip element\n\n\n      var relatedTarget = $(event.relatedTarget),\n          ontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\n          ontoTarget = relatedTarget[0] === this.options.show.target[0]; // Clear timers and stop animation queue\n\n      clearTimeout(this.timers.show);\n      clearTimeout(this.timers.hide); // Prevent hiding if tooltip is fixed and event target is the tooltip.\n      // Or if mouse positioning is enabled and cursor momentarily overlaps\n\n      if (this !== relatedTarget[0] && this.options.position.target === 'mouse' && ontoTooltip || this.options.hide.fixed && /mouse(out|leave|move)/.test(event.type) && (ontoTooltip || ontoTarget)) {\n        /* eslint-disable no-empty */\n        try {\n          event.preventDefault();\n          event.stopImmediatePropagation();\n        } catch (e) {}\n        /* eslint-enable no-empty */\n\n\n        return;\n      } // If tooltip has displayed, start hide timer\n\n\n      this.timers.hide = delay.call(this, function () {\n        this.toggle(FALSE, event);\n      }, this.options.hide.delay, this);\n    }\n\n    function inactiveMethod(event) {\n      if (this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) {\n        return;\n      } // Clear timer\n\n\n      clearTimeout(this.timers.inactive);\n      this.timers.inactive = delay.call(this, function () {\n        this.hide(event);\n      }, this.options.hide.inactive);\n    }\n\n    function repositionMethod(event) {\n      if (this.rendered && this.tooltip[0].offsetWidth > 0) {\n        this.reposition(event);\n      }\n    } // Store mouse coordinates\n\n\n    PROTOTYPE._storeMouse = function (event) {\n      (this.mouse = $.event.fix(event)).type = 'mousemove';\n      return this;\n    }; // Bind events\n\n\n    PROTOTYPE._bind = function (targets, events, method, suffix, context) {\n      if (!targets || !method || !events.length) {\n        return;\n      }\n\n      var ns = '.' + this._id + (suffix ? '-' + suffix : '');\n      $(targets).bind((events.split ? events : events.join(ns + ' ')) + ns, $.proxy(method, context || this));\n      return this;\n    };\n\n    PROTOTYPE._unbind = function (targets, suffix) {\n      targets && $(targets).unbind('.' + this._id + (suffix ? '-' + suffix : ''));\n      return this;\n    }; // Global delegation helper\n\n\n    function delegate(selector, events, method) {\n      $(document.body).delegate(selector, (events.split ? events : events.join('.' + NAMESPACE + ' ')) + '.' + NAMESPACE, function () {\n        var api = QTIP.api[$.attr(this, ATTR_ID)];\n        api && !api.disabled && method.apply(api, arguments);\n      });\n    } // Event trigger\n\n\n    PROTOTYPE._trigger = function (type, args, event) {\n      var callback = new $.Event('tooltip' + type);\n      callback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\n      this.triggering = type;\n      this.tooltip.trigger(callback, [this].concat(args || []));\n      this.triggering = FALSE;\n      return !callback.isDefaultPrevented();\n    };\n\n    PROTOTYPE._bindEvents = function (showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\n      // Get tasrgets that lye within both\n      var similarTargets = showTargets.filter(hideTargets).add(hideTargets.filter(showTargets)),\n          toggleEvents = []; // If hide and show targets are the same...\n\n      if (similarTargets.length) {\n        // Filter identical show/hide events\n        $.each(hideEvents, function (i, type) {\n          var showIndex = $.inArray(type, showEvents); // Both events are identical, remove from both hide and show events\n          // and append to toggleEvents\n\n          showIndex > -1 && toggleEvents.push(showEvents.splice(showIndex, 1)[0]);\n        }); // Toggle events are special case of identical show/hide events, which happen in sequence\n\n        if (toggleEvents.length) {\n          // Bind toggle events to the similar targets\n          this._bind(similarTargets, toggleEvents, function (event) {\n            var state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\n            (state ? hideCallback : showCallback).call(this, event);\n          }); // Remove the similar targets from the regular show/hide bindings\n\n\n          showTargets = showTargets.not(similarTargets);\n          hideTargets = hideTargets.not(similarTargets);\n        }\n      } // Apply show/hide/toggle events\n\n\n      this._bind(showTargets, showEvents, showCallback);\n\n      this._bind(hideTargets, hideEvents, hideCallback);\n    };\n\n    PROTOTYPE._assignInitialEvents = function (event) {\n      var options = this.options,\n          showTarget = options.show.target,\n          hideTarget = options.hide.target,\n          showEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n          hideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : []; // Catch remove/removeqtip events on target element to destroy redundant tooltips\n\n      this._bind(this.elements.target, ['remove', 'removeqtip'], function () {\n        this.destroy(true);\n      }, 'destroy');\n      /*\n       * Make sure hoverIntent functions properly by using mouseleave as a hide event if\n       * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n       */\n\n\n      if (/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\n        hideEvents.push('mouseleave');\n      }\n      /*\n       * Also make sure initial mouse targetting works correctly by caching mousemove coords\n       * on show targets before the tooltip has rendered. Also set onTarget when triggered to\n       * keep mouse tracking working.\n       */\n\n\n      this._bind(showTarget, 'mousemove', function (moveEvent) {\n        this._storeMouse(moveEvent);\n\n        this.cache.onTarget = TRUE;\n      }); // Define hoverIntent function\n\n\n      function hoverIntent(hoverEvent) {\n        // Only continue if tooltip isn't disabled\n        if (this.disabled || this.destroyed) {\n          return FALSE;\n        } // Cache the event data\n\n\n        this.cache.event = hoverEvent && $.event.fix(hoverEvent);\n        this.cache.target = hoverEvent && $(hoverEvent.target); // Start the event sequence\n\n        clearTimeout(this.timers.show);\n        this.timers.show = delay.call(this, function () {\n          this.render(typeof hoverEvent === 'object' || options.show.ready);\n        }, options.prerender ? 0 : options.show.delay);\n      } // Filter and bind events\n\n\n      this._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function () {\n        if (!this.timers) {\n          return FALSE;\n        }\n\n        clearTimeout(this.timers.show);\n      }); // Prerendering is enabled, create tooltip now\n\n\n      if (options.show.ready || options.prerender) {\n        hoverIntent.call(this, event);\n      }\n    }; // Event assignment method\n\n\n    PROTOTYPE._assignEvents = function () {\n      var self = this,\n          options = this.options,\n          posOptions = options.position,\n          tooltip = this.tooltip,\n          showTarget = options.show.target,\n          hideTarget = options.hide.target,\n          containerTarget = posOptions.container,\n          viewportTarget = posOptions.viewport,\n          documentTarget = $(document),\n          windowTarget = $(window),\n          showEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n          hideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : []; // Assign passed event callbacks\n\n      $.each(options.events, function (name, callback) {\n        self._bind(tooltip, name === 'toggle' ? ['tooltipshow', 'tooltiphide'] : ['tooltip' + name], callback, null, tooltip);\n      }); // Hide tooltips when leaving current window/frame (but not select/option elements)\n\n      if (/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\n        this._bind(documentTarget, ['mouseout', 'blur'], function (event) {\n          if (!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\n            this.hide(event);\n          }\n        });\n      } // Enable hide.fixed by adding appropriate class\n\n\n      if (options.hide.fixed) {\n        hideTarget = hideTarget.add(tooltip.addClass(CLASS_FIXED));\n      }\n      /*\n       * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\n       * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n       */\n      else if (/mouse(over|enter)/i.test(options.show.event)) {\n        this._bind(hideTarget, 'mouseleave', function () {\n          clearTimeout(this.timers.show);\n        });\n      } // Hide tooltip on document mousedown if unfocus events are enabled\n\n\n      if (('' + options.hide.event).indexOf('unfocus') > -1) {\n        this._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function (event) {\n          var elem = $(event.target),\n              enabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\n              isAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\n\n          if (elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor && !this.target.has(elem[0]).length && enabled) {\n            this.hide(event);\n          }\n        });\n      } // Check if the tooltip hides when inactive\n\n\n      if ('number' === typeof options.hide.inactive) {\n        // Bind inactive method to show target(s) as a custom event\n        this._bind(showTarget, 'qtip-' + this.id + '-inactive', inactiveMethod, 'inactive'); // Define events which reset the 'inactive' event handler\n\n\n        this._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\n      } // Filter and bind events\n\n\n      this._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod); // Mouse movement bindings\n\n\n      this._bind(showTarget.add(tooltip), 'mousemove', function (event) {\n        // Check if the tooltip hides when mouse is moved a certain distance\n        if ('number' === typeof options.hide.distance) {\n          var origin = this.cache.origin || {},\n              limit = this.options.hide.distance,\n              abs = Math.abs; // Check if the movement has gone beyond the limit, and hide it if so\n\n          if (abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\n            this.hide(event);\n          }\n        } // Cache mousemove coords on show targets\n\n\n        this._storeMouse(event);\n      }); // Mouse positioning events\n\n\n      if (posOptions.target === 'mouse') {\n        // If mouse adjustment is on...\n        if (posOptions.adjust.mouse) {\n          // Apply a mouseleave event so we don't get problems with overlapping\n          if (options.hide.event) {\n            // Track if we're on the target or not\n            this._bind(showTarget, ['mouseenter', 'mouseleave'], function (event) {\n              if (!this.cache) {\n                return FALSE;\n              }\n\n              this.cache.onTarget = event.type === 'mouseenter';\n            });\n          } // Update tooltip position on mousemove\n\n\n          this._bind(documentTarget, 'mousemove', function (event) {\n            // Update the tooltip position only if the tooltip is visible and adjustment is enabled\n            if (this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\n              this.reposition(event);\n            }\n          });\n        }\n      } // Adjust positions of the tooltip on window resize if enabled\n\n\n      if (posOptions.adjust.resize || viewportTarget.length) {\n        this._bind($.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod);\n      } // Adjust tooltip position on scroll of the window or viewport element if present\n\n\n      if (posOptions.adjust.scroll) {\n        this._bind(windowTarget.add(posOptions.container), 'scroll', repositionMethod);\n      }\n    }; // Un-assignment method\n\n\n    PROTOTYPE._unassignEvents = function () {\n      var options = this.options,\n          showTargets = options.show.target,\n          hideTargets = options.hide.target,\n          targets = $.grep([this.elements.target[0], this.rendered && this.tooltip[0], options.position.container[0], options.position.viewport[0], options.position.container.closest('html')[0], // unfocus\n      window, document], function (i) {\n        return typeof i === 'object';\n      }); // Add show and hide targets if they're valid\n\n      if (showTargets && showTargets.toArray) {\n        targets = targets.concat(showTargets.toArray());\n      }\n\n      if (hideTargets && hideTargets.toArray) {\n        targets = targets.concat(hideTargets.toArray());\n      } // Unbind the events\n\n\n      this._unbind(targets)._unbind(targets, 'destroy')._unbind(targets, 'inactive');\n    }; // Apply common event handlers using delegate (avoids excessive .bind calls!)\n\n\n    $(function () {\n      delegate(SELECTOR, ['mouseenter', 'mouseleave'], function (event) {\n        var state = event.type === 'mouseenter',\n            tooltip = $(event.currentTarget),\n            target = $(event.relatedTarget || event.target),\n            options = this.options; // On mouseenter...\n\n        if (state) {\n          // Focus the tooltip on mouseenter (z-index stacking)\n          this.focus(event); // Clear hide timer on tooltip hover to prevent it from closing\n\n          tooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\n        } // On mouseleave...\n        else {\n          // When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\n          if (options.position.target === 'mouse' && options.position.adjust.mouse && options.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\n            this.hide(event);\n          }\n        } // Add hover class\n\n\n        tooltip.toggleClass(CLASS_HOVER, state);\n      }); // Define events which reset the 'inactive' event handler\n\n      delegate('[' + ATTR_ID + ']', INACTIVE_EVENTS, inactiveMethod);\n    });\n\n    function init(elem, id, opts) {\n      var obj,\n          posOptions,\n          attr,\n          config,\n          title,\n          // Setup element references\n      docBody = $(document.body),\n          // Use document body instead of document element if needed\n      newTarget = elem[0] === document ? docBody : elem,\n          // Grab metadata from element if plugin is present\n      metadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\n          // If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\n      metadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\n          // Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\n      html5 = elem.data(opts.metadata.name || 'qtipopts'); // If we don't get an object returned attempt to parse it manualyl without parseJSON\n\n      /* eslint-disable no-empty */\n\n      try {\n        html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5;\n      } catch (e) {}\n      /* eslint-enable no-empty */\n      // Merge in and sanitize metadata\n\n\n      config = $.extend(TRUE, {}, QTIP.defaults, opts, typeof html5 === 'object' ? sanitizeOptions(html5) : NULL, sanitizeOptions(metadata5 || metadata)); // Re-grab our positioning options now we've merged our metadata and set id to passed value\n\n      posOptions = config.position;\n      config.id = id; // Setup missing content if none is detected\n\n      if ('boolean' === typeof config.content.text) {\n        attr = elem.attr(config.content.attr); // Grab from supplied attribute if available\n\n        if (config.content.attr !== FALSE && attr) {\n          config.content.text = attr;\n        } // No valid content was found, abort render\n        else {\n          return FALSE;\n        }\n      } // Setup target options\n\n\n      if (!posOptions.container.length) {\n        posOptions.container = docBody;\n      }\n\n      if (posOptions.target === FALSE) {\n        posOptions.target = newTarget;\n      }\n\n      if (config.show.target === FALSE) {\n        config.show.target = newTarget;\n      }\n\n      if (config.show.solo === TRUE) {\n        config.show.solo = posOptions.container.closest('body');\n      }\n\n      if (config.hide.target === FALSE) {\n        config.hide.target = newTarget;\n      }\n\n      if (config.position.viewport === TRUE) {\n        config.position.viewport = posOptions.container;\n      } // Ensure we only use a single container\n\n\n      posOptions.container = posOptions.container.eq(0); // Convert position corner values into x and y strings\n\n      posOptions.at = new CORNER(posOptions.at, TRUE);\n      posOptions.my = new CORNER(posOptions.my); // Destroy previous tooltip if overwrite is enabled, or skip element if not\n\n      if (elem.data(NAMESPACE)) {\n        if (config.overwrite) {\n          elem.qtip('destroy', true);\n        } else if (config.overwrite === FALSE) {\n          return FALSE;\n        }\n      } // Add has-qtip attribute\n\n\n      elem.attr(ATTR_HAS, id); // Remove title attribute and store it if present\n\n      if (config.suppress && (title = elem.attr('title'))) {\n        // Final attr call fixes event delegation and IE default tooltip showing problem\n        elem.removeAttr('title').attr(oldtitle, title).attr('title', '');\n      } // Initialize the tooltip and add API reference\n\n\n      obj = new QTip(elem, config, id, !!attr);\n      elem.data(NAMESPACE, obj);\n      return obj;\n    } // jQuery $.fn extension method\n\n\n    QTIP = $.fn.qtip = function (options, notation, newValue) {\n      var command = ('' + options).toLowerCase(),\n          // Parse command\n      returned = NULL,\n          args = $.makeArray(arguments).slice(1),\n          event = args[args.length - 1],\n          opts = this[0] ? $.data(this[0], NAMESPACE) : NULL; // Check for API request\n\n      if (!arguments.length && opts || command === 'api') {\n        return opts;\n      } // Execute API command if present\n      else if ('string' === typeof options) {\n        this.each(function () {\n          var api = $.data(this, NAMESPACE);\n\n          if (!api) {\n            return TRUE;\n          } // Cache the event if possible\n\n\n          if (event && event.timeStamp) {\n            api.cache.event = event;\n          } // Check for specific API commands\n\n\n          if (notation && (command === 'option' || command === 'options')) {\n            if (newValue !== undefined$1 || $.isPlainObject(notation)) {\n              api.set(notation, newValue);\n            } else {\n              returned = api.get(notation);\n              return FALSE;\n            }\n          } // Execute API command\n          else if (api[command]) {\n            api[command].apply(api, args);\n          }\n        });\n        return returned !== NULL ? returned : this;\n      } // No API commands. validate provided options and setup qTips\n      else if ('object' === typeof options || !arguments.length) {\n        // Sanitize options first\n        opts = sanitizeOptions($.extend(TRUE, {}, options));\n        return this.each(function (i) {\n          var api, id; // Find next available ID, or use custom ID if provided\n\n          id = $.isArray(opts.id) ? opts.id[i] : opts.id;\n          id = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id; // Initialize the qTip and re-grab newly sanitized options\n\n          api = init($(this), id, opts);\n\n          if (api === FALSE) {\n            return TRUE;\n          } else {\n            QTIP.api[id] = api;\n          } // Initialize plugins\n\n\n          $.each(PLUGINS, function () {\n            if (this.initialize === 'initialize') {\n              this(api);\n            }\n          }); // Assign initial pre-render events\n\n          api._assignInitialEvents(event);\n        });\n      }\n    }; // Expose class\n\n\n    $.qtip = QTip; // Populated in render method\n\n    QTIP.api = {};\n    $.each({\n      /* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\n      attr: function (attr, val) {\n        if (this.length) {\n          var self = this[0],\n              title = 'title',\n              api = $.data(self, 'qtip');\n\n          if (attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\n            if (arguments.length < 2) {\n              return $.attr(self, oldtitle);\n            } // If qTip is rendered and title was originally used as content, update it\n\n\n            if (api && api.options.content.attr === title && api.cache.attr) {\n              api.set('content.text', val);\n            } // Use the regular attr method to set, then cache the result\n\n\n            return this.attr(oldtitle, val);\n          }\n        }\n\n        return $.fn['attr' + replaceSuffix].apply(this, arguments);\n      },\n\n      /* Allow clone to correctly retrieve cached title attributes */\n      clone: function (keepData) {\n        // Clone our element using the real clone method\n        var elems = $.fn['clone' + replaceSuffix].apply(this, arguments); // Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\n\n        if (!keepData) {\n          elems.filter('[' + oldtitle + ']').attr('title', function () {\n            return $.attr(this, oldtitle);\n          }).removeAttr(oldtitle);\n        }\n\n        return elems;\n      }\n    }, function (name, func) {\n      if (!func || $.fn[name + replaceSuffix]) {\n        return TRUE;\n      }\n\n      var old = $.fn[name + replaceSuffix] = $.fn[name];\n\n      $.fn[name] = function () {\n        return func.apply(this, arguments) || old.apply(this, arguments);\n      };\n    });\n    /* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\n     * This snippet is taken directly from jQuery UI source code found here:\n     *     http://code.jquery.com/ui/jquery-ui-git.js\n     */\n\n    if (!$.ui) {\n      $['cleanData' + replaceSuffix] = $.cleanData;\n\n      $.cleanData = function (elems) {\n        for (var i = 0, elem; (elem = $(elems[i])).length; i++) {\n          if (elem.attr(ATTR_HAS)) {\n            /* eslint-disable no-empty */\n            try {\n              elem.triggerHandler('removeqtip');\n            } catch (e) {}\n            /* eslint-enable no-empty */\n\n          }\n        }\n\n        $['cleanData' + replaceSuffix].apply(this, arguments);\n      };\n    }\n\n    QTIP.version = '3.0.3-5-g'; // Base ID for all qTips\n\n    QTIP.nextid = 0; // Inactive events array\n\n    QTIP.inactiveEvents = INACTIVE_EVENTS; // Base z-index for all qTips\n\n    QTIP.zindex = 15000; // Define configuration defaults\n\n    QTIP.defaults = {\n      prerender: FALSE,\n      id: FALSE,\n      overwrite: TRUE,\n      suppress: TRUE,\n      content: {\n        text: TRUE,\n        attr: 'title',\n        title: FALSE,\n        button: FALSE\n      },\n      position: {\n        my: 'top left',\n        at: 'bottom right',\n        target: FALSE,\n        container: FALSE,\n        viewport: FALSE,\n        adjust: {\n          x: 0,\n          y: 0,\n          mouse: TRUE,\n          scroll: TRUE,\n          resize: TRUE,\n          method: 'flipinvert flipinvert'\n        },\n        effect: function (api, pos) {\n          $(this).animate(pos, {\n            duration: 200,\n            queue: FALSE\n          });\n        }\n      },\n      show: {\n        target: FALSE,\n        event: 'mouseenter',\n        effect: TRUE,\n        delay: 90,\n        solo: FALSE,\n        ready: FALSE,\n        autofocus: FALSE\n      },\n      hide: {\n        target: FALSE,\n        event: 'mouseleave',\n        effect: TRUE,\n        delay: 0,\n        fixed: FALSE,\n        inactive: FALSE,\n        leave: 'window',\n        distance: FALSE\n      },\n      style: {\n        classes: '',\n        widget: FALSE,\n        width: FALSE,\n        height: FALSE,\n        def: TRUE\n      },\n      events: {\n        render: NULL,\n        move: NULL,\n        show: NULL,\n        hide: NULL,\n        toggle: NULL,\n        visible: NULL,\n        hidden: NULL,\n        focus: NULL,\n        blur: NULL\n      }\n    };\n    var TIP,\n        createVML,\n        SCALE,\n        PIXEL_RATIO,\n        BACKING_STORE_RATIO,\n        // Common CSS strings\n    MARGIN = 'margin',\n        BORDER = 'border',\n        COLOR = 'color',\n        BG_COLOR = 'background-color',\n        TRANSPARENT = 'transparent',\n        IMPORTANT = ' !important',\n        // Check if the browser supports <canvas/> elements\n    HASCANVAS = !!document.createElement('canvas').getContext,\n        // Invalid colour values used in parseColours()\n    INVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i; // Camel-case method, taken from jQuery source\n    // http://code.jquery.com/jquery-1.8.0.js\n\n    function camel(s) {\n      return s.charAt(0).toUpperCase() + s.slice(1);\n    }\n    /*\n     * Modified from Modernizr's testPropsAll()\n     * http://modernizr.com/downloads/modernizr-latest.js\n     */\n\n\n    var cssProps = {},\n        cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\n\n    function vendorCss(elem, prop) {\n      var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n          props = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\n          cur,\n          val,\n          i = 0; // If the property has already been mapped...\n\n      if (cssProps[prop]) {\n        return elem.css(cssProps[prop]);\n      }\n\n      while (cur = props[i++]) {\n        if ((val = elem.css(cur)) !== undefined$1) {\n          cssProps[prop] = cur;\n          return val;\n        }\n      }\n    } // Parse a given elements CSS property into an int\n\n\n    function intCss(elem, prop) {\n      return Math.ceil(parseFloat(vendorCss(elem, prop)));\n    } // VML creation (for IE only)\n\n\n    if (!HASCANVAS) {\n      createVML = function (tag, props, style) {\n        return '<qtipvml:' + tag + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" ' + (props || '') + ' style=\"behavior: url(#default#VML); ' + (style || '') + '\" />';\n      };\n    } // Canvas only definitions\n    else {\n      PIXEL_RATIO = window.devicePixelRatio || 1;\n\n      BACKING_STORE_RATIO = function () {\n        var context = document.createElement('canvas').getContext('2d');\n        return context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\n      }();\n\n      SCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\n    }\n\n    function Tip(qtip, options) {\n      this._ns = 'tip';\n      this.options = options;\n      this.offset = options.offset;\n      this.size = [options.width, options.height]; // Initialize\n\n      this.qtip = qtip;\n      this.init(qtip);\n    }\n\n    $.extend(Tip.prototype, {\n      init: function (qtip) {\n        var context, tip; // Create tip element and prepend to the tooltip\n\n        tip = this.element = qtip.elements.tip = $('<div />', {\n          'class': NAMESPACE + '-tip'\n        }).prependTo(qtip.tooltip); // Create tip drawing element(s)\n\n        if (HASCANVAS) {\n          // save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\n          context = $('<canvas />').appendTo(this.element)[0].getContext('2d'); // Setup constant parameters\n\n          context.lineJoin = 'miter';\n          context.miterLimit = 100000;\n          context.save();\n        } else {\n          context = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\n          this.element.html(context + context); // Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\n\n          qtip._bind($('*', tip).add(tip), ['click', 'mousedown'], function (event) {\n            event.stopPropagation();\n          }, this._ns);\n        } // Bind update events\n\n\n        qtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this); // Create it\n\n\n        this.create();\n      },\n      _swapDimensions: function () {\n        this.size[0] = this.options.height;\n        this.size[1] = this.options.width;\n      },\n      _resetDimensions: function () {\n        this.size[0] = this.options.width;\n        this.size[1] = this.options.height;\n      },\n      _useTitle: function (corner) {\n        var titlebar = this.qtip.elements.titlebar;\n        return titlebar && (corner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE));\n      },\n      _parseCorner: function (corner) {\n        var my = this.qtip.options.position.my; // Detect corner and mimic properties\n\n        if (corner === FALSE || my === FALSE) {\n          corner = FALSE;\n        } else if (corner === TRUE) {\n          corner = new CORNER(my.string());\n        } else if (!corner.string) {\n          corner = new CORNER(corner);\n          corner.fixed = TRUE;\n        }\n\n        return corner;\n      },\n      _parseWidth: function (corner, side, use) {\n        var elements = this.qtip.elements,\n            prop = BORDER + camel(side) + 'Width';\n        return (use ? intCss(use, prop) : intCss(elements.content, prop) || intCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) || intCss(elements.tooltip, prop)) || 0;\n      },\n      _parseRadius: function (corner) {\n        var elements = this.qtip.elements,\n            prop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\n        return BROWSER.ie < 9 ? 0 : intCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) || intCss(elements.tooltip, prop) || 0;\n      },\n      _invalidColour: function (elem, prop, compare) {\n        var val = elem.css(prop);\n        return !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\n      },\n      _parseColours: function (corner) {\n        var elements = this.qtip.elements,\n            tip = this.element.css('cssText', ''),\n            borderSide = BORDER + camel(corner[corner.precedance]) + camel(COLOR),\n            colorElem = this._useTitle(corner) && elements.titlebar || elements.content,\n            css = this._invalidColour,\n            color = []; // Attempt to detect the background colour from various elements, left-to-right precedance\n\n        color[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) || css(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR); // Attempt to detect the correct border side colour from various elements, left-to-right precedance\n\n        color[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) || css(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide); // Reset background and border colours\n\n        $('*', tip).add(tip).css('cssText', BG_COLOR + ':' + TRANSPARENT + IMPORTANT + ';' + BORDER + ':0' + IMPORTANT + ';');\n        return color;\n      },\n      _calculateSize: function (corner) {\n        var y = corner.precedance === Y,\n            width = this.options.width,\n            height = this.options.height,\n            isCenter = corner.abbrev() === 'c',\n            base = (y ? width : height) * (isCenter ? 0.5 : 1),\n            pow = Math.pow,\n            round = Math.round,\n            bigHyp,\n            ratio,\n            result,\n            smallHyp = Math.sqrt(pow(base, 2) + pow(height, 2)),\n            hyp = [this.border / base * smallHyp, this.border / height * smallHyp];\n        hyp[2] = Math.sqrt(pow(hyp[0], 2) - pow(this.border, 2));\n        hyp[3] = Math.sqrt(pow(hyp[1], 2) - pow(this.border, 2));\n        bigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\n        ratio = bigHyp / smallHyp;\n        result = [round(ratio * width), round(ratio * height)];\n        return y ? result : result.reverse();\n      },\n      // Tip coordinates calculator\n      _calculateTip: function (corner, size, scale) {\n        scale = scale || 1;\n        size = size || this.size;\n        var width = size[0] * scale,\n            height = size[1] * scale,\n            width2 = Math.ceil(width / 2),\n            height2 = Math.ceil(height / 2),\n            // Define tip coordinates in terms of height and width values\n        tips = {\n          br: [0, 0, width, height, width, 0],\n          bl: [0, 0, width, 0, 0, height],\n          tr: [0, height, width, 0, width, height],\n          tl: [0, 0, 0, height, width, height],\n          tc: [0, height, width2, 0, width, height],\n          bc: [0, 0, width, 0, width2, height],\n          rc: [0, 0, width, height2, 0, height],\n          lc: [width, 0, width, height, 0, height2]\n        }; // Set common side shapes\n\n        tips.lt = tips.br;\n        tips.rt = tips.bl;\n        tips.lb = tips.tr;\n        tips.rb = tips.tl;\n        return tips[corner.abbrev()];\n      },\n      // Tip coordinates drawer (canvas)\n      _drawCoords: function (context, coords) {\n        context.beginPath();\n        context.moveTo(coords[0], coords[1]);\n        context.lineTo(coords[2], coords[3]);\n        context.lineTo(coords[4], coords[5]);\n        context.closePath();\n      },\n      create: function () {\n        // Determine tip corner\n        var c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner); // If we have a tip corner...\n\n\n        this.enabled = !!this.corner && this.corner.abbrev() !== 'c';\n\n        if (this.enabled) {\n          // Cache it\n          this.qtip.cache.corner = c.clone(); // Create it\n\n          this.update();\n        } // Toggle tip element\n\n\n        this.element.toggle(this.enabled);\n        return this.corner;\n      },\n      update: function (corner, position) {\n        if (!this.enabled) {\n          return this;\n        }\n\n        var elements = this.qtip.elements,\n            tip = this.element,\n            inner = tip.children(),\n            options = this.options,\n            curSize = this.size,\n            mimic = options.mimic,\n            round = Math.round,\n            color,\n            precedance,\n            context,\n            coords,\n            bigCoords,\n            translate,\n            newSize,\n            border; // Re-determine tip if not already set\n\n        if (!corner) {\n          corner = this.qtip.cache.corner || this.corner;\n        } // Use corner property if we detect an invalid mimic value\n\n\n        if (mimic === FALSE) {\n          mimic = corner;\n        } // Otherwise inherit mimic properties from the corner object as necessary\n        else {\n          mimic = new CORNER(mimic);\n          mimic.precedance = corner.precedance;\n\n          if (mimic.x === 'inherit') {\n            mimic.x = corner.x;\n          } else if (mimic.y === 'inherit') {\n            mimic.y = corner.y;\n          } else if (mimic.x === mimic.y) {\n            mimic[corner.precedance] = corner[corner.precedance];\n          }\n        }\n\n        precedance = mimic.precedance; // Ensure the tip width.height are relative to the tip position\n\n        if (corner.precedance === X) {\n          this._swapDimensions();\n        } else {\n          this._resetDimensions();\n        } // Update our colours\n\n\n        color = this.color = this._parseColours(corner); // Detect border width, taking into account colours\n\n        if (color[1] !== TRANSPARENT) {\n          // Grab border width\n          border = this.border = this._parseWidth(corner, corner[corner.precedance]); // If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\n\n          if (options.border && border < 1 && !INVALID.test(color[1])) {\n            color[0] = color[1];\n          } // Set border width (use detected border width if options.border is true)\n\n\n          this.border = border = options.border !== TRUE ? options.border : border;\n        } // Border colour was invalid, set border to zero\n        else {\n          this.border = border = 0;\n        } // Determine tip size\n\n\n        newSize = this.size = this._calculateSize(corner);\n        tip.css({\n          width: newSize[0],\n          height: newSize[1],\n          lineHeight: newSize[1] + 'px'\n        }); // Calculate tip translation\n\n        if (corner.precedance === Y) {\n          translate = [round(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2), round(mimic.y === TOP ? newSize[1] - curSize[1] : 0)];\n        } else {\n          translate = [round(mimic.x === LEFT ? newSize[0] - curSize[0] : 0), round(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)];\n        } // Canvas drawing implementation\n\n\n        if (HASCANVAS) {\n          // Grab canvas context and clear/save it\n          context = inner[0].getContext('2d');\n          context.restore();\n          context.save();\n          context.clearRect(0, 0, 6000, 6000); // Calculate coordinates\n\n          coords = this._calculateTip(mimic, curSize, SCALE);\n          bigCoords = this._calculateTip(mimic, this.size, SCALE); // Set the canvas size using calculated size\n\n          inner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\n          inner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]); // Draw the outer-stroke tip\n\n          this._drawCoords(context, bigCoords);\n\n          context.fillStyle = color[1];\n          context.fill(); // Draw the actual tip\n\n          context.translate(translate[0] * SCALE, translate[1] * SCALE);\n\n          this._drawCoords(context, coords);\n\n          context.fillStyle = color[0];\n          context.fill();\n        } // VML (IE Proprietary implementation)\n        else {\n          // Calculate coordinates\n          coords = this._calculateTip(mimic); // Setup coordinates string\n\n          coords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] + ',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe'; // Setup VML-specific offset for pixel-perfection\n\n          translate[2] = border && /^(r|b)/i.test(corner.string()) ? BROWSER.ie === 8 ? 2 : 1 : 0; // Set initial CSS\n\n          inner.css({\n            coordsize: newSize[0] + border + ' ' + newSize[1] + border,\n            antialias: '' + (mimic.string().indexOf(CENTER) > -1),\n            left: translate[0] - translate[2] * Number(precedance === X),\n            top: translate[1] - translate[2] * Number(precedance === Y),\n            width: newSize[0] + border,\n            height: newSize[1] + border\n          }).each(function (i) {\n            var $this = $(this); // Set shape specific attributes\n\n            $this[$this.prop ? 'prop' : 'attr']({\n              coordsize: newSize[0] + border + ' ' + newSize[1] + border,\n              path: coords,\n              fillcolor: color[0],\n              filled: !!i,\n              stroked: !i\n            }).toggle(!!(border || i)); // Check if border is enabled and add stroke element\n\n            !i && $this.html(createVML('stroke', 'weight=\"' + border * 2 + 'px\" color=\"' + color[1] + '\" miterlimit=\"1000\" joinstyle=\"miter\"'));\n          });\n        } // Opera bug #357 - Incorrect tip position\n        // https://github.com/Craga89/qTip2/issues/367\n\n\n        window.opera && setTimeout(function () {\n          elements.tip.css({\n            display: 'inline-block',\n            visibility: 'visible'\n          });\n        }, 1); // Position if needed\n\n        if (position !== FALSE) {\n          this.calculate(corner, newSize);\n        }\n      },\n      calculate: function (corner, size) {\n        if (!this.enabled) {\n          return FALSE;\n        }\n\n        var self = this,\n            elements = this.qtip.elements,\n            tip = this.element,\n            userOffset = this.options.offset,\n            position = {},\n            precedance,\n            corners; // Inherit corner if not provided\n\n        corner = corner || this.corner;\n        precedance = corner.precedance; // Determine which tip dimension to use for adjustment\n\n        size = size || this._calculateSize(corner); // Setup corners and offset array\n\n        corners = [corner.x, corner.y];\n\n        if (precedance === X) {\n          corners.reverse();\n        } // Calculate tip position\n\n\n        $.each(corners, function (i, side) {\n          var b, bc, br;\n\n          if (side === CENTER) {\n            b = precedance === Y ? LEFT : TOP;\n            position[b] = '50%';\n            position[MARGIN + '-' + b] = -Math.round(size[precedance === Y ? 0 : 1] / 2) + userOffset;\n          } else {\n            b = self._parseWidth(corner, side, elements.tooltip);\n            bc = self._parseWidth(corner, side, elements.content);\n            br = self._parseRadius(corner);\n            position[side] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\n          }\n        }); // Adjust for tip size\n\n        position[corner[precedance]] -= size[precedance === X ? 0 : 1]; // Set and return new position\n\n        tip.css({\n          margin: '',\n          top: '',\n          bottom: '',\n          left: '',\n          right: ''\n        }).css(position);\n        return position;\n      },\n      reposition: function (event, api, pos) {\n        if (!this.enabled) {\n          return;\n        }\n\n        var cache = api.cache,\n            newCorner = this.corner.clone(),\n            adjust = pos.adjusted,\n            method = api.options.position.adjust.method.split(' '),\n            horizontal = method[0],\n            vertical = method[1] || method[0],\n            shift = {\n          left: FALSE,\n          top: FALSE,\n          x: 0,\n          y: 0\n        },\n            offset,\n            css = {},\n            props;\n\n        function shiftflip(direction, precedance, popposite, side, opposite) {\n          // Horizontal - Shift or flip method\n          if (direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\n            newCorner.precedance = newCorner.precedance === X ? Y : X;\n          } else if (direction !== SHIFT && adjust[side]) {\n            newCorner[precedance] = newCorner[precedance] === CENTER ? adjust[side] > 0 ? side : opposite : newCorner[precedance] === side ? opposite : side;\n          }\n        }\n\n        function shiftonly(xy, side, opposite) {\n          if (newCorner[xy] === CENTER) {\n            css[MARGIN + '-' + side] = shift[xy] = offset[MARGIN + '-' + side] - adjust[side];\n          } else {\n            props = offset[opposite] !== undefined$1 ? [adjust[side], -offset[side]] : [-adjust[side], offset[side]];\n\n            if ((shift[xy] = Math.max(props[0], props[1])) > props[0]) {\n              pos[side] -= adjust[side];\n              shift[side] = FALSE;\n            }\n\n            css[offset[opposite] !== undefined$1 ? opposite : side] = shift[xy];\n          }\n        } // If our tip position isn't fixed e.g. doesn't adjust with viewport...\n\n\n        if (this.corner.fixed !== TRUE) {\n          // Perform shift/flip adjustments\n          shiftflip(horizontal, X, Y, LEFT, RIGHT);\n          shiftflip(vertical, Y, X, TOP, BOTTOM); // Update and redraw the tip if needed (check cached details of last drawn tip)\n\n          if (newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\n            this.update(newCorner, FALSE);\n          }\n        } // Setup tip offset properties\n\n\n        offset = this.calculate(newCorner); // Readjust offset object to make it left/top\n\n        if (offset.right !== undefined$1) {\n          offset.left = -offset.right;\n        }\n\n        if (offset.bottom !== undefined$1) {\n          offset.top = -offset.bottom;\n        }\n\n        offset.user = this.offset; // Perform shift adjustments\n\n        shift.left = horizontal === SHIFT && !!adjust.left;\n\n        if (shift.left) {\n          shiftonly(X, LEFT, RIGHT);\n        }\n\n        shift.top = vertical === SHIFT && !!adjust.top;\n\n        if (shift.top) {\n          shiftonly(Y, TOP, BOTTOM);\n        }\n        /*\n        * If the tip is adjusted in both dimensions, or in a\n        * direction that would cause it to be anywhere but the\n        * outer border, hide it!\n        */\n\n\n        this.element.css(css).toggle(!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)); // Adjust position to accomodate tip dimensions\n\n        pos.left -= offset.left.charAt ? offset.user : horizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\n        pos.top -= offset.top.charAt ? offset.user : vertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0; // Cache details\n\n        cache.cornerLeft = adjust.left;\n        cache.cornerTop = adjust.top;\n        cache.corner = newCorner.clone();\n      },\n      destroy: function () {\n        // Unbind events\n        this.qtip._unbind(this.qtip.tooltip, this._ns); // Remove the tip element(s)\n\n\n        if (this.qtip.elements.tip) {\n          this.qtip.elements.tip.find('*').remove().end().remove();\n        }\n      }\n    });\n\n    TIP = PLUGINS.tip = function (api) {\n      return new Tip(api, api.options.style.tip);\n    }; // Initialize tip on render\n\n\n    TIP.initialize = 'render'; // Setup plugin sanitization options\n\n    TIP.sanitize = function (options) {\n      if (options.style && 'tip' in options.style) {\n        var opts = options.style.tip;\n\n        if (typeof opts !== 'object') {\n          opts = options.style.tip = {\n            corner: opts\n          };\n        }\n\n        if (!/string|boolean/i.test(typeof opts.corner)) {\n          opts.corner = TRUE;\n        }\n      }\n    }; // Add new option checks for the plugin\n\n\n    CHECKS.tip = {\n      '^position.my|style.tip.(corner|mimic|border)$': function () {\n        // Make sure a tip can be drawn\n        this.create(); // Reposition the tooltip\n\n        this.qtip.reposition();\n      },\n      '^style.tip.(height|width)$': function (obj) {\n        // Re-set dimensions and redraw the tip\n        this.size = [obj.width, obj.height];\n        this.update(); // Reposition the tooltip\n\n        this.qtip.reposition();\n      },\n      '^content.title|style.(classes|widget)$': function () {\n        this.update();\n      }\n    }; // Extend original qTip defaults\n\n    $.extend(TRUE, QTIP.defaults, {\n      style: {\n        tip: {\n          corner: TRUE,\n          mimic: FALSE,\n          width: 6,\n          height: 6,\n          border: TRUE,\n          offset: 0\n        }\n      }\n    });\n    var MODAL,\n        OVERLAY,\n        MODALCLASS = 'qtip-modal',\n        MODALSELECTOR = '.' + MODALCLASS;\n\n    OVERLAY = function () {\n      var self = this,\n          focusableElems = {},\n          current,\n          prevState,\n          elem; // Modified code from jQuery UI 1.10.0 source\n      // http://code.jquery.com/ui/1.10.0/jquery-ui.js\n\n      function focusable(element) {\n        // Use the defined focusable checker when possible\n        if ($.expr[':'].focusable) {\n          return $.expr[':'].focusable;\n        }\n\n        var isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\n            nodeName = element.nodeName && element.nodeName.toLowerCase(),\n            map,\n            mapName,\n            img;\n\n        if ('area' === nodeName) {\n          map = element.parentNode;\n          mapName = map.name;\n\n          if (!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\n            return false;\n          }\n\n          img = $('img[usemap=#' + mapName + ']')[0];\n          return !!img && img.is(':visible');\n        }\n\n        return /input|select|textarea|button|object/.test(nodeName) ? !element.disabled : 'a' === nodeName ? element.href || isTabIndexNotNaN : isTabIndexNotNaN;\n      } // Focus inputs using cached focusable elements (see update())\n\n\n      function focusInputs(blurElems) {\n        // Blurring body element in IE causes window.open windows to unfocus!\n        if (focusableElems.length < 1 && blurElems.length) {\n          blurElems.not('body').blur();\n        } // Focus the inputs\n        else {\n          focusableElems.first().focus();\n        }\n      } // Steal focus from elements outside tooltip\n\n\n      function stealFocus(event) {\n        if (!elem.is(':visible')) {\n          return;\n        }\n\n        var target = $(event.target),\n            tooltip = current.tooltip,\n            container = target.closest(SELECTOR),\n            targetOnTop; // Determine if input container target is above this\n\n        targetOnTop = container.length < 1 ? FALSE : parseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10); // If we're showing a modal, but focus has landed on an input below\n        // this modal, divert focus to the first visible input in this modal\n        // or if we can't find one... the tooltip itself\n\n        if (!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\n          focusInputs(target);\n        }\n      }\n\n      $.extend(self, {\n        init: function () {\n          // Create document overlay\n          elem = self.elem = $('<div />', {\n            id: 'qtip-overlay',\n            html: '<div></div>',\n            mousedown: function () {\n              return FALSE;\n            }\n          }).hide(); // Make sure we can't focus anything outside the tooltip\n\n          $(document.body).bind('focusin' + MODALSELECTOR, stealFocus); // Apply keyboard \"Escape key\" close handler\n\n          $(document).bind('keydown' + MODALSELECTOR, function (event) {\n            if (current && current.options.show.modal.escape && event.keyCode === 27) {\n              current.hide(event);\n            }\n          }); // Apply click handler for blur option\n\n          elem.bind('click' + MODALSELECTOR, function (event) {\n            if (current && current.options.show.modal.blur) {\n              current.hide(event);\n            }\n          });\n          return self;\n        },\n        update: function (api) {\n          // Update current API reference\n          current = api; // Update focusable elements if enabled\n\n          if (api.options.show.modal.stealfocus !== FALSE) {\n            focusableElems = api.tooltip.find('*').filter(function () {\n              return focusable(this);\n            });\n          } else {\n            focusableElems = [];\n          }\n        },\n        toggle: function (api, state, duration) {\n          var tooltip = api.tooltip,\n              options = api.options.show.modal,\n              effect = options.effect,\n              type = state ? 'show' : 'hide',\n              visible = elem.is(':visible'),\n              visibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip); // Set active tooltip API reference\n\n          self.update(api); // If the modal can steal the focus...\n          // Blur the current item and focus anything in the modal we an\n\n          if (state && options.stealfocus !== FALSE) {\n            focusInputs($(':focus'));\n          } // Toggle backdrop cursor style on show\n\n\n          elem.toggleClass('blurs', options.blur); // Append to body on show\n\n          if (state) {\n            elem.appendTo(document.body);\n          } // Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\n\n\n          if (elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\n            return self;\n          } // Stop all animations\n\n\n          elem.stop(TRUE, FALSE); // Use custom function if provided\n\n          if ($.isFunction(effect)) {\n            effect.call(elem, state);\n          } // If no effect type is supplied, use a simple toggle\n          else if (effect === FALSE) {\n            elem[type]();\n          } // Use basic fade function\n          else {\n            elem.fadeTo(parseInt(duration, 10) || 90, state ? 1 : 0, function () {\n              if (!state) {\n                elem.hide();\n              }\n            });\n          } // Reset position and detach from body on hide\n\n\n          if (!state) {\n            elem.queue(function (next) {\n              elem.css({\n                left: '',\n                top: ''\n              });\n\n              if (!$(MODALSELECTOR).length) {\n                elem.detach();\n              }\n\n              next();\n            });\n          } // Cache the state\n\n\n          prevState = state; // If the tooltip is destroyed, set reference to null\n\n          if (current.destroyed) {\n            current = NULL;\n          }\n\n          return self;\n        }\n      });\n      self.init();\n    };\n\n    OVERLAY = new OVERLAY();\n\n    function Modal(api, options) {\n      this.options = options;\n      this._ns = '-modal';\n      this.qtip = api;\n      this.init(api);\n    }\n\n    $.extend(Modal.prototype, {\n      init: function (qtip) {\n        var tooltip = qtip.tooltip; // If modal is disabled... return\n\n        if (!this.options.on) {\n          return this;\n        } // Set overlay reference\n\n\n        qtip.elements.overlay = OVERLAY.elem; // Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\n\n        tooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length); // Apply our show/hide/focus modal events\n\n        qtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function (event, api, duration) {\n          var oEvent = event.originalEvent; // Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\n\n          if (event.target === tooltip[0]) {\n            if (oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\n              /* eslint-disable no-empty */\n              try {\n                event.preventDefault();\n              } catch (e) {}\n              /* eslint-enable no-empty */\n\n            } else if (!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\n              this.toggle(event, event.type === 'tooltipshow', duration);\n            }\n          }\n        }, this._ns, this); // Adjust modal z-index on tooltip focus\n\n\n        qtip._bind(tooltip, 'tooltipfocus', function (event, api) {\n          // If focus was cancelled before it reached us, don't do anything\n          if (event.isDefaultPrevented() || event.target !== tooltip[0]) {\n            return;\n          }\n\n          var qtips = $(MODALSELECTOR),\n              // Keep the modal's lower than other, regular qtips\n          newIndex = QTIP.modal_zindex + qtips.length,\n              curIndex = parseInt(tooltip[0].style.zIndex, 10); // Set overlay z-index\n\n          OVERLAY.elem[0].style.zIndex = newIndex - 1; // Reduce modal z-index's and keep them properly ordered\n\n          qtips.each(function () {\n            if (this.style.zIndex > curIndex) {\n              this.style.zIndex -= 1;\n            }\n          }); // Fire blur event for focused tooltip\n\n          qtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent); // Set the new z-index\n\n          tooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex; // Set current\n\n          OVERLAY.update(api); // Prevent default handling\n\n          /* eslint-disable no-empty */\n\n          try {\n            event.preventDefault();\n          } catch (e) {}\n          /* eslint-enable no-empty */\n\n        }, this._ns, this); // Focus any other visible modals when this one hides\n\n\n        qtip._bind(tooltip, 'tooltiphide', function (event) {\n          if (event.target === tooltip[0]) {\n            $(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\n          }\n        }, this._ns, this);\n      },\n      toggle: function (event, state, duration) {\n        // Make sure default event hasn't been prevented\n        if (event && event.isDefaultPrevented()) {\n          return this;\n        } // Toggle it\n\n\n        OVERLAY.toggle(this.qtip, !!state, duration);\n      },\n      destroy: function () {\n        // Remove modal class\n        this.qtip.tooltip.removeClass(MODALCLASS); // Remove bound events\n\n        this.qtip._unbind(this.qtip.tooltip, this._ns); // Delete element reference\n\n\n        OVERLAY.toggle(this.qtip, FALSE);\n        delete this.qtip.elements.overlay;\n      }\n    });\n\n    MODAL = PLUGINS.modal = function (api) {\n      return new Modal(api, api.options.show.modal);\n    }; // Setup sanitiztion rules\n\n\n    MODAL.sanitize = function (opts) {\n      if (opts.show) {\n        if (typeof opts.show.modal !== 'object') {\n          opts.show.modal = {\n            on: !!opts.show.modal\n          };\n        } else if (typeof opts.show.modal.on === 'undefined') {\n          opts.show.modal.on = TRUE;\n        }\n      }\n    }; // Base z-index for all modal tooltips (use qTip core z-index as a base)\n\n    /* eslint-disable camelcase */\n\n\n    QTIP.modal_zindex = QTIP.zindex - 200;\n    /* eslint-enable camelcase */\n    // Plugin needs to be initialized on render\n\n    MODAL.initialize = 'render'; // Setup option set checks\n\n    CHECKS.modal = {\n      '^show.modal.(on|blur)$': function () {\n        // Initialise\n        this.destroy();\n        this.init(); // Show the modal if not visible already and tooltip is visible\n\n        this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth > 0);\n      }\n    }; // Extend original api defaults\n\n    $.extend(TRUE, QTIP.defaults, {\n      show: {\n        modal: {\n          on: FALSE,\n          effect: TRUE,\n          blur: TRUE,\n          stealfocus: TRUE,\n          escape: TRUE\n        }\n      }\n    });\n\n    PLUGINS.viewport = function (api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight) {\n      var target = posOptions.target,\n          tooltip = api.elements.tooltip,\n          my = posOptions.my,\n          at = posOptions.at,\n          adjust = posOptions.adjust,\n          method = adjust.method.split(' '),\n          methodX = method[0],\n          methodY = method[1] || method[0],\n          viewport = posOptions.viewport,\n          container = posOptions.container,\n          adjusted = {\n        left: 0,\n        top: 0\n      },\n          fixed,\n          newMy,\n          containerOffset,\n          containerStatic,\n          viewportWidth,\n          viewportHeight,\n          viewportScroll,\n          viewportOffset; // If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\n\n      if (!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\n        return adjusted;\n      } // Cach container details\n\n\n      containerOffset = container.offset() || adjusted;\n      containerStatic = container.css('position') === 'static'; // Cache our viewport details\n\n      fixed = tooltip.css('position') === 'fixed';\n      viewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\n      viewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\n      viewportScroll = {\n        left: fixed ? 0 : viewport.scrollLeft(),\n        top: fixed ? 0 : viewport.scrollTop()\n      };\n      viewportOffset = viewport.offset() || adjusted; // Generic calculation method\n\n      function calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\n        var initialPos = position[side1],\n            mySide = my[side],\n            atSide = at[side],\n            isShift = type === SHIFT,\n            myLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\n            atLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\n            sideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\n            overflow1 = sideOffset - initialPos,\n            overflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\n            offset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0); // shift\n\n        if (isShift) {\n          offset = (mySide === side1 ? 1 : -1) * myLength; // Adjust position but keep it within viewport dimensions\n\n          position[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\n          position[side1] = Math.max(-containerOffset[side1] + viewportOffset[side1], initialPos - offset, Math.min(Math.max(-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight), initialPos + offset), position[side1], // Make sure we don't adjust complete off the element when using 'center'\n          mySide === 'center' ? initialPos - myLength : 1E9));\n        } // flip/flipinvert\n        else {\n          // Update adjustment amount depending on if using flipinvert or flip\n          adjustment *= type === FLIPINVERT ? 2 : 0; // Check for overflow on the left/top\n\n          if (overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\n            position[side1] -= offset + adjustment;\n            newMy.invert(side, side1);\n          } // Check for overflow on the bottom/right\n          else if (overflow2 > 0 && (mySide !== side2 || overflow1 > 0)) {\n            position[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\n            newMy.invert(side, side2);\n          } // Make sure we haven't made things worse with the adjustment and reset if so\n\n\n          if (position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\n            position[side1] = initialPos;\n            newMy = my.clone();\n          }\n        }\n\n        return position[side1] - initialPos;\n      } // Set newMy if using flip or flipinvert methods\n\n\n      if (methodX !== 'shift' || methodY !== 'shift') {\n        newMy = my.clone();\n      } // Adjust position based onviewport and adjustment options\n\n\n      adjusted = {\n        left: methodX !== 'none' ? calculate(X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth) : 0,\n        top: methodY !== 'none' ? calculate(Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight) : 0,\n        my: newMy\n      };\n      return adjusted;\n    };\n    PLUGINS.polys = {\n      // POLY area coordinate calculator\n      //\tSpecial thanks to Ed Cradock for helping out with this.\n      //\tUses a binary search algorithm to find suitable coordinates.\n      polygon: function (baseCoords, corner) {\n        var result = {\n          width: 0,\n          height: 0,\n          position: {\n            top: 1e10,\n            right: 0,\n            bottom: 0,\n            left: 1e10\n          },\n          adjustable: FALSE\n        },\n            i = 0,\n            next,\n            coords = [],\n            compareX = 1,\n            compareY = 1,\n            realX = 0,\n            realY = 0,\n            newWidth,\n            newHeight; // First pass, sanitize coords and determine outer edges\n\n        i = baseCoords.length;\n\n        while (i--) {\n          next = [parseInt(baseCoords[--i], 10), parseInt(baseCoords[i + 1], 10)];\n\n          if (next[0] > result.position.right) {\n            result.position.right = next[0];\n          }\n\n          if (next[0] < result.position.left) {\n            result.position.left = next[0];\n          }\n\n          if (next[1] > result.position.bottom) {\n            result.position.bottom = next[1];\n          }\n\n          if (next[1] < result.position.top) {\n            result.position.top = next[1];\n          }\n\n          coords.push(next);\n        } // Calculate height and width from outer edges\n\n\n        newWidth = result.width = Math.abs(result.position.right - result.position.left);\n        newHeight = result.height = Math.abs(result.position.bottom - result.position.top); // If it's the center corner...\n\n        if (corner.abbrev() === 'c') {\n          result.position = {\n            left: result.position.left + result.width / 2,\n            top: result.position.top + result.height / 2\n          };\n        } else {\n          // Second pass, use a binary search algorithm to locate most suitable coordinate\n          while (newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0) {\n            newWidth = Math.floor(newWidth / 2);\n            newHeight = Math.floor(newHeight / 2);\n\n            if (corner.x === LEFT) {\n              compareX = newWidth;\n            } else if (corner.x === RIGHT) {\n              compareX = result.width - newWidth;\n            } else {\n              compareX += Math.floor(newWidth / 2);\n            }\n\n            if (corner.y === TOP) {\n              compareY = newHeight;\n            } else if (corner.y === BOTTOM) {\n              compareY = result.height - newHeight;\n            } else {\n              compareY += Math.floor(newHeight / 2);\n            }\n\n            i = coords.length;\n\n            while (i--) {\n              if (coords.length < 2) {\n                break;\n              }\n\n              realX = coords[i][0] - result.position.left;\n              realY = coords[i][1] - result.position.top;\n\n              if (corner.x === LEFT && realX >= compareX || corner.x === RIGHT && realX <= compareX || corner.x === CENTER && (realX < compareX || realX > result.width - compareX) || corner.y === TOP && realY >= compareY || corner.y === BOTTOM && realY <= compareY || corner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\n                coords.splice(i, 1);\n              }\n            }\n          }\n\n          result.position = {\n            left: coords[0][0],\n            top: coords[0][1]\n          };\n        }\n\n        return result;\n      },\n      rect: function (ax, ay, bx, by) {\n        return {\n          width: Math.abs(bx - ax),\n          height: Math.abs(by - ay),\n          position: {\n            left: Math.min(ax, bx),\n            top: Math.min(ay, by)\n          }\n        };\n      },\n      _angles: {\n        tc: 3 / 2,\n        tr: 7 / 4,\n        tl: 5 / 4,\n        bc: 1 / 2,\n        br: 1 / 4,\n        bl: 3 / 4,\n        rc: 2,\n        lc: 1,\n        c: 0\n      },\n      ellipse: function (cx, cy, rx, ry, corner) {\n        var c = PLUGINS.polys._angles[corner.abbrev()],\n            rxc = c === 0 ? 0 : rx * Math.cos(c * Math.PI),\n            rys = ry * Math.sin(c * Math.PI);\n\n        return {\n          width: rx * 2 - Math.abs(rxc),\n          height: ry * 2 - Math.abs(rys),\n          position: {\n            left: cx + rxc,\n            top: cy + rys\n          },\n          adjustable: FALSE\n        };\n      },\n      circle: function (cx, cy, r, corner) {\n        return PLUGINS.polys.ellipse(cx, cy, r, r, corner);\n      }\n    };\n\n    PLUGINS.svg = function (api, svg, corner) {\n      var elem = svg[0],\n          root = $(elem.ownerSVGElement),\n          ownerDocument = elem.ownerDocument,\n          strokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\n          frameOffset,\n          mtx,\n          transformed,\n          len,\n          next,\n          i,\n          points,\n          result,\n          position; // Ascend the parentNode chain until we find an element with getBBox()\n\n      while (!elem.getBBox) {\n        elem = elem.parentNode;\n      }\n\n      if (!elem.getBBox || !elem.parentNode) {\n        return FALSE;\n      } // Determine which shape calculation to use\n\n\n      switch (elem.nodeName) {\n        case 'ellipse':\n        case 'circle':\n          result = PLUGINS.polys.ellipse(elem.cx.baseVal.value, elem.cy.baseVal.value, (elem.rx || elem.r).baseVal.value + strokeWidth2, (elem.ry || elem.r).baseVal.value + strokeWidth2, corner);\n          break;\n\n        case 'line':\n        case 'polygon':\n        case 'polyline':\n          // Determine points object (line has none, so mimic using array)\n          points = elem.points || [{\n            x: elem.x1.baseVal.value,\n            y: elem.y1.baseVal.value\n          }, {\n            x: elem.x2.baseVal.value,\n            y: elem.y2.baseVal.value\n          }];\n\n          for (result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\n            next = points.getItem ? points.getItem(i) : points[i];\n            result.push.apply(result, [next.x, next.y]);\n          }\n\n          result = PLUGINS.polys.polygon(result, corner);\n          break;\n        // Unknown shape or rectangle? Use bounding box\n\n        default:\n          result = elem.getBBox();\n          result = {\n            width: result.width,\n            height: result.height,\n            position: {\n              left: result.x,\n              top: result.y\n            }\n          };\n          break;\n      } // Shortcut assignments\n\n\n      position = result.position;\n      root = root[0]; // Convert position into a pixel value\n\n      if (root.createSVGPoint) {\n        mtx = elem.getScreenCTM();\n        points = root.createSVGPoint();\n        points.x = position.left;\n        points.y = position.top;\n        transformed = points.matrixTransform(mtx);\n        position.left = transformed.x;\n        position.top = transformed.y;\n      } // Check the element is not in a child document, and if so, adjust for frame elements offset\n\n\n      if (ownerDocument !== document && api.position.target !== 'mouse') {\n        frameOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\n\n        if (frameOffset) {\n          position.left += frameOffset.left;\n          position.top += frameOffset.top;\n        }\n      } // Adjust by scroll offset of owner document\n\n\n      ownerDocument = $(ownerDocument);\n      position.left += ownerDocument.scrollLeft();\n      position.top += ownerDocument.scrollTop();\n      return result;\n    };\n\n    PLUGINS.imagemap = function (api, area, corner) {\n      if (!area.jquery) {\n        area = $(area);\n      }\n\n      var shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\n          image = $('img[usemap=\"#' + area.parent('map').attr('name') + '\"]'),\n          coordsString = $.trim(area.attr('coords')),\n          coordsArray = coordsString.replace(/,$/, '').split(','),\n          imageOffset,\n          coords,\n          i,\n          result,\n          len; // If we can't find the image using the map...\n\n      if (!image.length) {\n        return FALSE;\n      } // Pass coordinates string if polygon\n\n\n      if (shape === 'polygon') {\n        result = PLUGINS.polys.polygon(coordsArray, corner);\n      } // Otherwise parse the coordinates and pass them as arguments\n      else if (PLUGINS.polys[shape]) {\n        for (i = -1, len = coordsArray.length, coords = []; ++i < len;) {\n          coords.push(parseInt(coordsArray[i], 10));\n        }\n\n        result = PLUGINS.polys[shape].apply(this, coords.concat(corner));\n      } // If no shapre calculation method was found, return false\n      else {\n        return FALSE;\n      } // Make sure we account for padding and borders on the image\n\n\n      imageOffset = image.offset();\n      imageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\n      imageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2); // Add image position to offset coordinates\n\n      result.position.left += imageOffset.left;\n      result.position.top += imageOffset.top;\n      return result;\n    };\n    var IE6,\n\n    /*\n     * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\n     * Special thanks to Brandon Aaron\n     */\n    BGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' + ' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' + '-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\n\n    function Ie6(api) {\n      this._ns = 'ie6';\n      this.qtip = api;\n      this.init(api);\n    }\n\n    $.extend(Ie6.prototype, {\n      _scroll: function () {\n        var overlay = this.qtip.elements.overlay;\n        overlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\n      },\n      init: function (qtip) {\n        var tooltip = qtip.tooltip; // Create the BGIFrame element if needed\n\n        if ($('select, object').length < 1) {\n          this.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip); // Update BGIFrame on tooltip move\n\n          qtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\n        } // redraw() container for width/height calculations\n\n\n        this.redrawContainer = $('<div/>', {\n          id: NAMESPACE + '-rcontainer'\n        }).appendTo(document.body); // Fixup modal plugin if present too\n\n        if (qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix')) {\n          qtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\n\n          qtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\n        } // Set dimensions\n\n\n        this.redraw();\n      },\n      adjustBGIFrame: function () {\n        var tooltip = this.qtip.tooltip,\n            dimensions = {\n          height: tooltip.outerHeight(FALSE),\n          width: tooltip.outerWidth(FALSE)\n        },\n            plugin = this.qtip.plugins.tip,\n            tip = this.qtip.elements.tip,\n            tipAdjust,\n            offset; // Adjust border offset\n\n        offset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\n        offset = {\n          left: -offset,\n          top: -offset\n        }; // Adjust for tips plugin\n\n        if (plugin && tip) {\n          tipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\n          offset[tipAdjust[1]] -= tip[tipAdjust[0]]();\n        } // Update bgiframe\n\n\n        this.bgiframe.css(offset).css(dimensions);\n      },\n      // Max/min width simulator function\n      redraw: function () {\n        if (this.qtip.rendered < 1 || this.drawing) {\n          return this;\n        }\n\n        var tooltip = this.qtip.tooltip,\n            style = this.qtip.options.style,\n            container = this.qtip.options.position.container,\n            perc,\n            width,\n            max,\n            min; // Set drawing flag\n\n        this.qtip.drawing = 1; // If tooltip has a set height/width, just set it... like a boss!\n\n        if (style.height) {\n          tooltip.css(HEIGHT, style.height);\n        }\n\n        if (style.width) {\n          tooltip.css(WIDTH, style.width);\n        } // Simulate max/min width if not set width present...\n        else {\n          // Reset width and add fluid class\n          tooltip.css(WIDTH, '').appendTo(this.redrawContainer); // Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\n\n          width = tooltip.width();\n\n          if (width % 2 < 1) {\n            width += 1;\n          } // Grab our max/min properties\n\n\n          max = tooltip.css('maxWidth') || '';\n          min = tooltip.css('minWidth') || ''; // Parse into proper pixel values\n\n          perc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\n          max = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\n          min = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0; // Determine new dimension size based on max/min/current values\n\n          width = max + min ? Math.min(Math.max(width, min), max) : width; // Set the newly calculated width and remvoe fluid class\n\n          tooltip.css(WIDTH, Math.round(width)).appendTo(container);\n        } // Set drawing flag\n\n\n        this.drawing = 0;\n        return this;\n      },\n      destroy: function () {\n        // Remove iframe\n        this.bgiframe && this.bgiframe.remove(); // Remove bound events\n\n        this.qtip._unbind([window, this.qtip.tooltip], this._ns);\n      }\n    });\n\n    IE6 = PLUGINS.ie6 = function (api) {\n      // Proceed only if the browser is IE6\n      return BROWSER.ie === 6 ? new Ie6(api) : FALSE;\n    };\n\n    IE6.initialize = 'render';\n    CHECKS.ie6 = {\n      '^content|style$': function () {\n        this.redraw();\n      }\n    };\n  });\n})(window, document);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}