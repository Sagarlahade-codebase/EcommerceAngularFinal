{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport crossFetch from 'cross-fetch';\nconst appJsonContentTypeRegex = /application\\/\\w*\\+?json/;\nfunction readData(response) {\n  if (response.headers.get('Content-Type') && response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n    return response.json().catch(e => {\n      return {\n        error: e,\n        errorSummary: 'Could not parse server response'\n      };\n    });\n  } else {\n    return response.text();\n  }\n}\nfunction formatResult(status, data, response) {\n  const isObject = typeof data === 'object';\n  const headers = {};\n  for (const pair of response.headers.entries()) {\n    headers[pair[0]] = pair[1];\n  }\n  const result = {\n    responseText: isObject ? JSON.stringify(data) : data,\n    status: status,\n    headers\n  };\n  if (isObject) {\n    result.responseType = 'json';\n    result.responseJSON = data;\n  }\n  return result;\n}\nfunction fetchRequest(method, url, args) {\n  var body = args.data;\n  var headers = args.headers || {};\n  var contentType = headers['Content-Type'] || headers['content-type'] || '';\n  if (body && typeof body !== 'string') {\n    if (appJsonContentTypeRegex.test(contentType)) {\n      body = JSON.stringify(body);\n    } else if (contentType === 'application/x-www-form-urlencoded') {\n      body = Object.entries(body).map(([param, value]) => `${param}=${encodeURIComponent(value)}`).join('&');\n    }\n  }\n  var fetch = window.fetch || crossFetch;\n  var fetchPromise = fetch(url, {\n    method: method,\n    headers: args.headers,\n    body: body,\n    credentials: args.withCredentials ? 'include' : 'omit'\n  });\n  if (!fetchPromise.finally) {\n    fetchPromise = Promise.resolve(fetchPromise);\n  }\n  return fetchPromise.then(function (response) {\n    var error = !response.ok;\n    var status = response.status;\n    return readData(response).then(data => {\n      return formatResult(status, data, response);\n    }).then(result => {\n      var _a;\n      if (error || ((_a = result.responseJSON) === null || _a === void 0 ? void 0 : _a.error)) {\n        throw result;\n      }\n      return result;\n    });\n  });\n}\nexport { fetchRequest as default };","map":{"version":3,"names":["crossFetch","appJsonContentTypeRegex","readData","response","headers","get","toLowerCase","indexOf","json","catch","e","error","errorSummary","text","formatResult","status","data","isObject","pair","entries","result","responseText","JSON","stringify","responseType","responseJSON","fetchRequest","method","url","args","body","contentType","test","Object","map","param","value","encodeURIComponent","join","fetch","window","fetchPromise","credentials","withCredentials","finally","Promise","resolve","then","ok","_a","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-auth-js/esm/browser/fetch/fetchRequest.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport crossFetch from 'cross-fetch';\n\nconst appJsonContentTypeRegex = /application\\/\\w*\\+?json/;\nfunction readData(response) {\n    if (response.headers.get('Content-Type') &&\n        response.headers.get('Content-Type').toLowerCase().indexOf('application/json') >= 0) {\n        return response.json()\n            .catch(e => {\n            return {\n                error: e,\n                errorSummary: 'Could not parse server response'\n            };\n        });\n    }\n    else {\n        return response.text();\n    }\n}\nfunction formatResult(status, data, response) {\n    const isObject = typeof data === 'object';\n    const headers = {};\n    for (const pair of response.headers.entries()) {\n        headers[pair[0]] = pair[1];\n    }\n    const result = {\n        responseText: isObject ? JSON.stringify(data) : data,\n        status: status,\n        headers\n    };\n    if (isObject) {\n        result.responseType = 'json';\n        result.responseJSON = data;\n    }\n    return result;\n}\nfunction fetchRequest(method, url, args) {\n    var body = args.data;\n    var headers = args.headers || {};\n    var contentType = (headers['Content-Type'] || headers['content-type'] || '');\n    if (body && typeof body !== 'string') {\n        if (appJsonContentTypeRegex.test(contentType)) {\n            body = JSON.stringify(body);\n        }\n        else if (contentType === 'application/x-www-form-urlencoded') {\n            body = Object.entries(body)\n                .map(([param, value]) => `${param}=${encodeURIComponent(value)}`)\n                .join('&');\n        }\n    }\n    var fetch = window.fetch || crossFetch;\n    var fetchPromise = fetch(url, {\n        method: method,\n        headers: args.headers,\n        body: body,\n        credentials: args.withCredentials ? 'include' : 'omit'\n    });\n    if (!fetchPromise.finally) {\n        fetchPromise = Promise.resolve(fetchPromise);\n    }\n    return fetchPromise.then(function (response) {\n        var error = !response.ok;\n        var status = response.status;\n        return readData(response)\n            .then(data => {\n            return formatResult(status, data, response);\n        })\n            .then(result => {\n            var _a;\n            if (error || ((_a = result.responseJSON) === null || _a === void 0 ? void 0 : _a.error)) {\n                throw result;\n            }\n            return result;\n        });\n    });\n}\n\nexport { fetchRequest as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}