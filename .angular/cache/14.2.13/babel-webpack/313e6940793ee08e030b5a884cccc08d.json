{"ast":null,"code":"import { loc, createCallout } from '../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport '../internals/BaseHeader.js';\nimport '../internals/BaseFooter.js';\nimport BaseForm from '../internals/BaseForm.js';\nimport '../internals/BaseFormWithPolling.js';\nimport '../internals/BaseOktaVerifyChallengeView.js';\nimport BaseView from '../internals/BaseView.js';\nimport '../components/AuthenticatorEnrollOptions.js';\nimport '../components/AuthenticatorVerifyOptions.js';\nimport '../../../util/FactorUtil.js';\nimport { INTERSTITIAL_REDIRECT_VIEW } from '../../ion/RemediationConstants.js';\nimport '../../../v1/views/admin-consent/ScopeList.js';\nimport '../../../v1/views/consent/ScopeList.js';\nimport './captcha/CaptchaView.js';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage.js';\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\nconst Body = BaseForm.extend({\n  title: function () {\n    let titleString = loc('oie.success.text.signingIn', 'login'); // For more info on the API response available in appState, see IdxResponseBuilder.java\n\n    const app = this.options.appState.get('app');\n    const user = this.options.appState.get('user'); // If the option is not set, we treat that as being the case where we don't render the spinner.\n    // This is to account for the customer hosted scenario, because by default okta-core will pass in\n    // the correct value as set by the option in the Admin UI (which by default is \"DEFAULT\").\n\n    if (!this.redirectView || this.redirectView === INTERSTITIAL_REDIRECT_VIEW.NONE) {\n      titleString = loc('oie.success.text.signingIn.with.ellipsis', 'login');\n      return titleString;\n    }\n    if (oktaUnderscore.isEmpty(app)) {\n      return titleString;\n    }\n    const {\n      label: appInstanceName,\n      name: appDisplayName\n    } = app;\n    const {\n      identifier: userEmail\n    } = user || {};\n    const appName = appInstanceName ? appInstanceName : appDisplayName;\n    if (appName && userEmail && !this.settings.get('features.showIdentifier')) {\n      titleString = loc('oie.success.text.signingIn.with.appName.and.identifier', 'login', [appName, userEmail]);\n    } else if (appName) {\n      titleString = loc('oie.success.text.signingIn.with.appName', 'login', [appName]);\n    }\n    return titleString;\n  },\n  showMessages: function () {\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.selfservice.unlock_user.landing.to.app.signing.in.message', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      const {\n        message: message,\n        links: links\n      } = this.options.appState.get('messages').value.find(msg => msg.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({\n          message: message,\n          links: links\n        })\n      }));\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess: function () {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  },\n  noButtonBar: true,\n  initialize: function () {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.redirectView = this.settings.get('interstitialBeforeLoginRedirect');\n    this.model.set('useRedirect', true);\n    this.trigger('save', this.model);\n  },\n  render: function () {\n    BaseForm.prototype.render.apply(this, arguments);\n    if (this.redirectView === INTERSTITIAL_REDIRECT_VIEW.DEFAULT) {\n      this.add('<div class=\"okta-waiting-spinner\"></div>');\n    }\n  }\n});\nvar AutoRedirectView = BaseView.extend({\n  Body: Body\n});\nexport { AutoRedirectView as default };","map":{"version":3,"names":["loc","createCallout","oktaUnderscore","BaseForm","BaseView","INTERSTITIAL_REDIRECT_VIEW","CustomAccessDeniedErrorMessage","CUSTOM_ACCESS_DENIED_KEY","UNLOCK_USER_SUCCESS_MESSAGE","Body","extend","title","titleString","app","options","appState","get","user","redirectView","NONE","isEmpty","label","appInstanceName","name","appDisplayName","identifier","userEmail","appName","settings","showMessages","isUnlockSuccess","container","text","add","containsMessageStartingWithI18nKey","message","links","value","find","msg","i18n","key","type","content","prototype","call","containsMessageWithI18nKey","noButtonBar","initialize","apply","arguments","model","set","trigger","render","DEFAULT","AutoRedirectView","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v2/view-builder/views/AutoRedirectView.js"],"sourcesContent":["import { loc, createCallout } from '../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport '../internals/BaseHeader.js';\nimport '../internals/BaseFooter.js';\nimport BaseForm from '../internals/BaseForm.js';\nimport '../internals/BaseFormWithPolling.js';\nimport '../internals/BaseOktaVerifyChallengeView.js';\nimport BaseView from '../internals/BaseView.js';\nimport '../components/AuthenticatorEnrollOptions.js';\nimport '../components/AuthenticatorVerifyOptions.js';\nimport '../../../util/FactorUtil.js';\nimport { INTERSTITIAL_REDIRECT_VIEW } from '../../ion/RemediationConstants.js';\nimport '../../../v1/views/admin-consent/ScopeList.js';\nimport '../../../v1/views/consent/ScopeList.js';\nimport './captcha/CaptchaView.js';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage.js';\n\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\nconst Body = BaseForm.extend({\n  title: function () {\n    let titleString = loc('oie.success.text.signingIn', 'login'); // For more info on the API response available in appState, see IdxResponseBuilder.java\n\n    const app = this.options.appState.get('app');\n    const user = this.options.appState.get('user'); // If the option is not set, we treat that as being the case where we don't render the spinner.\n    // This is to account for the customer hosted scenario, because by default okta-core will pass in\n    // the correct value as set by the option in the Admin UI (which by default is \"DEFAULT\").\n\n    if (!this.redirectView || this.redirectView === INTERSTITIAL_REDIRECT_VIEW.NONE) {\n      titleString = loc('oie.success.text.signingIn.with.ellipsis', 'login');\n      return titleString;\n    }\n\n    if (oktaUnderscore.isEmpty(app)) {\n      return titleString;\n    }\n\n    const {\n      label: appInstanceName,\n      name: appDisplayName\n    } = app;\n    const {\n      identifier: userEmail\n    } = user || {};\n    const appName = appInstanceName ? appInstanceName : appDisplayName;\n\n    if (appName && userEmail && !this.settings.get('features.showIdentifier')) {\n      titleString = loc('oie.success.text.signingIn.with.appName.and.identifier', 'login', [appName, userEmail]);\n    } else if (appName) {\n      titleString = loc('oie.success.text.signingIn.with.appName', 'login', [appName]);\n    }\n\n    return titleString;\n  },\n  showMessages: function () {\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.selfservice.unlock_user.landing.to.app.signing.in.message', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      const {\n        message: message,\n        links: links\n      } = this.options.appState.get('messages').value.find(msg => msg.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({\n          message: message,\n          links: links\n        })\n      }));\n      return;\n    }\n\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess: function () {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  },\n  noButtonBar: true,\n  initialize: function () {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.redirectView = this.settings.get('interstitialBeforeLoginRedirect');\n    this.model.set('useRedirect', true);\n    this.trigger('save', this.model);\n  },\n  render: function () {\n    BaseForm.prototype.render.apply(this, arguments);\n\n    if (this.redirectView === INTERSTITIAL_REDIRECT_VIEW.DEFAULT) {\n      this.add('<div class=\"okta-waiting-spinner\"></div>');\n    }\n  }\n});\nvar AutoRedirectView = BaseView.extend({\n  Body: Body\n});\n\nexport { AutoRedirectView as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}