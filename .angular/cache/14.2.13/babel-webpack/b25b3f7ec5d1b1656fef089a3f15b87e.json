{"ast":null,"code":"import _asyncToGenerator from \"/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { post } from '../http/request.js';\nimport { toQueryString } from '../util/url.js';\nimport { getOAuthUrls } from './util/oauth.js';\nimport AuthSdkError from '../errors/AuthSdkError.js';\nimport { btoa as b } from '../crypto/browser.js';\nfunction revokeToken(_x, _x2) {\n  return _revokeToken.apply(this, arguments);\n}\nfunction _revokeToken() {\n  _revokeToken = _asyncToGenerator(function* (sdk, token) {\n    let accessToken = '';\n    let refreshToken = '';\n    if (token) {\n      accessToken = token.accessToken;\n      refreshToken = token.refreshToken;\n    }\n    if (!accessToken && !refreshToken) {\n      throw new AuthSdkError('A valid access or refresh token object is required');\n    }\n    var clientId = sdk.options.clientId;\n    var clientSecret = sdk.options.clientSecret;\n    if (!clientId) {\n      throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n    var revokeUrl = getOAuthUrls(sdk).revokeUrl;\n    var args = toQueryString({\n      token_type_hint: refreshToken ? 'refresh_token' : 'access_token',\n      token: refreshToken || accessToken\n    }).slice(1);\n    var creds = clientSecret ? b(`${clientId}:${clientSecret}`) : b(clientId);\n    return post(sdk, revokeUrl, args, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + creds\n      }\n    });\n  });\n  return _revokeToken.apply(this, arguments);\n}\nexport { revokeToken };","map":{"version":3,"names":["post","toQueryString","getOAuthUrls","AuthSdkError","btoa","b","revokeToken","_x","_x2","_revokeToken","apply","arguments","_asyncToGenerator","sdk","token","accessToken","refreshToken","clientId","options","clientSecret","revokeUrl","args","token_type_hint","slice","creds","headers"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-auth-js/esm/browser/oidc/revokeToken.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { post } from '../http/request.js';\nimport { toQueryString } from '../util/url.js';\nimport { getOAuthUrls } from './util/oauth.js';\nimport AuthSdkError from '../errors/AuthSdkError.js';\nimport { btoa as b } from '../crypto/browser.js';\n\nasync function revokeToken(sdk, token) {\n    let accessToken = '';\n    let refreshToken = '';\n    if (token) {\n        accessToken = token.accessToken;\n        refreshToken = token.refreshToken;\n    }\n    if (!accessToken && !refreshToken) {\n        throw new AuthSdkError('A valid access or refresh token object is required');\n    }\n    var clientId = sdk.options.clientId;\n    var clientSecret = sdk.options.clientSecret;\n    if (!clientId) {\n        throw new AuthSdkError('A clientId must be specified in the OktaAuth constructor to revoke a token');\n    }\n    var revokeUrl = getOAuthUrls(sdk).revokeUrl;\n    var args = toQueryString({\n        token_type_hint: refreshToken ? 'refresh_token' : 'access_token',\n        token: refreshToken || accessToken,\n    }).slice(1);\n    var creds = clientSecret ? b(`${clientId}:${clientSecret}`) : b(clientId);\n    return post(sdk, revokeUrl, args, {\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Authorization': 'Basic ' + creds\n        }\n    });\n}\n\nexport { revokeToken };\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,IAAI,QAAQ,oBAAoB;AACzC,SAASC,aAAa,QAAQ,gBAAgB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,OAAOC,YAAY,MAAM,2BAA2B;AACpD,SAASC,IAAI,IAAIC,CAAC,QAAQ,sBAAsB;AAAC,SAElCC,WAAWA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,YAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,aAAA;EAAAA,YAAA,GAAAG,iBAAA,CAA1B,WAA2BC,GAAG,EAAEC,KAAK,EAAE;IACnC,IAAIC,WAAW,GAAG,EAAE;IACpB,IAAIC,YAAY,GAAG,EAAE;IACrB,IAAIF,KAAK,EAAE;MACPC,WAAW,GAAGD,KAAK,CAACC,WAAW;MAC/BC,YAAY,GAAGF,KAAK,CAACE,YAAY;IACrC;IACA,IAAI,CAACD,WAAW,IAAI,CAACC,YAAY,EAAE;MAC/B,MAAM,IAAIb,YAAY,CAAC,oDAAoD,CAAC;IAChF;IACA,IAAIc,QAAQ,GAAGJ,GAAG,CAACK,OAAO,CAACD,QAAQ;IACnC,IAAIE,YAAY,GAAGN,GAAG,CAACK,OAAO,CAACC,YAAY;IAC3C,IAAI,CAACF,QAAQ,EAAE;MACX,MAAM,IAAId,YAAY,CAAC,4EAA4E,CAAC;IACxG;IACA,IAAIiB,SAAS,GAAGlB,YAAY,CAACW,GAAG,CAAC,CAACO,SAAS;IAC3C,IAAIC,IAAI,GAAGpB,aAAa,CAAC;MACrBqB,eAAe,EAAEN,YAAY,GAAG,eAAe,GAAG,cAAc;MAChEF,KAAK,EAAEE,YAAY,IAAID;IAC3B,CAAC,CAAC,CAACQ,KAAK,CAAC,CAAC,CAAC;IACX,IAAIC,KAAK,GAAGL,YAAY,GAAGd,CAAC,CAAC,GAAGY,QAAQ,IAAIE,YAAY,EAAE,CAAC,GAAGd,CAAC,CAACY,QAAQ,CAAC;IACzE,OAAOjB,IAAI,CAACa,GAAG,EAAEO,SAAS,EAAEC,IAAI,EAAE;MAC9BI,OAAO,EAAE;QACL,cAAc,EAAE,mCAAmC;QACnD,eAAe,EAAE,QAAQ,GAAGD;MAChC;IACJ,CAAC,CAAC;EACN,CAAC;EAAA,OAAAf,YAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,SAASL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}