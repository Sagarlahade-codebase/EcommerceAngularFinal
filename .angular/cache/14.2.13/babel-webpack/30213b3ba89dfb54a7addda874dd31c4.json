{"ast":null,"code":"import { loc } from '../../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport '../../internals/BaseHeader.js';\nimport '../../internals/BaseFooter.js';\nimport BaseForm from '../../internals/BaseForm.js';\nimport '../../internals/BaseFormWithPolling.js';\nimport '../../internals/BaseOktaVerifyChallengeView.js';\nimport BaseView from '../../internals/BaseView.js';\nimport '../../components/AuthenticatorEnrollOptions.js';\nimport '../../components/AuthenticatorVerifyOptions.js';\nimport { getPasswordComplexityDescriptionForHtmlList, removeRequirementsFromError } from '../../utils/AuthenticatorUtil.js';\nimport '../../../../v1/views/admin-consent/ScopeList.js';\nimport '../../../../v1/views/consent/ScopeList.js';\nimport '../captcha/CaptchaView.js';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView.js';\nimport { generatePasswordPolicyHtml } from './PasswordPolicyUtil.js';\nconst Body = BaseForm.extend({\n  title: function () {\n    return loc('oie.password.enroll.title', 'login');\n  },\n  save: function () {\n    return loc('oform.next', 'login');\n  },\n  initialize: function () {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    const policy = this.getPasswordPolicySettings();\n    this.displayPasswordPolicy(policy);\n  },\n  displayPasswordPolicy: function (policy) {\n    if (policy) {\n      const rulesList = getPasswordComplexityDescriptionForHtmlList(policy);\n      generatePasswordPolicyHtml(this, rulesList, true);\n    }\n  },\n  triggerAfterError: function (model, error) {\n    error.responseJSON = removeRequirementsFromError(error.responseJSON);\n    this.options.appState.trigger('afterError', error);\n  },\n  getPasswordPolicySettings: function () {\n    var _relatesToObject$valu;\n\n    // This will be overridden by following scenario since the policies could be different for those.\n    // - password reset (`ReEnrollAuthenticatorPasswordView.js`)\n    //\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    return relatesToObject === null || relatesToObject === void 0 ? void 0 : (_relatesToObject$valu = relatesToObject.value) === null || _relatesToObject$valu === void 0 ? void 0 : _relatesToObject$valu.settings;\n  },\n  getUISchema: function () {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const confirmPassword = {\n      name: 'confirmPassword',\n      label: loc('oie.password.confirmPasswordLabel', 'login'),\n      type: 'password',\n      'label-top': true,\n      params: {\n        showPasswordToggle: this.settings.get('showPasswordToggle')\n      }\n    };\n    const updatedSchema = [];\n    for (let field of uiSchemas) {\n      updatedSchema.push(field);\n      if (field.name === 'credentials.passcode') {\n        updatedSchema.push(confirmPassword);\n      }\n    }\n    return updatedSchema;\n  }\n});\nvar EnrollAuthenticatorPasswordView = BaseAuthenticatorView.extend({\n  Body: Body,\n  createModelClass: function () {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign({\n      confirmPassword: {\n        type: 'string',\n        required: true\n      }\n    }, ModelClass.prototype.local);\n    return ModelClass.extend({\n      local: local,\n      validate: function () {\n        if (this.get('credentials.passcode') !== this.get('confirmPassword') && this.get('credential.value') !== this.get('confirmPassword')) {\n          const errors = {\n            'confirmPassword': loc('password.error.match', 'login')\n          };\n          return errors;\n        } else {\n          return null;\n        }\n      }\n    });\n  }\n});\nexport { EnrollAuthenticatorPasswordView as default };","map":{"version":3,"names":["loc","BaseForm","BaseView","getPasswordComplexityDescriptionForHtmlList","removeRequirementsFromError","BaseAuthenticatorView","generatePasswordPolicyHtml","Body","extend","title","save","initialize","prototype","apply","arguments","policy","getPasswordPolicySettings","displayPasswordPolicy","rulesList","triggerAfterError","model","error","responseJSON","options","appState","trigger","_relatesToObject$valu","relatesToObject","currentViewState","relatesTo","value","settings","getUISchema","uiSchemas","confirmPassword","name","label","type","params","showPasswordToggle","get","updatedSchema","field","push","EnrollAuthenticatorPasswordView","createModelClass","ModelClass","local","Object","assign","required","validate","errors","default"],"sources":["/Users/tushar/Desktop/fullstack-angular-and-springboot-master/source-code/ecommerce-project-release-3.0/09-security-order-history-secure-backend-and-frontend/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v2/view-builder/views/password/EnrollAuthenticatorPasswordView.js"],"sourcesContent":["import { loc } from '../../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/handle-url.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-base64.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-i18n.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-markdown.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-xsrfTokenInput.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport '../../internals/BaseHeader.js';\nimport '../../internals/BaseFooter.js';\nimport BaseForm from '../../internals/BaseForm.js';\nimport '../../internals/BaseFormWithPolling.js';\nimport '../../internals/BaseOktaVerifyChallengeView.js';\nimport BaseView from '../../internals/BaseView.js';\nimport '../../components/AuthenticatorEnrollOptions.js';\nimport '../../components/AuthenticatorVerifyOptions.js';\nimport { getPasswordComplexityDescriptionForHtmlList, removeRequirementsFromError } from '../../utils/AuthenticatorUtil.js';\nimport '../../../../v1/views/admin-consent/ScopeList.js';\nimport '../../../../v1/views/consent/ScopeList.js';\nimport '../captcha/CaptchaView.js';\nimport BaseAuthenticatorView from '../../components/BaseAuthenticatorView.js';\nimport { generatePasswordPolicyHtml } from './PasswordPolicyUtil.js';\n\nconst Body = BaseForm.extend({\n  title: function () {\n    return loc('oie.password.enroll.title', 'login');\n  },\n  save: function () {\n    return loc('oform.next', 'login');\n  },\n  initialize: function () {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    const policy = this.getPasswordPolicySettings();\n    this.displayPasswordPolicy(policy);\n  },\n  displayPasswordPolicy: function (policy) {\n    if (policy) {\n      const rulesList = getPasswordComplexityDescriptionForHtmlList(policy);\n      generatePasswordPolicyHtml(this, rulesList, true);\n    }\n  },\n  triggerAfterError: function (model, error) {\n    error.responseJSON = removeRequirementsFromError(error.responseJSON);\n    this.options.appState.trigger('afterError', error);\n  },\n  getPasswordPolicySettings: function () {\n    var _relatesToObject$valu;\n\n    // This will be overridden by following scenario since the policies could be different for those.\n    // - password reset (`ReEnrollAuthenticatorPasswordView.js`)\n    //\n    const relatesToObject = this.options.currentViewState.relatesTo;\n    return relatesToObject === null || relatesToObject === void 0 ? void 0 : (_relatesToObject$valu = relatesToObject.value) === null || _relatesToObject$valu === void 0 ? void 0 : _relatesToObject$valu.settings;\n  },\n  getUISchema: function () {\n    const uiSchemas = BaseForm.prototype.getUISchema.apply(this, arguments);\n    const confirmPassword = {\n      name: 'confirmPassword',\n      label: loc('oie.password.confirmPasswordLabel', 'login'),\n      type: 'password',\n      'label-top': true,\n      params: {\n        showPasswordToggle: this.settings.get('showPasswordToggle')\n      }\n    };\n    const updatedSchema = [];\n\n    for (let field of uiSchemas) {\n      updatedSchema.push(field);\n\n      if (field.name === 'credentials.passcode') {\n        updatedSchema.push(confirmPassword);\n      }\n    }\n\n    return updatedSchema;\n  }\n});\nvar EnrollAuthenticatorPasswordView = BaseAuthenticatorView.extend({\n  Body: Body,\n  createModelClass: function () {\n    const ModelClass = BaseView.prototype.createModelClass.apply(this, arguments);\n    const local = Object.assign({\n      confirmPassword: {\n        type: 'string',\n        required: true\n      }\n    }, ModelClass.prototype.local);\n    return ModelClass.extend({\n      local: local,\n      validate: function () {\n        if (this.get('credentials.passcode') !== this.get('confirmPassword') && this.get('credential.value') !== this.get('confirmPassword')) {\n          const errors = {\n            'confirmPassword': loc('password.error.match', 'login')\n          };\n          return errors;\n        } else {\n          return null;\n        }\n      }\n    });\n  }\n});\n\nexport { EnrollAuthenticatorPasswordView as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}